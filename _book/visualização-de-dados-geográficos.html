<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 15 Visualização de dados geográficos | Introdução ao R com aplicações em biodiversidade e conservação</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 15 Visualização de dados geográficos | Introdução ao R com aplicações em biodiversidade e conservação" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 15 Visualização de dados geográficos | Introdução ao R com aplicações em biodiversidade e conservação" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  



<meta name="date" content="2021-01-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="diversidade-funcional.html"/>
<link rel="next" href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução ao R com aplicações em biodiversidade e conservação</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Pré-requisitos</a></li>
<li class="chapter" data-level="2" data-path="pré-requisitos-1.html"><a href="pré-requisitos-1.html"><i class="fa fa-check"></i><b>2</b> Pré-requisitos</a></li>
<li class="chapter" data-level="3" data-path="como-usar-este-livro.html"><a href="como-usar-este-livro.html"><i class="fa fa-check"></i><b>3</b> Como usar este livro</a></li>
<li class="chapter" data-level="4" data-path="perguntas-em-ecologia.html"><a href="perguntas-em-ecologia.html"><i class="fa fa-check"></i><b>4</b> Perguntas em ecologia</a></li>
<li class="chapter" data-level="5" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html"><i class="fa fa-check"></i><b>5</b> Introdução à linguagem R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#r-como-calculadora"><i class="fa fa-check"></i><b>5.1</b> R como calculadora</a></li>
<li class="chapter" data-level="5.2" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#programação-orientada-a-objetos"><i class="fa fa-check"></i><b>5.2</b> Programação orientada a objetos</a></li>
<li class="chapter" data-level="5.3" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#tipos-de-objeto-vetor-fator-matriz-data-frame-lista-funções"><i class="fa fa-check"></i><b>5.3</b> Tipos de objeto (vetor, fator, matriz, data frame, lista, funções)</a></li>
<li class="chapter" data-level="5.4" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#entendendo-o-arquivo-de-ajuda-como-buscar-ajuda"><i class="fa fa-check"></i><b>5.4</b> Entendendo o arquivo de ajuda, como buscar ajuda</a></li>
<li class="chapter" data-level="5.5" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#instalando-e-carregando-pacotes-do-cran-e-do-githubgitlab"><i class="fa fa-check"></i><b>5.5</b> Instalando e carregando pacotes do CRAN e do GitHub/GitLab</a></li>
<li class="chapter" data-level="5.6" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#importação-e-exportação-de-dados-readr-readxl-tibble-tidyr-dplyr-stringr-lubridate-e-purrr"><i class="fa fa-check"></i><b>5.6</b> Importação e exportação de dados (readr, readxl, tibble, tidyr, dplyr, stringr, lubridate e purrr?)</a></li>
<li class="chapter" data-level="5.7" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#principais-erros-de-iniciantes-e-a-melhor-forma-de-pedir-ajuda"><i class="fa fa-check"></i><b>5.7</b> Principais erros de iniciantes e a melhor forma de pedir ajuda</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#procurando-e-entendendo-erros"><i class="fa fa-check"></i><b>5.7.1</b> Procurando e entendendo erros</a></li>
<li class="chapter" data-level="5.7.2" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#tentando-resolver-os-erros"><i class="fa fa-check"></i><b>5.7.2</b> Tentando resolver os erros</a></li>
<li class="chapter" data-level="5.7.3" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#idealmente-como-pedir-ajuda"><i class="fa fa-check"></i><b>5.7.3</b> Idealmente, como pedir ajuda?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>6</b> Gráficos</a></li>
<li class="chapter" data-level="7" data-path="estatística-básica.html"><a href="estatística-básica.html"><i class="fa fa-check"></i><b>7</b> Estatística básica</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estatística-básica.html"><a href="estatística-básica.html#teste-t-de-student-para-duas-amostras-independentes"><i class="fa fa-check"></i><b>7.1</b> Teste T (de Student) para duas amostras independentes</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise"><i class="fa fa-check"></i><b>7.1.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.1.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise"><i class="fa fa-check"></i><b>7.1.2</b> Análise</a></li>
<li class="chapter" data-level="7.1.3" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-1"><i class="fa fa-check"></i><b>7.1.3</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="estatística-básica.html"><a href="estatística-básica.html#teste-t-para-amostras-pareadas"><i class="fa fa-check"></i><b>7.2</b> Teste T para amostras pareadas</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-1"><i class="fa fa-check"></i><b>7.2.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.2.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-2"><i class="fa fa-check"></i><b>7.2.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="estatística-básica.html"><a href="estatística-básica.html#correlação-de-pearson"><i class="fa fa-check"></i><b>7.3</b> Correlação de Pearson</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-2"><i class="fa fa-check"></i><b>7.3.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.3.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-3"><i class="fa fa-check"></i><b>7.3.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="estatística-básica.html"><a href="estatística-básica.html#regressão-simples"><i class="fa fa-check"></i><b>7.4</b> Regressão Simples</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-3"><i class="fa fa-check"></i><b>7.4.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.4.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-4"><i class="fa fa-check"></i><b>7.4.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="estatística-básica.html"><a href="estatística-básica.html#regressão-múltipla"><i class="fa fa-check"></i><b>7.5</b> Regressão Múltipla</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-4"><i class="fa fa-check"></i><b>7.5.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.5.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-5"><i class="fa fa-check"></i><b>7.5.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="estatística-básica.html"><a href="estatística-básica.html#análises-de-variância-anova"><i class="fa fa-check"></i><b>7.6</b> Análises de Variância (ANOVA)</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-5"><i class="fa fa-check"></i><b>7.6.1</b> Backgorund da análise</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-de-um-fator"><i class="fa fa-check"></i><b>7.7</b> ANOVA de um fator</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-6"><i class="fa fa-check"></i><b>7.7.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-de-dois-fatores-ou-anova-fatorial"><i class="fa fa-check"></i><b>7.8</b> ANOVA de dois fatores ou Anova fatorial</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-7"><i class="fa fa-check"></i><b>7.8.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-em-blocos-aleatorizados"><i class="fa fa-check"></i><b>7.9</b> ANOVA em blocos aleatorizados</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-8"><i class="fa fa-check"></i><b>7.9.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-de-covariância-ancova"><i class="fa fa-check"></i><b>7.10</b> Análise de covariância (ANCOVA)</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-9"><i class="fa fa-check"></i><b>7.10.1</b> Análise</a></li>
<li class="chapter" data-level="7.10.2" data-path="estatística-básica.html"><a href="estatística-básica.html#para-se-aprofundar"><i class="fa fa-check"></i><b>7.10.2</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="análises-univariadas-glm.html"><a href="análises-univariadas-glm.html"><i class="fa fa-check"></i><b>8</b> Análises univariadas - GLM</a></li>
<li class="chapter" data-level="9" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html"><i class="fa fa-check"></i><b>9</b> Introdução à Análises Multidimensionais</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-6"><i class="fa fa-check"></i><b>9.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1"><i class="fa fa-check"></i><b>9.2</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise"><i class="fa fa-check"></i><b>9.2.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.2.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-10"><i class="fa fa-check"></i><b>9.2.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-2"><i class="fa fa-check"></i><b>9.3</b> Exemplo 2:</a></li>
<li class="chapter" data-level="9.4" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-7"><i class="fa fa-check"></i><b>9.4</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.5" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1-1"><i class="fa fa-check"></i><b>9.5</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise-1"><i class="fa fa-check"></i><b>9.5.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.5.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-11"><i class="fa fa-check"></i><b>9.5.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-8"><i class="fa fa-check"></i><b>9.6</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.7" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1-2"><i class="fa fa-check"></i><b>9.7</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise-2"><i class="fa fa-check"></i><b>9.7.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.7.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-12"><i class="fa fa-check"></i><b>9.7.2</b> Análise</a></li>
<li class="chapter" data-level="9.7.3" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#para-se-aprofundar-1"><i class="fa fa-check"></i><b>9.7.3</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="rarefação.html"><a href="rarefação.html"><i class="fa fa-check"></i><b>10</b> Rarefação</a>
<ul>
<li class="chapter" data-level="10.1" data-path="rarefação.html"><a href="rarefação.html#background-da-análise"><i class="fa fa-check"></i><b>10.1</b> Background da análise</a></li>
<li class="chapter" data-level="10.2" data-path="rarefação.html"><a href="rarefação.html#exemplo-prático-1---morcegos"><i class="fa fa-check"></i><b>10.2</b> Exemplo prático 1 - Morcegos</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="rarefação.html"><a href="rarefação.html#explicação"><i class="fa fa-check"></i><b>10.2.1</b> Explicação</a></li>
<li class="chapter" data-level="10.2.2" data-path="rarefação.html"><a href="rarefação.html#análise-13"><i class="fa fa-check"></i><b>10.2.2</b> Análise</a></li>
<li class="chapter" data-level="10.2.3" data-path="rarefação.html"><a href="rarefação.html#interpretação-dos-resultados-1"><i class="fa fa-check"></i><b>10.2.3</b> Interpretação dos resultados</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="rarefação.html"><a href="rarefação.html#exemplo-prático-2---rarefação"><i class="fa fa-check"></i><b>10.3</b> Exemplo prático 2 - Rarefação</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="rarefação.html"><a href="rarefação.html#explicação-1"><i class="fa fa-check"></i><b>10.3.1</b> Explicação</a></li>
<li class="chapter" data-level="10.3.2" data-path="rarefação.html"><a href="rarefação.html#análise-14"><i class="fa fa-check"></i><b>10.3.2</b> Análise</a></li>
<li class="chapter" data-level="10.3.3" data-path="rarefação.html"><a href="rarefação.html#interpretação-dos-resultados-2"><i class="fa fa-check"></i><b>10.3.3</b> Interpretação dos resultados</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="rarefação.html"><a href="rarefação.html#para-se-aprofundar-2"><i class="fa fa-check"></i><b>10.4</b> Para se aprofundar</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html"><i class="fa fa-check"></i><b>11</b> Estimadores de Riqueza</a>
<ul>
<li class="chapter" data-level="11.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#backgorund-da-análise-9"><i class="fa fa-check"></i><b>11.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="11.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#estimadores-baseados-na-abundância-das-espécies"><i class="fa fa-check"></i><b>11.2</b> Estimadores baseados na abundância das espécies</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#chao-1---chao-1984-1987"><i class="fa fa-check"></i><b>11.2.1</b> CHAO 1 - (Chao 1984, 1987):</a></li>
<li class="chapter" data-level="11.2.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-15"><i class="fa fa-check"></i><b>11.2.2</b> Análise</a></li>
<li class="chapter" data-level="11.2.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#ace---abundance-based-coverage-estimador-chao-lee-1992-chao-et-al.-2000"><i class="fa fa-check"></i><b>11.2.3</b> ACE - <em>Abundance-based Coverage Estimador</em> (Chao &amp; Lee 1992, Chao et al. 2000):</a></li>
<li class="chapter" data-level="11.2.4" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-16"><i class="fa fa-check"></i><b>11.2.4</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#estimadores-baseados-na-incidência-das-espécies"><i class="fa fa-check"></i><b>11.3</b> Estimadores baseados na incidência das espécies</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#chao-2---chao-1987"><i class="fa fa-check"></i><b>11.3.1</b> CHAO 2 - (Chao 1987):</a></li>
<li class="chapter" data-level="11.3.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-17"><i class="fa fa-check"></i><b>11.3.2</b> Análise</a></li>
<li class="chapter" data-level="11.3.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#jackknife-1-burnham-overton-1978-1979"><i class="fa fa-check"></i><b>11.3.3</b> JACKKNIFE 1 (Burnham &amp; Overton 1978, 1979):</a></li>
<li class="chapter" data-level="11.3.4" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-18"><i class="fa fa-check"></i><b>11.3.4</b> Análise</a></li>
<li class="chapter" data-level="11.3.5" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#jackknife-2-burnham-overton-1978-1979-palmer-1991"><i class="fa fa-check"></i><b>11.3.5</b> JACKKNIFE 2 (Burnham &amp; Overton 1978, 1979, Palmer 1991):</a></li>
<li class="chapter" data-level="11.3.6" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-19"><i class="fa fa-check"></i><b>11.3.6</b> Análise</a></li>
<li class="chapter" data-level="11.3.7" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#bootstrap-smith-van-belle-1984"><i class="fa fa-check"></i><b>11.3.7</b> BOOTSTRAP (Smith &amp; van Belle 1984):</a></li>
<li class="chapter" data-level="11.3.8" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-20"><i class="fa fa-check"></i><b>11.3.8</b> Análise</a></li>
<li class="chapter" data-level="11.3.9" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#interpolação-e-extrapolação-baseadas-em-rarefação-usando-amostragens-de-incidência-ou-abundância-chao-jost-2012-colwell-et-al.-2012"><i class="fa fa-check"></i><b>11.3.9</b> Interpolação e Extrapolação baseadas em rarefação usando amostragens de incidência ou abundância (Chao &amp; Jost 2012, Colwell et al. 2012):</a></li>
<li class="chapter" data-level="11.3.10" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-21"><i class="fa fa-check"></i><b>11.3.10</b> Análise</a></li>
<li class="chapter" data-level="11.3.11" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#para-se-aprofundar-3"><i class="fa fa-check"></i><b>11.3.11</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html"><i class="fa fa-check"></i><b>12</b> Diversidade Taxonômica</a>
<ul>
<li class="chapter" data-level="12.1" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-alfa-𝛂"><i class="fa fa-check"></i><b>12.1</b> Diversidade alfa (𝛂)</a></li>
<li class="chapter" data-level="12.2" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#riqueza-de-espécies-ou-número-de-espécies"><i class="fa fa-check"></i><b>12.2</b> Riqueza de espécies ou número de espécies</a></li>
<li class="chapter" data-level="12.3" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-de-espécies"><i class="fa fa-check"></i><b>12.3</b> Diversidade de espécies</a></li>
<li class="chapter" data-level="12.4" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diagramas-de-whittaker-ou-curva-de-dominância"><i class="fa fa-check"></i><b>12.4</b> Diagramas de Whittaker ou Curva de Dominância</a></li>
<li class="chapter" data-level="12.5" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#números-de-hill"><i class="fa fa-check"></i><b>12.5</b> Números de Hill</a></li>
<li class="chapter" data-level="12.6" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-beta-𝛃"><i class="fa fa-check"></i><b>12.6</b> Diversidade beta (𝛃)</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#para-se-aprofundar-4"><i class="fa fa-check"></i><b>12.6.1</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="diversidade-filogenética.html"><a href="diversidade-filogenética.html"><i class="fa fa-check"></i><b>13</b> Diversidade filogenética</a></li>
<li class="chapter" data-level="14" data-path="diversidade-funcional.html"><a href="diversidade-funcional.html"><i class="fa fa-check"></i><b>14</b> Diversidade funcional</a></li>
<li class="chapter" data-level="15" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html"><i class="fa fa-check"></i><b>15</b> Visualização de dados geográficos</a>
<ul>
<li class="chapter" data-level="15.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#dados-geográficos-no-r"><i class="fa fa-check"></i><b>15.1</b> Dados geográficos no R</a></li>
<li class="chapter" data-level="15.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#vetor"><i class="fa fa-check"></i><b>15.2</b> Vetor</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#pontos"><i class="fa fa-check"></i><b>15.2.1</b> Pontos</a></li>
<li class="chapter" data-level="15.2.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#linhas"><i class="fa fa-check"></i><b>15.2.2</b> Linhas</a></li>
<li class="chapter" data-level="15.2.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#polígonos"><i class="fa fa-check"></i><b>15.2.3</b> Polígonos</a></li>
<li class="chapter" data-level="15.2.4" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#tabela-de-atributos"><i class="fa fa-check"></i><b>15.2.4</b> Tabela de atributos</a></li>
<li class="chapter" data-level="15.2.5" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#sf-principal-pacote-no-r-para-dados-vetoriais"><i class="fa fa-check"></i><b>15.2.5</b> <em>sf</em>: principal pacote no R para dados vetoriais</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#raster"><i class="fa fa-check"></i><b>15.3</b> Raster</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#raster-contínuo-e-categórico"><i class="fa fa-check"></i><b>15.3.1</b> Raster contínuo e categórico</a></li>
<li class="chapter" data-level="15.3.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#raster-principal-pacote-no-r-para-dados-raster"><i class="fa fa-check"></i><b>15.3.2</b> <em>raster</em>: principal pacote no R para dados raster</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#sistema-de-referência-de-coordenadas-e-unidades"><i class="fa fa-check"></i><b>15.4</b> Sistema de Referência de Coordenadas e Unidades</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#sistema-de-referência-de-coordenadas-geográficas"><i class="fa fa-check"></i><b>15.4.1</b> Sistema de Referência de Coordenadas Geográficas</a></li>
<li class="chapter" data-level="15.4.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#sistema-de-referência-de-coordenadas-projetadas"><i class="fa fa-check"></i><b>15.4.2</b> Sistema de Referência de Coordenadas Projetadas</a></li>
<li class="chapter" data-level="15.4.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#datum"><i class="fa fa-check"></i><b>15.4.3</b> Datum</a></li>
<li class="chapter" data-level="15.4.4" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#sistema-de-referência-de-coordenadas-no-r"><i class="fa fa-check"></i><b>15.4.4</b> Sistema de Referência de Coordenadas no R</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#principais-fontes-de-dados-e-pacotes"><i class="fa fa-check"></i><b>15.5</b> Principais fontes de dados e pacotes</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#vetor-1"><i class="fa fa-check"></i><b>15.5.1</b> Vetor</a></li>
<li class="chapter" data-level="15.5.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#raster-1"><i class="fa fa-check"></i><b>15.5.2</b> Raster</a></li>
<li class="chapter" data-level="15.5.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#pacotes"><i class="fa fa-check"></i><b>15.5.3</b> Pacotes</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#importar-e-exportar-dados-geográficos"><i class="fa fa-check"></i><b>15.6</b> Importar e exportar dados geográficos</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#principais-formatos-de-arquivos-geográficos"><i class="fa fa-check"></i><b>15.6.1</b> Principais formatos de arquivos geográficos</a></li>
<li class="chapter" data-level="15.6.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#importar-dados"><i class="fa fa-check"></i><b>15.6.2</b> Importar dados</a></li>
<li class="chapter" data-level="15.6.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#exportar-dados"><i class="fa fa-check"></i><b>15.6.3</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#descrição-de-objetos-sf-e-raster"><i class="fa fa-check"></i><b>15.7</b> Descrição de objetos sf e raster</a>
<ul>
<li class="chapter" data-level="15.7.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#vetor-2"><i class="fa fa-check"></i><b>15.7.1</b> Vetor</a></li>
<li class="chapter" data-level="15.7.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#raster-2"><i class="fa fa-check"></i><b>15.7.2</b> Raster</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#reprojeção-de-dados-geográficos"><i class="fa fa-check"></i><b>15.8</b> Reprojeção de dados geográficos</a>
<ul>
<li class="chapter" data-level="15.8.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#reprojetando-vetores"><i class="fa fa-check"></i><b>15.8.1</b> Reprojetando vetores</a></li>
<li class="chapter" data-level="15.8.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#reprojetando-raster"><i class="fa fa-check"></i><b>15.8.2</b> Reprojetando raster</a></li>
</ul></li>
<li class="chapter" data-level="15.9" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#escalas-de-representação-dos-dados"><i class="fa fa-check"></i><b>15.9</b> Escalas de representação dos dados</a>
<ul>
<li class="chapter" data-level="15.9.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#escala-global"><i class="fa fa-check"></i><b>15.9.1</b> Escala global</a></li>
<li class="chapter" data-level="15.9.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#escala-regional"><i class="fa fa-check"></i><b>15.9.2</b> Escala regional</a></li>
<li class="chapter" data-level="15.9.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#escala-local"><i class="fa fa-check"></i><b>15.9.3</b> Escala local</a></li>
</ul></li>
<li class="chapter" data-level="15.10" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#visualização-de-dados-geográficos---mapas"><i class="fa fa-check"></i><b>15.10</b> Visualização de dados geográficos - Mapas</a>
<ul>
<li class="chapter" data-level="15.10.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#graphics"><i class="fa fa-check"></i><b>15.10.1</b> graphics</a></li>
<li class="chapter" data-level="15.10.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#ggplot2"><i class="fa fa-check"></i><b>15.10.2</b> ggplot2</a></li>
<li class="chapter" data-level="15.10.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#tmap"><i class="fa fa-check"></i><b>15.10.3</b> tmap</a></li>
<li class="chapter" data-level="15.10.4" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#leaflet"><i class="fa fa-check"></i><b>15.10.4</b> leaflet</a></li>
<li class="chapter" data-level="15.10.5" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#outros-pacotes"><i class="fa fa-check"></i><b>15.10.5</b> Outros pacotes</a></li>
</ul></li>
<li class="chapter" data-level="15.11" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#principais-operações-com-dados-geográficos"><i class="fa fa-check"></i><b>15.11</b> Principais operações com dados geográficos</a>
<ul>
<li class="chapter" data-level="15.11.1" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#operações-com-atributos"><i class="fa fa-check"></i><b>15.11.1</b> Operações com atributos</a></li>
<li class="chapter" data-level="15.11.2" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#operações-espaciais"><i class="fa fa-check"></i><b>15.11.2</b> Operações espaciais</a></li>
<li class="chapter" data-level="15.11.3" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#operações-geométricas"><i class="fa fa-check"></i><b>15.11.3</b> Operações geométricas</a></li>
</ul></li>
<li class="chapter" data-level="15.12" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#download-e-extração-de-dados-climáticos-para-pontos"><i class="fa fa-check"></i><b>15.12</b> Download e extração de dados climáticos para pontos</a></li>
<li class="chapter" data-level="15.13" data-path="visualização-de-dados-geográficos.html"><a href="visualização-de-dados-geográficos.html#resumir-informações-de-biodiversidade-para-unidades-espaciais"><i class="fa fa-check"></i><b>15.13</b> Resumir informações de biodiversidade para unidades espaciais</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><i class="fa fa-check"></i><b>16</b> Reprodutibilidade em pesquisa e gerenciamento de dados</a>
<ul>
<li class="chapter" data-level="16.1" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#gestão-de-projetos-acadêmicos-no-rstudio"><i class="fa fa-check"></i><b>16.1</b> Gestão de projetos acadêmicos no RStudio</a></li>
<li class="chapter" data-level="16.2" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#documentos-dinâmicos-r-markdown"><i class="fa fa-check"></i><b>16.2</b> Documentos dinâmicos (R Markdown)</a></li>
<li class="chapter" data-level="16.3" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#controle-de-versão-git-e-github"><i class="fa fa-check"></i><b>16.3</b> Controle de versão, Git e GitHub</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução ao R com aplicações em biodiversidade e conservação</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualização-de-dados-geográficos" class="section level1" number="15">
<h1><span class="header-section-number">Capítulo 15</span> Visualização de dados geográficos</h1>
<div id="dados-geográficos-no-r" class="section level2" number="15.1">
<h2><span class="header-section-number">15.1</span> Dados geográficos no R</h2>
<p>Nesta seção, iremos fazer uma breve introdução aos principais conceitos sobre dados geográficos: 1. os principais formatos (vetor e raster); 2. como importar, manipular e exportar; 3. escalas de representação dos dados; 4. sistemas de referências de coordenadas e unidades. Também iremos fazer algumas operações espaciais direcionadas à preparação de dados para compor variáveis preditoras (e.g. temperatura, precipitação e altitude) e como resumir informações sobre a biodiverisdade para unidades espaciais (e.g. buffers, quadrículas e hexágonos). Por fim, finalizaremos esse capítulo com a criação de mapas, ressaltando seus principais elementos: títutlo, mapa principal, mapa secundário, legenda, coordenadas do gride, orientação (compasso), barra de escala e fontes.</p>
<p>Esse capítulo segue parte da estrutura organizada por Lovelace, Nowosad &amp; Muenchow (2019), principalmente os capítulos 2 a 8, sendo adaptado para atender aos principais requisitos que julgamos inerentes à estudos ecológicos. Entretanto, foi impossível cobrir todos os assuntos acerca do geoprocessamento, sendo um assunto muito extenso, que requer a leitura de livros especializados na área. Outros livros podem ser consultados no capítulo 11 <a href="https://www.bigbookofr.com/geospatial.html">11 Geospatial</a> do <a href="https://www.bigbookofr.com/index.html">Big Book of R</a>.</p>
<p>Todas as operações serão realizadas através da linguagem R, utilizando os pacotes: <code>sf</code> (Pebesma 2018) para dados vetoriais, <code>raster</code> (Hijmans 2020) para dados raster, <code>spData</code> (Bivand et al. 2020), <code>rnaturalearth</code> (South 2017) e <code>geobr</code> (Pereira &amp; Goncalves 2020) para baixar dados vetoriais, e <code>ggplot2</code> (Wickham 2016), <code>ggspatial</code> (Dunnington 2020), <code>tmap</code> (Tennekes 2018) e <code>viridis</code> (Garnier 2018) para a composição de mapas.</p>
<p>Dessa forma, garanta que esses pacotes estejam instalados:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="visualização-de-dados-geográficos.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;sf&quot;</span>, </span>
<span id="cb1-2"><a href="visualização-de-dados-geográficos.html#cb1-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;raster&quot;</span>, </span>
<span id="cb1-3"><a href="visualização-de-dados-geográficos.html#cb1-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;rgdal&quot;</span>, </span>
<span id="cb1-4"><a href="visualização-de-dados-geográficos.html#cb1-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;spData&quot;</span>,</span>
<span id="cb1-5"><a href="visualização-de-dados-geográficos.html#cb1-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;rnaturalearth&quot;</span>,</span>
<span id="cb1-6"><a href="visualização-de-dados-geográficos.html#cb1-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;geobr&quot;</span>,</span>
<span id="cb1-7"><a href="visualização-de-dados-geográficos.html#cb1-7" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;ggplot2&quot;</span>,</span>
<span id="cb1-8"><a href="visualização-de-dados-geográficos.html#cb1-8" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;ggspatial&quot;</span>,</span>
<span id="cb1-9"><a href="visualização-de-dados-geográficos.html#cb1-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;tmap&quot;</span>,</span>
<span id="cb1-10"><a href="visualização-de-dados-geográficos.html#cb1-10" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;viridis&quot;</span>), </span>
<span id="cb1-11"><a href="visualização-de-dados-geográficos.html#cb1-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dep =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<blockquote>
<p><strong>IMPORTANTE</strong>: Se você estiver utilizando MacOS ou Linux, a instalação dos pacotes listados acima pode não funcionar. Esses sistemas operacionais possuem “requisitos específicos do sistema” que são geralmente descritos no <code>README.md</code> dos pacotes no GitHub. Entretanto, há várias instruções específicas que podem ser encontradas <a href="https://rtask.thinkr.fr/installation-of-r-4-0-on-ubuntu-20-04-lts-and-tips-for-spatial-packages/">on-line</a>.</p>
</blockquote>
</div>
<div id="vetor" class="section level2" number="15.2">
<h2><span class="header-section-number">15.2</span> Vetor</h2>
<p>Dados <strong>vetoriais</strong> representam informações geográficas acuradas através de <strong>pontos, linhas e polígonos</strong> (Figura 14.1). Cada uma dessas geometrias são indicadas para representar feições e/ou eventos específicos, como veremos adiante.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-2-1.png" alt="Ilustração das geometrias de ponto, linha e polígono genéricos. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019)." width="672" />
<p class="caption">
Figure 15.1: Ilustração das geometrias de ponto, linha e polígono genéricos. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019).
</p>
</div>
<div id="pontos" class="section level3" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> Pontos</h3>
<p><strong>Pontos</strong> são geometrias geralmente utilizados para representar <strong>eventos pontuias unitários</strong>, como ocorrência de espécies, locais de coleta, pontos de GPS ou nascentes de rios. Esses dados são representados por um único vértice, ou seja, um par de coordenadas (longitude - X e latitude - Y), que são plotados na forma de cículos ou outro elemento que represente o evento em questão. Dessa forma, geralmente utilizamos dados tabulares com pelo menos duas colunas contendo essas coordenadas. Além disso, esses dados tabulares podem conter outras colunas com informações quantitativas ou qualitativas como número de espécies, temperatura, precipitação ou ainda categorias como tipo de habitat, que podemos representar nos pontos através de diferentes formatos, tamanhos ou cores desses pontos (Figura 14.2).</p>
<table>
<thead>
<tr class="header">
<th align="center">id</th>
<th align="center">longitude</th>
<th align="center">latitude</th>
<th align="center">numero_especies</th>
<th align="center">temperatura</th>
<th align="center">precipitacao</th>
<th align="center">habitat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">2</td>
<td align="center">20</td>
<td align="center">1000</td>
<td align="center">floresta</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">3</td>
<td align="center">22</td>
<td align="center">1100</td>
<td align="center">pastagem</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">3</td>
<td align="center">28</td>
<td align="center">1300</td>
<td align="center">floresta</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">5</td>
<td align="center">4</td>
<td align="center">2</td>
<td align="center">23</td>
<td align="center">1200</td>
<td align="center">floresta</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">5</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">25</td>
<td align="center">1450</td>
<td align="center">pastagem</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-4-1.png" alt="Geometrias de pontos e suas identificações com a tabela de dados." width="672" />
<p class="caption">
Figure 15.2: Geometrias de pontos e suas identificações com a tabela de dados.
</p>
</div>
</div>
<div id="linhas" class="section level3" number="15.2.2">
<h3><span class="header-section-number">15.2.2</span> Linhas</h3>
<p><strong>Linhas</strong> representam <strong>geometrias lineares</strong> como estradas, rios, trajetos, divisões ou distâncias. Geralmente as linhas são criadas em softwares de Sistema de Informações Geográficas (SIG) como o <a href="https://qgis.org/">QGIS</a> e depois importadas para o R. As linhas são representadas por no mínimo dois vértices conectados, i.e., dois pares de coordenadas, gerando uma geometria aberta, possuindo como característica o <strong>comprimento</strong>. Da mesma forma que os pontos, as linhas podem ter informações tabulares, sendo quantitativas como comprimento dessa feição de linha, ou ainda informações qualitativas como o nome de estradas ou vazão dos rios, que podem ser utilizadas para alterar o formato, tamanho ou cor dessas linhas (Figura 14.3).</p>
<table>
<thead>
<tr class="header">
<th align="center">id</th>
<th align="center">rodovias</th>
<th align="center">comprimento_km</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">rodovia_01</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">rodovia_02</td>
<td align="center">52</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">rodovia_03</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">rodovia_04</td>
<td align="center">38</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">rodovia_05</td>
<td align="center">18</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-6-1.png" alt="Geometrias de linhas e suas identificações com a tabela de dados." width="672" />
<p class="caption">
Figure 15.3: Geometrias de linhas e suas identificações com a tabela de dados.
</p>
</div>
</div>
<div id="polígonos" class="section level3" number="15.2.3">
<h3><span class="header-section-number">15.2.3</span> Polígonos</h3>
<p>Por fim, <strong>polígonos</strong> representam <strong>geometrias fechadas</strong>, como fragmentos de vegetação, lagos ou limites geográficos, sendo mais voltado para representar feições de um mapa de uso e cobertura da terra ou limites geográficos naturais, políticos, administrativos ou regulares. Os polígonos também são criados geralmente em softwares específicos de SIG e depois importados para o R, ou podemos usar funções para criar <em>buffers</em> ou malhas de quadrículas ou hexágonos. Os polígonos são representados por no mínimo três vértices conectados, sendo que o primeiro vértice possui coordenadas idênticas ao último, de modo que essa ligação gere uma feição fechada, com características como <strong>perímetro</strong> e/ou <strong>área</strong>. Da mesma forma que os pontos e linhas, colunas podem ser associadas aos polígonos para representar informações quantitativas como perímetro e área dessa polígono, ou ainda, informações qualitativas como a classe de cobertura da terra, que podem ser utilizadas para alterar formatos, tamanho ou cores desses polígonos (Figura 14.3).</p>
<table>
<thead>
<tr class="header">
<th align="center">id</th>
<th align="center">uso</th>
<th align="center">area_ha</th>
<th align="center">perimeto_m</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">floresta</td>
<td align="center">50</td>
<td align="center">700</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">urbano</td>
<td align="center">22</td>
<td align="center">300</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">pastagem</td>
<td align="center">30</td>
<td align="center">250</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">agua</td>
<td align="center">25</td>
<td align="center">400</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">cerrado</td>
<td align="center">40</td>
<td align="center">500</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-8"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-8-1.png" alt="Geometrias de polígonos e suas identificações com a tabela de dados." width="672" />
<p class="caption">
Figure 15.4: Geometrias de polígonos e suas identificações com a tabela de dados.
</p>
</div>
<p>Além disso, geralmente utilizamos <strong>polígono regulares</strong> (buffers, quadrículas ou hexágonos) para <strong>resumir informações</strong> de biodiversidade ou de variáveis preditoras, que podem ser utilizadas como unidades amostrais em análises espaciais ou estatísticas, principalmente nas áreas de Ecologia Espacial, Ecologia da Paisagem, Biogeografia ou Macroecologia (Figura 14.4).</p>
<table>
<thead>
<tr class="header">
<th align="center">id</th>
<th align="center">numero_especies</th>
<th align="center">temperatura</th>
<th align="center">precipitacao</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">2</td>
<td align="center">20</td>
<td align="center">1000</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">3</td>
<td align="center">22</td>
<td align="center">1100</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">3</td>
<td align="center">28</td>
<td align="center">1300</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">2</td>
<td align="center">23</td>
<td align="center">1200</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">5</td>
<td align="center">25</td>
<td align="center">1450</td>
</tr>
<tr class="even">
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-10"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-10-1.png" alt="Polígonos regulares: buffers, quadrículas e hexágonos." width="672" />
<p class="caption">
Figure 15.5: Polígonos regulares: buffers, quadrículas e hexágonos.
</p>
</div>
</div>
<div id="tabela-de-atributos" class="section level3" number="15.2.4">
<h3><span class="header-section-number">15.2.4</span> Tabela de atributos</h3>
<p>Para os dados vetoriais é necessário ainda destacar um elemento fundamental: a <strong>tabela de atributos</strong>. A tabela de atributos é uma tabela que inclui dados <strong>geográficos</strong> e <strong>dados alfanuméricos</strong>. Os <strong>dados geográficos</strong> são representados por cada feição geolocalizada espacialmente (ponto, linha ou polígono), e os <strong>dados alfanuméricos</strong> são todos os demais dados associados à cada uma dessas feições, representado na forma de colunas (Figuras 14.2, 14.3, 14.4 e 14.5).</p>
<p>Dessa forma, a <strong>tabela de atributos</strong> reúne informações sobre cada feição e pode ser utilizada para a realização de filtros ou agregações dos dados de cada feição. É nessa tabela que podemos ainda concatenar novas informações (colunas) de operações com as feições (linhas) como cálculo de comprimento, perímetro, área ou ainda outras operações com as colunas. Também podemos associar outros dados não espaciais aos dados da tabela de atributos com a junção por uma coluna identificadora.</p>
</div>
<div id="sf-principal-pacote-no-r-para-dados-vetoriais" class="section level3" number="15.2.5">
<h3><span class="header-section-number">15.2.5</span> <em>sf</em>: principal pacote no R para dados vetoriais</h3>
<p>Atualmente o principal pacote para trabalhar com dados vetoriais é o <a href="https://r-spatial.github.io/sf/"><code>sf</code></a>, que implementou o <em>Simple Feature</em> no R (Pebesma 2018). Entretanto, outro pacote pode ser tão versátil quanto o <code>sf</code>, no caso o <a href="https://rspatial.org/terra/index.html"><code>terra</code></a>.</p>
<p>Esse pacote facilitou muito a forma de trabalho de vetores no R, sendo que as principais vantagens são (Lovelace, Nowosad &amp; Muenchow 2019):</p>
<ul>
<li>rápida leitura e gravação de dados</li>
<li>aprimorado desempenho de plotagem</li>
<li>objetos <code>sf</code> podem ser tratados como data frames na maioria das operações</li>
<li>funções <code>sf</code> podem ser combinadas usando o operador <code>%&gt;%</code> e funcionam no formato tidyverse</li>
<li>funções <code>sf</code> são consistentes e intuitivas (sempre começam com prefixo <code>st_</code>)</li>
</ul>
<p>Os tipos de geometrias apresentadas são representadas por diferentes classes: <code>POINT</code>, <code>LINESTRING</code> e <code>POLYGON</code> para apenas uma feição de cada tipo de geometria; <code>MULTIPOINT</code>, <code>MULTILINESTRING</code> e <code>MULTIPOLYGON</code> para várias feições de cada tipo de geometria e; <code>GEOMETRYCOLLECTION</code> para várias feições e tipos de geometrias (Figura <a href="visualização-de-dados-geográficos.html#fig:sf-classes">15.6</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:sf-classes"></span>
<img src="img/sf-classes.png" alt="Tipos de classes suportadas pelo sf. Fonte: Lovelace, Nowosad &amp; Muenchow (2019)." width="60%" />
<p class="caption">
Figure 15.6: Tipos de classes suportadas pelo sf. Fonte: Lovelace, Nowosad &amp; Muenchow (2019).
</p>
</div>
<p>O pacote <code>sf</code> define um sistema de classes hierárquicas, com três classes (Tabela <a href="visualização-de-dados-geográficos.html#tab:sf-estruturas">15.1</a>):</p>
<ul>
<li>Classe <code>sfg</code> - uma geometria única</li>
<li>Classe <code>sfc</code> - uma coluna de geometria, que é um conjunto de geometrias <code>sfg</code> + informações CRS</li>
<li>Classe <code>sf</code> - uma camada, que é uma coluna de geometria <code>sfc</code> dentro de um <code>data.frame</code> com atributos não espaciais</li>
</ul>
<table>
<caption><span id="tab:sf-estruturas">Table 15.1: </span>Estruturas de dados espaciais no pacote sf. Fonte: <a href="https://michaeldorman.github.io/R-Spatial-Workshop-at-CBS-2021/main.html">Dorman (2021)</a>.</caption>
<thead>
<tr class="header">
<th align="left">Classes</th>
<th align="left">Hierarquia</th>
<th align="left">Informação</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>sfg</code></td>
<td align="left">Geometria</td>
<td align="left">Tipo e coordenadas</td>
</tr>
<tr class="even">
<td align="left"><code>sfc</code></td>
<td align="left">Coluna de geometria</td>
<td align="left">Conjundo de <code>sfg</code> + CRS</td>
</tr>
<tr class="odd">
<td align="left"><code>sf</code></td>
<td align="left">Camada</td>
<td align="left"><code>sfc</code> + atributos</td>
</tr>
</tbody>
</table>
<p>Ao olharmos as informações de um objeto da classe <code>sf</code> podemos notar diversas informações que descrevem o mesmo:</p>
<ul>
<li><em>resumo do vetor</em>: indica o número de feições (linhas) e campos (colunas)</li>
<li><em>tipo da geometria</em>: umas das sete classes listadas anteriormente</li>
<li><em>dimensão</em>: número de dimensões, geralmente duas (XY)</li>
<li><em>bbox (bordas)</em>: coordenadas mínimas e máximas da longitude e latitude</li>
<li><em>informação do CRS</em>: epsg (SRID) ou proj4string indicando o Sistema de Referência de Coordenadas</li>
<li><em>tibble</em>: tabela de atributos, com destaque para a coluna <code>geom</code> que representa cada feição ou geometria</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="visualização-de-dados-geográficos.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spData)</span>
<span id="cb2-2"><a href="visualização-de-dados-geográficos.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(world)</span>
<span id="cb2-3"><a href="visualização-de-dados-geográficos.html#cb2-3" aria-hidden="true" tabindex="-1"></a>world</span></code></pre></div>
<pre><code>## Simple feature collection with 177 features and 10 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -180 ymin: -90 xmax: 180 ymax: 83.64513
## geographic CRS: WGS 84
## # A tibble: 177 x 11
##    iso_a2 name_long continent region_un subregion type  area_km2     pop lifeExp
##    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 FJ     Fiji      Oceania   Oceania   Melanesia Sove…   1.93e4  8.86e5    70.0
##  2 TZ     Tanzania  Africa    Africa    Eastern … Sove…   9.33e5  5.22e7    64.2
##  3 EH     Western … Africa    Africa    Northern… Inde…   9.63e4 NA         NA  
##  4 CA     Canada    North Am… Americas  Northern… Sove…   1.00e7  3.55e7    82.0
##  5 US     United S… North Am… Americas  Northern… Coun…   9.51e6  3.19e8    78.8
##  6 KZ     Kazakhst… Asia      Asia      Central … Sove…   2.73e6  1.73e7    71.6
##  7 UZ     Uzbekist… Asia      Asia      Central … Sove…   4.61e5  3.08e7    71.0
##  8 PG     Papua Ne… Oceania   Oceania   Melanesia Sove…   4.65e5  7.76e6    65.2
##  9 ID     Indonesia Asia      Asia      South-Ea… Sove…   1.82e6  2.55e8    68.9
## 10 AR     Argentina South Am… Americas  South Am… Sove…   2.78e6  4.30e7    76.3
## # … with 167 more rows, and 2 more variables: gdpPercap &lt;dbl&gt;,
## #   geom &lt;MULTIPOLYGON [°]&gt;</code></pre>
<p>Podemos fazer um mapa simples utilizando a função <code>plot()</code> desse objeto. Para facilitar, escolheremos apenas a coluna <code>geom</code>, que contém a geometria.</p>
<blockquote>
<p>IMPORTANTE: faremos mapas mais elaborados na seção xx desse capítulo.</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="visualização-de-dados-geográficos.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(world<span class="sc">$</span>geom, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>), <span class="at">main =</span> <span class="st">&quot;Mapa do mundo&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-12"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-12-1.png" alt="Mapa vetorial do mundo." width="672" />
<p class="caption">
Figure 15.7: Mapa vetorial do mundo.
</p>
</div>
</div>
</div>
<div id="raster" class="section level2" number="15.3">
<h2><span class="header-section-number">15.3</span> Raster</h2>
<p>Os dados no formato <strong>raster</strong> consistem em uma <strong>matriz</strong> (com linhas e colunas) representando <strong>células igualmente espaçadas</strong> (pixels; Figura 14.7). Esse formato de dado torna a álgebra e o processamento de mapas muito mais eficiente e rápido do que o processamento de dados vetoriais. As células dos dados raster possuem <strong>duas informações</strong>: 1. a identificação das células (IDs das células) para especificar sua posição na matriz (Figura 14.8 A) e; 2. os valores das células (Figura 14.8 B), que geralmente são coloridos para facilitar a interpretação da variação dos valores no espaço (Figura 14.8 C). Além disso, valores ausentes ou não amostrados são representados por <code>NA</code>, ou seja, <em>not available</em> (Figura 14.8 B e C).</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-13"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-13-1.png" alt="Raster: (A) IDs das células, (B) valores das células, (C) células coloridas. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019)." width="672" />
<p class="caption">
Figure 15.8: Raster: (A) IDs das células, (B) valores das células, (C) células coloridas. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019).
</p>
</div>
<div id="raster-contínuo-e-categórico" class="section level3" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> Raster contínuo e categórico</h3>
<p>A <strong>célula ou pixel</strong> de um raster pode conter apenas um <strong>único valor</strong>, que pode ser <strong>contínuo</strong> ou <strong>categórico</strong> (Figura 14.9). O formato raster geralmente representa <strong>fenômenos contínuos</strong>, como elevação, precipitação, temperatura, ou dados espectrais de imagens de satélite, mas também pode representar <strong>categorias</strong> como tipos de florestas ou cobertura da terra (Figura 14.8).</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-14"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-14-1.png" alt="Raster: (A) mapa contínuo, (B) mapa categórico. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019)." width="672" />
<p class="caption">
Figure 15.9: Raster: (A) mapa contínuo, (B) mapa categórico. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019).
</p>
</div>
</div>
<div id="raster-principal-pacote-no-r-para-dados-raster" class="section level3" number="15.3.2">
<h3><span class="header-section-number">15.3.2</span> <em>raster</em>: principal pacote no R para dados raster</h3>
<p>Atualmente, o principal pacote para trabalhar com dados raster é o <a href="https://rspatial.org/raster/index.html"><code>raster</code></a> (Hijmans 2020), apesar de existir outros dois em desenvolvimento e já sendo aplicados, como o <a href="https://rspatial.org/terra/index.html"><code>terra</code></a> e o <a href="https://r-spatial.github.io/stars/"><code>star</code></a>. Ele fornece uma ampla gama de funções para criar, ler, exportar, manipular e processar dados raster no R. Os rasters dentro do R podem ser de três classes: <code>RasterLayer</code>, <code>RasterStack</code> e <code>RasterBrick</code>.</p>
<p>A classe <code>RasterLayer</code> representa apenas uma camada raster. Para criar um raster no R podemos utilizar a função <code>raster()</code>. Observando essa classe, podemos notar as seguintes informações:</p>
<ul>
<li><em>class</em>: classe raster do objeto</li>
<li><em>dimensions</em>: número de linhas, colunas e células</li>
<li><em>resolution</em>: largura e altura da célula</li>
<li><em>extent</em>: coordenadas mínimas e máximas da longitude e latitude</li>
<li><em>crs</em>: Sistema de Referência de Coordenadas</li>
<li><em>source</em>: fonte dos dados (memória ou disco)</li>
<li><em>names</em>: nome das camadas</li>
<li><em>values</em>: valores máximos e mínimos das células</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="visualização-de-dados-geográficos.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb5-2"><a href="visualização-de-dados-geográficos.html#cb5-2" aria-hidden="true" tabindex="-1"></a>raster_layer <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">raster</span>(<span class="at">nrows =</span> <span class="dv">5</span>, <span class="at">ncols =</span> <span class="dv">5</span>, </span>
<span id="cb5-3"><a href="visualização-de-dados-geográficos.html#cb5-3" aria-hidden="true" tabindex="-1"></a>                               <span class="at">res =</span> .<span class="dv">5</span>,</span>
<span id="cb5-4"><a href="visualização-de-dados-geográficos.html#cb5-4" aria-hidden="true" tabindex="-1"></a>                               <span class="at">xmn =</span> <span class="sc">-</span><span class="fl">61.5</span>, <span class="at">xmx =</span> <span class="sc">-</span><span class="dv">59</span>, <span class="at">ymn =</span> <span class="sc">-</span><span class="fl">14.5</span>, <span class="at">ymx =</span> <span class="sc">-</span><span class="dv">12</span>,</span>
<span id="cb5-5"><a href="visualização-de-dados-geográficos.html#cb5-5" aria-hidden="true" tabindex="-1"></a>                               <span class="at">vals =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="dv">25</span>, <span class="at">rep =</span> <span class="cn">TRUE</span>))</span>
<span id="cb5-6"><a href="visualização-de-dados-geográficos.html#cb5-6" aria-hidden="true" tabindex="-1"></a>raster_layer</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 5, 5, 25  (nrow, ncol, ncell)
## resolution : 0.5, 0.5  (x, y)
## extent     : -61.5, -59, -14.5, -12  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : memory
## names      : layer 
## values     : 1, 24  (min, max)</code></pre>
<p>Um mapa simples do raster pode ser obtido utilizando a função <code>plot()</code>, do próprio pacote <code>raster</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="visualização-de-dados-geográficos.html#cb7-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(raster_layer, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="at">n =</span> <span class="dv">25</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-16"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-16-1.png" alt="Mapa simples de um RasterLayer." width="672" />
<p class="caption">
Figure 15.10: Mapa simples de um RasterLayer.
</p>
</div>
<p>Além da classe <code>RasterLayer</code>, há mais duas classes que trabalham com várias camadas: <code>RasterBrick</code> e <code>RasterStack</code>. Elas diferem em relação ao número de formatos de arquivo suportados, tipo de representação interna e velocidade de processamento.</p>
<p>A classe <code>RasterBrick</code> geralmente corresponde a importação de um único arquivo de imagem de satélite multiespectral ou a um único objeto de várias camadas na memória. A função <code>brick()</code> cria um objeto <code>RasterBrick</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="visualização-de-dados-geográficos.html#cb8-1" aria-hidden="true" tabindex="-1"></a>raster_layer1 <span class="ot">&lt;-</span> raster_layer</span>
<span id="cb8-2"><a href="visualização-de-dados-geográficos.html#cb8-2" aria-hidden="true" tabindex="-1"></a>raster_layer2 <span class="ot">&lt;-</span> raster_layer <span class="sc">*</span> raster_layer</span>
<span id="cb8-3"><a href="visualização-de-dados-geográficos.html#cb8-3" aria-hidden="true" tabindex="-1"></a>raster_layer3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(raster_layer)</span>
<span id="cb8-4"><a href="visualização-de-dados-geográficos.html#cb8-4" aria-hidden="true" tabindex="-1"></a>raster_layer4 <span class="ot">&lt;-</span> <span class="fu">log10</span>(raster_layer)</span>
<span id="cb8-5"><a href="visualização-de-dados-geográficos.html#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="visualização-de-dados-geográficos.html#cb8-6" aria-hidden="true" tabindex="-1"></a>raster_brick <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">brick</span>(raster_layer1, raster_layer2, raster_layer3, raster_layer4)</span>
<span id="cb8-7"><a href="visualização-de-dados-geográficos.html#cb8-7" aria-hidden="true" tabindex="-1"></a>raster_brick</span></code></pre></div>
<pre><code>## class      : RasterBrick 
## dimensions : 5, 5, 25, 4  (nrow, ncol, ncell, nlayers)
## resolution : 0.5, 0.5  (x, y)
## extent     : -61.5, -59, -14.5, -12  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : memory
## names      :    layer.1,    layer.2,    layer.3,    layer.4 
## min values :          1,          1,          1,          0 
## max values :  24.000000, 576.000000,   4.898979,   1.380211</code></pre>
<p>Ao utilizarmos a função <code>plot()</code> do pacote <code>raster</code>, podemos visualizar todos os raster contidos no objeto <code>RasterBrick</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="visualização-de-dados-geográficos.html#cb10-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(raster_brick, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="at">n =</span> <span class="dv">25</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-18"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-18-1.png" alt="Mapa simples de um raster RasterBrick." width="672" />
<p class="caption">
Figure 15.11: Mapa simples de um raster RasterBrick.
</p>
</div>
<p>Já a classe <code>RasterStack</code> permite conectar vários objetos raster armazenados em arquivos diferentes ou vários objetos na memória. Um <code>RasterStack</code> é uma lista de objetos <code>RasterLayer</code> com a mesma extensão e resolução. Uma maneira de criá-lo é com a junção de vários objetos espaciais já existentes no ambiente global do R ou listar vários arquivos raster em um diretório armazenado no disco. A função <code>stack()</code> cria um objeto <code>RasterStack</code>.</p>
<p>Outra diferença é que o tempo de processamento para objetos <code>RasterBrick</code> geralmente é menor do que para objetos <code>RasterStack</code>. A decisão sobre qual classe <code>Raster*</code> deve ser usada depende principalmente do caráter dos dados de entrada.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="visualização-de-dados-geográficos.html#cb11-1" aria-hidden="true" tabindex="-1"></a>raster_layer1 <span class="ot">&lt;-</span> raster_layer</span>
<span id="cb11-2"><a href="visualização-de-dados-geográficos.html#cb11-2" aria-hidden="true" tabindex="-1"></a>raster_layer2 <span class="ot">&lt;-</span> raster_layer <span class="sc">*</span> raster_layer</span>
<span id="cb11-3"><a href="visualização-de-dados-geográficos.html#cb11-3" aria-hidden="true" tabindex="-1"></a>raster_layer3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(raster_layer)</span>
<span id="cb11-4"><a href="visualização-de-dados-geográficos.html#cb11-4" aria-hidden="true" tabindex="-1"></a>raster_layer4 <span class="ot">&lt;-</span> <span class="fu">log10</span>(raster_layer)</span>
<span id="cb11-5"><a href="visualização-de-dados-geográficos.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="visualização-de-dados-geográficos.html#cb11-6" aria-hidden="true" tabindex="-1"></a>raster_stack <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">stack</span>(raster_layer1, raster_layer2, raster_layer3, raster_layer4)</span>
<span id="cb11-7"><a href="visualização-de-dados-geográficos.html#cb11-7" aria-hidden="true" tabindex="-1"></a>raster_stack</span></code></pre></div>
<pre><code>## class      : RasterStack 
## dimensions : 5, 5, 25, 4  (nrow, ncol, ncell, nlayers)
## resolution : 0.5, 0.5  (x, y)
## extent     : -61.5, -59, -14.5, -12  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## names      :    layer.1,    layer.2,    layer.3,    layer.4 
## min values :          1,          1,          1,          0 
## max values :  24.000000, 576.000000,   4.898979,   1.380211</code></pre>
<p>Da mesma forma ao utilizar a função <code>plot()</code> do pacote <code>raster</code>, podemos visualizar todos os raster contidos no objeto <code>RasterStack</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="visualização-de-dados-geográficos.html#cb13-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(raster_stack, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="at">n =</span> <span class="dv">25</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-20"></span>
<img src="livro_r_ecologia_files/figure-html/unnamed-chunk-20-1.png" alt="Mapa simples de um raster RasterStack." width="672" />
<p class="caption">
Figure 15.12: Mapa simples de um raster RasterStack.
</p>
</div>
</div>
</div>
<div id="sistema-de-referência-de-coordenadas-e-unidades" class="section level2" number="15.4">
<h2><span class="header-section-number">15.4</span> Sistema de Referência de Coordenadas e Unidades</h2>
<p>Os dados geográficos possuem ainda um componente fundamental, que é o <strong>Sistema de Referência de Coordenadas</strong>, ou do inglês <em>Coordinate Reference System (CRS)</em>. Esse componente define como os elementos espaciais (vetor - pontos, linhas ou polígonos, e rasters) representam uma feição na superfície da Terra. Esse componente é composto por principais conceitos: primeiro, que tipo de unidades estão sendo utilizadas para a representação geográfica, podendo assumir dois tipos - ângulos e metros, que originam o Sistema de coordenadas geográficas e o Sistema de coordenadas projetadas, respectivamente; e segundo o datum, que é a relação do sistema de coordenadas com a superfície da Terra. Esse último componente faz parte de uma área da Cartografia denominada Geodésia que estuda a forma e dimensões da Terra, campo gravitacional, e a localização de pontos fixos e sistemas de coordenadas.</p>
<div id="sistema-de-referência-de-coordenadas-geográficas" class="section level3" number="15.4.1">
<h3><span class="header-section-number">15.4.1</span> Sistema de Referência de Coordenadas Geográficas</h3>
<p>Sistema de referência de coordenadas geográficas utilizam ângulos para representar feições na superfície da terra através de dois valores: longitude e latitude. A longitude localiza-se na direção Leste-Oeste e a latitude localiza-se na direção Norte-Sul. Nesse sistema, a superfície da Terra geralmente é representada por uma superfície elipsoidal, pois a Terra é ligeiramente achatada nos polos.</p>
</div>
<div id="sistema-de-referência-de-coordenadas-projetadas" class="section level3" number="15.4.2">
<h3><span class="header-section-number">15.4.2</span> Sistema de Referência de Coordenadas Projetadas</h3>
<p>Sistema de referência de coordenadas projetadas utilizam um sistema de Cartesiano de coordenadas em uma superfície plana. Dessa forma, à partir de uma origem, traçam-se eixos x e y, e uma unidade linear como o metro é utilizada. Todos as projeções feitas de sistemas geográficos convertem uma superfície tridimensional em uma superfície plana bidimensional. Sendo assim, essa conversão trás consigo algum tipo de distorção, como na área, direção, distância ou formato, de modo que um sistema de coordenadas projetadas pode preservar somente uma ou duas dessas propriedades.</p>
<p>Existem três grupos de tipos de projeções: cilíndricos, cônicos e planares. Na <strong>projeção cilíndrica</strong>, a superfície da Terra é mapeada em um cilindro, sendo também criada tocando a superfície da Terra ao longo de uma ou duas linhas de tangência, e é usada com mais frequência para mapear todo o mundo, tendo como exemplo mais conhecido a <strong>Projeção Universal Transversa de Mercator</strong>, ou mais conhecida como <strong>UTM</strong>. Na <strong>projeção cônica</strong>, a superfície da Terra é projetada em um cone ao longo de uma linha ou duas linhas de tangência, de modo que as distorções são minimizadas ao longo das linhas e aumentam com a distância das mesmas, sendo portanto, mais adequada para mapear áreas de latitudes médias, tendo como exemplo mais conhecido a <strong>Projeção cônica equivalente de Albers</strong>. E na <strong>projeção plana</strong> o mapeamento toca o globo em um ponto ou ao longo de uma linha de tangência, sendo normalmente usado no mapeamento de regiões polares, raramente utilizada.</p>
</div>
<div id="datum" class="section level3" number="15.4.3">
<h3><span class="header-section-number">15.4.3</span> Datum</h3>
<p>Como dito anteriormente, o datum é a relação do sistema de coordenadas com a superfície da Terra. Ele representa o ponto de intersecção do elipsoide de referência com a supercie da Terra e o geoide (forma verdadeira da Terra), compensando as diferenças do campo gravitacional da Terra. Existem dois tipos de datum - local e geocêntrico. Em um datum local como o SAD69, o elipsoide de referência é deslocado para se alinhar com a superfície em um determinado local. Já em um datum geocêntrico como WGS84, o centro da elipsoide é o centro de gravidade da Terra e a precisão das projeções não é otimizada para um local específico.</p>
<p>No Brasil, desde 2015, o <a href="https://www.ibge.gov.br/">Instituto Brasileiro de Geografia e Estatística (IBGE)</a> adotou utilizar o datum SIRGAS2000 para todos os mapeamentos realizados no Brasil, um esforço conjunto para adotar o mesmo datum em toda a América. Mais sobre esse datum pode ser lido aqui: <a href="http://www.sirgas.org/pt/sirgas-realizations/sirgas2000/">SIRGAS2000</a>.</p>
</div>
<div id="sistema-de-referência-de-coordenadas-no-r" class="section level3" number="15.4.4">
<h3><span class="header-section-number">15.4.4</span> Sistema de Referência de Coordenadas no R</h3>
<p>Há duas formas principais de representar um Sistema de Referência de Coordenadas no R: 1. código <code>epsg</code> e 2. <code>proj4string</code>. O código EPSG (<em>European Petroleum Survey Group</em>) é uma sequência de números curta, referindo-se a apenas um sistema de referência de coordenadas. Há um site <a href="http://epsg.io/">epsg.io</a> no qual é possível consultar diversas informações sobre um código, procurar um código, representação de mapas e fazer transformações de Sistema de Referência de Coordenadas.</p>
<p>Já <code>proj4string</code> permite mais flexibilidade para especificar diferentes parâmetros, como o tipo de projeção, datum e elipsóide. Dessa forma, é possível especificar muitas projeções, ou mesmo modificar as projeções existentes, tornando a representação <code>proj4string</code> mais complexa.</p>
<p>Os pacotes espaciais no R suportam uma ampla variedade de Sistema de Referência de Coordenadas e usam a biblioteca <a href="https://proj.org/index.html#">PROJ</a>. A função <code>rgdal::make_EPSG()</code> retorna um data frame das projeções disponíveis, com informações dos códigos <code>epsg</code> e <code>proj4string</code> numa mesma tabela, facilitando a busca e uso de Sistema de Referência de Coordenadas.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="visualização-de-dados-geográficos.html#cb14-1" aria-hidden="true" tabindex="-1"></a>crs_data <span class="ot">&lt;-</span> rgdal<span class="sc">::</span><span class="fu">make_EPSG</span>()</span>
<span id="cb14-2"><a href="visualização-de-dados-geográficos.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(crs_data)</span></code></pre></div>
<pre><code>##   code   note                                                   prj4 prj_method
## 1 3819 HD1909         +proj=longlat +ellps=bessel +no_defs +type=crs     (null)
## 2 3821  TWD67        +proj=longlat +ellps=aust_SA +no_defs +type=crs     (null)
## 3 3822  TWD97 +proj=geocent +ellps=GRS80 +units=m +no_defs +type=crs     (null)
## 4 3823  TWD97          +proj=longlat +ellps=GRS80 +no_defs +type=crs     (null)
## 5 3824  TWD97          +proj=longlat +ellps=GRS80 +no_defs +type=crs     (null)
## 6 3887   IGRS +proj=geocent +ellps=GRS80 +units=m +no_defs +type=crs     (null)</code></pre>
</div>
</div>
<div id="principais-fontes-de-dados-e-pacotes" class="section level2" number="15.5">
<h2><span class="header-section-number">15.5</span> Principais fontes de dados e pacotes</h2>
<p>Há muitas fontes de dados geográficos em diferentes bases de dados. Geralmente as bases de dados são disponibilizados separadamente em apenas dados vetoriais e apenas dados raster. Para dados vetoriais, grande parte dos dados disponibilizados são utilizados em mapas como limites políticos, biomas ou distribuição de espécies para polígonos, estradas e rios para dados lineares, ou ainda pontos de ocorrência de espécies ou comunidades, ou medidas tomadas em campo sobre condições naturais como clima ou relevo. Entretanto, é sempre recomendado o uso de bases oficiais, principalmente em relação à dados vetoriais de limites políticos. Para tanto, é sempre fundamental buscar as bases oficiais de cada país, entrentanto, há bases que podem ser utilizadas globalmente, como veremos.</p>
<p>Sobre as bases de dados raster, há uma infinidade de dados para diferentes objetivos, mas grande parte deles são relativos à condições ambientais, representando uma variável de interesse de forma contínua no espaço.</p>
<p>Existe uma compilação de dados geográficos vetoriais e raster compilada por Marcus Vinícius Alves de Carvalho e Angelica Carvalho Di Maio, chamada <a href="http://www.clickgeo.com.br/wp-content/uploads/2018/05/GeoLISTA.pdf">GeoLISTA</a>. Entretanto, como as bases de dados tendem à ser muito dinâmicas, é possível que muitas bases tenham surgido e desaparecido desde a listagem realizada.</p>
<p>Além das bases de dados, há pacotes específicos no R que fazem o download dos dados vetoriais e matriciais, facilitando a aquisição e reprodutibilidade. Para conferir uma listagem completa de pacotes para diversas análises espaciais, veja <a href="https://cran.r-project.org/web/views/Spatial.html">CRAN Task View: Analysis of Spatial Data</a>.</p>
<div id="vetor-1" class="section level3" number="15.5.1">
<h3><span class="header-section-number">15.5.1</span> Vetor</h3>
<p>Dentre as bases vetoriais, destacamos as seguintes:</p>
<p><strong>Tabela 14.1</strong> - Principais bases de dados vetoriais para o Brasil e o Mundo.</p>
<table>
<thead>
<tr class="header">
<th align="center">Bases de dados</th>
<th align="center">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><a href="https://www.ibge.gov.br/geociencias/downloads-geociencias.html">IBGE</a></td>
<td align="center">Limites territoriais e censitários do Brasil</td>
</tr>
<tr class="even">
<td align="center"><a href="http://geo.fbds.org.br/">FBDS</a></td>
<td align="center">Uso da terra, APP e hidrografia - Mata Atlântica e Cerrado</td>
</tr>
<tr class="odd">
<td align="center"><a href="http://geosgb.cprm.gov.br/">GeoBank</a></td>
<td align="center">Dados geológicos do Brasil</td>
</tr>
<tr class="even">
<td align="center"><a href="http://maps.lapig.iesa.ufg.br">Pastagem.org</a></td>
<td align="center">Dados de pastagens e gado para o Brasil</td>
</tr>
<tr class="odd">
<td align="center"><a href="http://www.dsr.inpe.br/laf/canasat/">CanaSat</a></td>
<td align="center">Dados de cana-de-açúcar para o Brasil</td>
</tr>
<tr class="even">
<td align="center"><a href="http://maps.csr.ufmg.br">CSR Maps</a></td>
<td align="center">Diversos dados vetoriais para o Brasil</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://ecoregions2017.appspot.com/">Ecoregions</a></td>
<td align="center">Dados de biorregiões e biomas do mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://www.unbiodiversitylab.org/">UN Biodiversity Lab</a></td>
<td align="center">Diversas bases de dados para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.hydrosheds.org/">HydroSHEDS</a></td>
<td align="center">Informações hidrológicas do mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://www.globio.info/download-grip-dataset">Global Roads Inventory Project (GRIP)</a></td>
<td align="center">Dados de estradas do mundo todo</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://gadm.org/">GADM</a></td>
<td align="center">Limites de áreas administrativas do mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://www.naturalearthdata.com/">Natural Earth</a></td>
<td align="center">Diversos limites para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.protectedplanet.net">Protected Planet</a></td>
<td align="center">Dados de áreas protegidas para o mundo</td>
</tr>
</tbody>
</table>
</div>
<div id="raster-1" class="section level3" number="15.5.2">
<h3><span class="header-section-number">15.5.2</span> Raster</h3>
<p>Dentre as bases raster, destacamos as seguintes:</p>
<p><strong>Tabela 14.2</strong> - Principais bases de dados raster para o Brasil e o Mundo.</p>
<table>
<colgroup>
<col width="39%" />
<col width="60%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Bases de dados</th>
<th align="center">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><a href="https://mapbiomas.org">MapBiomas</a></td>
<td align="center">Uso e cobertura da terra para o Brasil, de 1985 a 2019</td>
</tr>
<tr class="even">
<td align="center"><a href="ftp://madeira.dea.ufv.br/bdados/bhalu/">Bahlu</a></td>
<td align="center">Distribuições históricas de terras agrícolas e pastagens para todo o Brasil de 1940 a 2012</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.usgs.gov">USGS</a></td>
<td align="center">Dados de diversos satélites livres para o mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="http://srtm.csi.cgiar.org/">SRTM</a></td>
<td align="center">Dados de elevação para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://geoservice.dlr.de/web/maps">Geoservice Maps</a></td>
<td align="center">Dados de elevação e florestas para o mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://www.globalforestwatch.org/">Global Forest Watch</a></td>
<td align="center">Dados de florestas para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="http://due.esrin.esa.int/page_globcover.php">GlobCover</a></td>
<td align="center">Dados de uso e cobertura da terra para todo o planeta</td>
</tr>
<tr class="even">
<td align="center"><a href="https://www.earthenv.org/landcover">Landcover</a></td>
<td align="center">Dados de uso e cobertura da terra para todo o planeta</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://wcshumanfootprint.org/">Global Human Footprint</a></td>
<td align="center">Dados de pegada ecológica para o mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://luh.umd.edu/">Land-Use Harmonization (LUH2)</a></td>
<td align="center">Dados atuais e previsões de uso da terra</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.worldclim.org/">WorldClim</a></td>
<td align="center">Dados climáticos para o mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="https://chelsa-climate.org/">CHELSA</a></td>
<td align="center">Dados climáticos para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://www.earthenv.org/">EarthEnv</a></td>
<td align="center">Dados de cobertura da terra, nuvens, relevo e hidrografia</td>
</tr>
<tr class="even">
<td align="center"><a href="https://soilgrids.org/">SoilGrids</a></td>
<td align="center">Dados de solo para o mundo</td>
</tr>
<tr class="odd">
<td align="center"><a href="http://www.marspec.org">MARSPEC</a></td>
<td align="center">Dados de condições do oceano para o mundo</td>
</tr>
<tr class="even">
<td align="center"><a href="http://www.oracle.ugent.be">Bio-ORACLE</a></td>
<td align="center">Dados de condições do oceano para o mundo</td>
</tr>
</tbody>
</table>
</div>
<div id="pacotes" class="section level3" number="15.5.3">
<h3><span class="header-section-number">15.5.3</span> Pacotes</h3>
<p>Dentre os pacotes, destacamos os seguintes:</p>
<p><strong>Tabela 14.3</strong> - Principais pacotes para download de dados vetoriais e raster.</p>
<table>
<colgroup>
<col width="49%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pacotes</th>
<th align="center">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/geobr/index.html">geobr</a></td>
<td align="center">Carrega Shapefiles de Conjuntos de Dados Espaciais Oficiais do Brasil</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/rnaturalearth/index.html">rnaturalearth</a></td>
<td align="center">Dados do mapa mundial da Natural Earth</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/rworldmap/index.html">rworldmap</a></td>
<td align="center">Mapeando Dados Globais</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/spData/index.html">spData</a></td>
<td align="center">Conjuntos de dados para análise espacial</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/OpenStreetMap/index.html">OpenStreetMap</a></td>
<td align="center">Acesso para abrir imagens raster de mapas de ruas</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/osmdata/index.html">osmdata</a></td>
<td align="center">Baixe e importe dados do OpenStreetMap</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/geonames/index.html">geonames</a></td>
<td align="center">Interface para o serviço da Web de consulta espacial “Geonames”</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/rgbif/index.html">rgbif</a></td>
<td align="center">Interface para o Global ‘Biodiversity’ Information Facility API</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/maptools/index.html">maptools</a></td>
<td align="center">Ferramentas para lidar com objetos espaciais</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/marmap/index.html">marmap</a></td>
<td align="center">Importar, traçar e analisar dados batimétricos e topográficos</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/envirem/index.html">envirem</a></td>
<td align="center">Geração de Variáveis ENVIREM</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/sdmpredictors/index.html">sdmpredictors</a></td>
<td align="center">Conjuntos de dados preditor de modelagem de distribuição de espécies</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/metScanR/index.html">metScanR</a></td>
<td align="center">Encontre, Mapeie e Colete Dados e Metadados Ambientais</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/ClimDown/index.html">ClimDown</a></td>
<td align="center">Biblioteca de redução de escala do clima para a produção diária do modelo climático</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/rWBclimate/index.html">rWBclimate</a></td>
<td align="center">Acessa dados climáticos do Banco Mundial</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/rnoaa/index.html">rnoaa</a></td>
<td align="center">Dados meteorológicos ‘NOAA’ de R</td>
</tr>
<tr class="odd">
<td align="center"><a href="https://cran.r-project.org/web/packages/RNCEP/index.html">RNCEP</a></td>
<td align="center">Obtenha, organize e visualize dados meteorológicos NCEP</td>
</tr>
<tr class="even">
<td align="center"><a href="https://cran.r-project.org/web/packages/smapr/index.html">smapr</a></td>
<td align="center">Aquisição e processamento de dados ativos-passivos (SMAP) de umidade do solo da NASA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="importar-e-exportar-dados-geográficos" class="section level2" number="15.6">
<h2><span class="header-section-number">15.6</span> Importar e exportar dados geográficos</h2>
<p>Agora que sabemos o que são dados geográficos e em quais bases de dados podemos buscar e baixar esses dados, veremos quais os principais formatos e como importá-los e exportá-los do R.</p>
<div id="principais-formatos-de-arquivos-geográficos" class="section level3" number="15.6.1">
<h3><span class="header-section-number">15.6.1</span> Principais formatos de arquivos geográficos</h3>
<p>Há diversos formatos de arquivos geográficos, alguns específicos para dados vetoriais e raster, e outros no formato de banco de dados geoespaciais, como PostGIS, que podem armazenar ambos.</p>
<p>Entretanto, o GDAL (Geospatial Data Abstraction Library), uma interface unificada para leitura e gravação de diversos arquivos geográficos, sendo utilizado por uma séria de softwares de GIS como QGIS, GRASS GIS e ArcGIS.</p>
<p>Dentre esses formatos, destacamos:</p>
<p><strong>Tabela 14.4</strong> - Principais formatos de arquivos geográficos. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019).</p>
<table>
<colgroup>
<col width="5%" />
<col width="7%" />
<col width="77%" />
<col width="4%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Nome</th>
<th align="center">Extensão</th>
<th align="center">Descrição</th>
<th align="center">Tipo</th>
<th align="center">Modelo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">ESRI Shapefile</td>
<td align="center">.shp (arquivo principal)</td>
<td align="center">Formato popular que consiste em pelo menos quatro arquivos: .shp (feição), .dbf (tabela de atributos), .shx (ligação entre .shp e .dbf) e .prj (projeção)</td>
<td align="center">Vetor</td>
<td align="center">Parcialmente aberto</td>
</tr>
<tr class="even">
<td align="center">GeoJSON</td>
<td align="center">.geojson</td>
<td align="center">Estende o formato de troca JSON incluindo um subconjunto da representação de recurso simples</td>
<td align="center">Vetor</td>
<td align="center">Aberto</td>
</tr>
<tr class="odd">
<td align="center">KML</td>
<td align="center">.kml</td>
<td align="center">Formato baseado em XML para visualização espacial, desenvolvido para uso com o Google Earth. O arquivo KML compactado forma o formato KMZ</td>
<td align="center">Vetor</td>
<td align="center">Aberto</td>
</tr>
<tr class="even">
<td align="center">GPX</td>
<td align="center">.gpx</td>
<td align="center">Esquema XML criado para troca de dados de GPS</td>
<td align="center">Vetor</td>
<td align="center">Aberto</td>
</tr>
<tr class="odd">
<td align="center">GeoTIFF</td>
<td align="center">.tif/.tiff</td>
<td align="center">Formato raster popular. Um arquivo TIFF contendo metadados espaciais adicionais.</td>
<td align="center">Raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="even">
<td align="center">Arc ASCII</td>
<td align="center">.asc</td>
<td align="center">Formato de texto em que as primeiras seis linhas representam o cabeçalho raster, seguido pelos valores das células raster organizadas em linhas e colunas</td>
<td align="center">Raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="odd">
<td align="center">NetCDF</td>
<td align="center">.nc</td>
<td align="center">NetCDF (Network Common Data Form) é um conjunto de bibliotecas de software e formatos de dados independentes para criação, acesso e compartilhamento de dados científicos orientados a array</td>
<td align="center">Raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="even">
<td align="center">BIL</td>
<td align="center">.bil/.hdr</td>
<td align="center">BIL (Banda intercalada por linha) são métodos comuns de organização para imagens multibanda, geralmente acompanhados por um arquivo .hdr, descrevendo atributos específicos da imagem</td>
<td align="center">Raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="odd">
<td align="center">R-raster</td>
<td align="center">.gri, .grd</td>
<td align="center">Formato raster nativo do raster do pacote R</td>
<td align="center">Raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="even">
<td align="center">SQLite/SpatiaLite</td>
<td align="center">.sqlite</td>
<td align="center">Banco de dados relacional autônomo, SpatiaLite é a extensão espacial do SQLite</td>
<td align="center">Vetor and raster</td>
<td align="center">Aberto</td>
</tr>
<tr class="odd">
<td align="center">ESRI FileGDB</td>
<td align="center">.gdb</td>
<td align="center">Objetos espaciais e não espaciais criados pelo ArcGIS. Permite: várias classes de recursos; topologia</td>
<td align="center">Vetor and raster</td>
<td align="center">Proprietário</td>
</tr>
<tr class="even">
<td align="center">GeoPackage</td>
<td align="center">.gpkg</td>
<td align="center">Contêiner de banco de dados leve baseado em SQLite permitindo uma troca fácil e independente de plataforma de geodados</td>
<td align="center">Vetor and raster</td>
<td align="center">Aberto</td>
</tr>
</tbody>
</table>
<p>O formato mais comum para arquivos vetoriais é o ESRI Shapefile, e para arquivos raster é o GeoTIFF, e para dados climáticos em múltiplas camadas, geralmente há a disponibilização de dados no formato NetCDF. Entretanto, recentemente tivemos o surgimento do <a href="https://www.geopackage.org/">GeoPackage</a>, que possui diversas vantagens em relação aos formatos anteriores, podendo armazanar em apenas um arquivo, dados no formato vetorial, raster e também dados não-espaciais, além de possuir uma grande integração com diversos softwares e bancos de dados.</p>
</div>
<div id="importar-dados" class="section level3" number="15.6.2">
<h3><span class="header-section-number">15.6.2</span> Importar dados</h3>
<p>As principais funções para importar dados no R são: 1) para vetores a função <code>sf::st_read()</code>, e 2) para rasters a função <code>raster::raster()</code> e suas variações <code>raster::brick()</code> e <code>raster::stack()</code>. Essas funções atribuem objetos ao seu espaço de trabalho, armazenando-os na memória RAM disponível em seu hardware, sendo essa a maior limitação para trabalhar com dados geográficos no R. Por exemplo, se um arquivo raster possui mais de 8 Gb de tamamho, e seu computador possui extamente 8 Gb de RAM, é muito provável que ele não seja importado ou mesmo criado como um objeto dentro do ambiente R. Existem soluções para esses problemas, mas não as abordaremos nesse capítulo.</p>
<div id="dados-vetoriais" class="section level4" number="15.6.2.1">
<h4><span class="header-section-number">15.6.2.1</span> Dados vetoriais</h4>
<p>Como vimos, os arquivos vetoriais são disponibilizados em diversos formatos. Para sabermos se um determinado formato pode ser importado ou exportado utilizando o pacote <code>sf</code>, podemos utilizar:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="visualização-de-dados-geográficos.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">st_drivers</span>(), <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><strong>Tabela 14.5</strong> - Formatos vetoriais importados e exportados pelo pacote <code>sf</code>.</p>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">long_name</th>
<th align="left">write</th>
<th align="left">copy</th>
<th align="left">is_raster</th>
<th align="left">is_vector</th>
<th align="left">vsi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ESRIC</td>
<td align="left">Esri Compact Cache</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">FITS</td>
<td align="left">Flexible Image Transport System</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">PCIDSK</td>
<td align="left">PCIDSK Database File</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">netCDF</td>
<td align="left">Network Common Data Format</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PDS4</td>
<td align="left">NASA Planetary Data System 4</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Para importar vetores no R iremos utilizar a função <code>sf::st_read()</code>. A estrutura é semelhante para todos os formatos descritos na Tabela 14.5, de modo que sempre preencheremos o argumento <em>dsn</em> (data source name) com o nome do arquivo à ser importado. Entretanto, para banco de dados, como GeoPackage, pode ser necessário especificar a camada que se tem interesse com um segundo argumento na função <code>sf::st_read()</code>, chamado <em>layer</em>, com o nome da camada.</p>
<p>Para todas as operações nesse livro, usaremos os dados disponíveis para o município de Rio Claro/SP. Primeiramente, iremos baixar esses dados da <a href="https://www.fbds.org.br/">FBDS (Fundação Brasileira para o Desenvolvimento Sustentável)</a>, através desse <a href="http://geo.fbds.org.br/">repositório de dados</a>. Em 2015, a FBDS deu início ao Projeto de Mapeamento em Alta Resoluçăo dos Biomas Brasileiros, mapeando a cobertura da terra, hidrografia (nascentes, rios e lagos) e áreas de preservaçăo permanente (APPs). O mapeamento foi concluído para os municípios dos biomas Mata Atlântica e Cerrado. Para fazer o download dos arquivos de interesse, utilizaremos o R.</p>
<p>Primeiramente, iremos criar um diretório.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="visualização-de-dados-geográficos.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criar um diretorio</span></span>
<span id="cb17-2"><a href="visualização-de-dados-geográficos.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>))</span>
<span id="cb17-3"><a href="visualização-de-dados-geográficos.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>))</span></code></pre></div>
<p>Em seguida, vamos fazer o download de pontos de nascentes, linhas de hidrografia e polígonos de cobertura da terra para Rio Claro/SP.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="visualização-de-dados-geográficos.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aumentar o tempo de download</span></span>
<span id="cb18-2"><a href="visualização-de-dados-geográficos.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb18-3"><a href="visualização-de-dados-geográficos.html#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="visualização-de-dados-geográficos.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb18-5"><a href="visualização-de-dados-geográficos.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">&quot;.dbf&quot;</span>, <span class="st">&quot;.prj&quot;</span>, <span class="st">&quot;.shp&quot;</span>, <span class="st">&quot;.shx&quot;</span>)){</span>
<span id="cb18-6"><a href="visualização-de-dados-geográficos.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-7"><a href="visualização-de-dados-geográficos.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pontos nascentes</span></span>
<span id="cb18-8"><a href="visualização-de-dados-geográficos.html#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb18-9"><a href="visualização-de-dados-geográficos.html#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/HIDROGRAFIA/SP_3543907_NASCENTES&quot;</span>, i),</span>
<span id="cb18-10"><a href="visualização-de-dados-geográficos.html#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_NASCENTES&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb18-11"><a href="visualização-de-dados-geográficos.html#cb18-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-12"><a href="visualização-de-dados-geográficos.html#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># linhas hidrografia</span></span>
<span id="cb18-13"><a href="visualização-de-dados-geográficos.html#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb18-14"><a href="visualização-de-dados-geográficos.html#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/HIDROGRAFIA/SP_3543907_RIOS_SIMPLES&quot;</span>, i),</span>
<span id="cb18-15"><a href="visualização-de-dados-geográficos.html#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_RIOS_SIMPLES&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb18-16"><a href="visualização-de-dados-geográficos.html#cb18-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-17"><a href="visualização-de-dados-geográficos.html#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># poligonos cobertura da terra</span></span>
<span id="cb18-18"><a href="visualização-de-dados-geográficos.html#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb18-19"><a href="visualização-de-dados-geográficos.html#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/USO/SP_3543907_USO&quot;</span>, i),</span>
<span id="cb18-20"><a href="visualização-de-dados-geográficos.html#cb18-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_USO&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb18-21"><a href="visualização-de-dados-geográficos.html#cb18-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Agora podemos importar esses dados para o R. Primeiro vamos importar as nascentes.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="visualização-de-dados-geográficos.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar pontos</span></span>
<span id="cb19-2"><a href="visualização-de-dados-geográficos.html#cb19-2" aria-hidden="true" tabindex="-1"></a>rc_nas <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_NASCENTES.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-3"><a href="visualização-de-dados-geográficos.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="visualização-de-dados-geográficos.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb19-5"><a href="visualização-de-dados-geográficos.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_nas[<span class="dv">1</span>], <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>Agora vamos importar a hidrografia.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="visualização-de-dados-geográficos.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar hidrografia</span></span>
<span id="cb20-2"><a href="visualização-de-dados-geográficos.html#cb20-2" aria-hidden="true" tabindex="-1"></a>rc_hid <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_RIOS_SIMPLES.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-3"><a href="visualização-de-dados-geográficos.html#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="visualização-de-dados-geográficos.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb20-5"><a href="visualização-de-dados-geográficos.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_hid[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>E por fim, vamos importar a cobertura da terra.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="visualização-de-dados-geográficos.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar cobertura</span></span>
<span id="cb21-2"><a href="visualização-de-dados-geográficos.html#cb21-2" aria-hidden="true" tabindex="-1"></a>rc_cob <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_USO.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-3"><a href="visualização-de-dados-geográficos.html#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="visualização-de-dados-geográficos.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb21-5"><a href="visualização-de-dados-geográficos.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_cob[<span class="dv">5</span>], <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;gray30&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p>Além de bases de dados, podemos importar dados de pacotes, como listado anteriormente. Para o Brasil, o pacote mais interessante trata-se do <a href="https://ipeagit.github.io/geobr/"><code>geobr</code></a>, do <a href="https://www.ipea.gov.br/portal/">Instituto de Pesquisa Econômica Aplicada (IPEA)</a>, que possui dados oficiais do <a href="https://www.ibge.gov.br/">Instituto Brasileiro de Geografia e Estatística (IBGE))</a>.</p>
<p>É possível listar todas os dados disponíveis no pacote através da função <code>list_geobr()</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="visualização-de-dados-geográficos.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># listar todos os dados do geobr</span></span>
<span id="cb22-2"><a href="visualização-de-dados-geográficos.html#cb22-2" aria-hidden="true" tabindex="-1"></a>geobr<span class="sc">::</span><span class="fu">list_geobr</span>()</span></code></pre></div>
<p><strong>Tabela 14.6</strong> - Alguns dados disponíveis no pacote <code>geobr</code>.</p>
<table>
<colgroup>
<col width="15%" />
<col width="11%" />
<col width="69%" />
<col width="3%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left">geography</th>
<th align="left">years</th>
<th align="left">source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>read_country</code></td>
<td align="left">Country</td>
<td align="left">1872, 1900, 1911, 1920, 1933, 1940, 1950, 1960, 1970, 1980, 1991, 2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_region</code></td>
<td align="left">Region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="odd">
<td align="left"><code>read_state</code></td>
<td align="left">States</td>
<td align="left">1872, 1900, 1911, 1920, 1933, 1940, 1950, 1960, 1970, 1980, 1991, 2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_meso_region</code></td>
<td align="left">Meso region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="odd">
<td align="left"><code>read_micro_region</code></td>
<td align="left">Micro region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_intermediate_region</code></td>
<td align="left">Intermediate region</td>
<td align="left">2017, 2019</td>
<td align="left">IBGE</td>
</tr>
</tbody>
</table>
<p>Como exemplo, vamos fazer o download o limite do município de Rio Claro/SP.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="visualização-de-dados-geográficos.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rio claro</span></span>
<span id="cb23-2"><a href="visualização-de-dados-geográficos.html#cb23-2" aria-hidden="true" tabindex="-1"></a>rc_2019 <span class="ot">&lt;-</span> geobr<span class="sc">::</span><span class="fu">read_municipality</span>(<span class="at">code_muni =</span> <span class="dv">3543907</span>, <span class="at">year =</span> <span class="dv">2019</span>, <span class="at">showProgress =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-3"><a href="visualização-de-dados-geográficos.html#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="visualização-de-dados-geográficos.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb23-5"><a href="visualização-de-dados-geográficos.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>Já para o mundo, o pacote mais interessante trata-se do <a href="https://docs.ropensci.org/rnaturalearth/"><code>rnaturalearth</code></a>, que faz o download de dados do <a href="https://www.naturalearthdata.com/">Natural Earth</a>. Vamos fazer o download do limite do Brasil.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="visualização-de-dados-geográficos.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># brasil</span></span>
<span id="cb24-2"><a href="visualização-de-dados-geográficos.html#cb24-2" aria-hidden="true" tabindex="-1"></a>br <span class="ot">&lt;-</span> rnaturalearth<span class="sc">::</span><span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">&quot;large&quot;</span>, <span class="at">country =</span> <span class="st">&quot;Brazil&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>)</span>
<span id="cb24-3"><a href="visualização-de-dados-geográficos.html#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="visualização-de-dados-geográficos.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb24-5"><a href="visualização-de-dados-geográficos.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(br[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
<div id="dados-raster" class="section level4" number="15.6.2.2">
<h4><span class="header-section-number">15.6.2.2</span> Dados raster</h4>
<p>Para importar dados raster no R iremos utilizar a função <code>raster::raster()</code>, <code>raster::brick()</code> ou <code>raster::stack()</code>. Para apenas uma camada raster usaremos a função <code>raster::raster()</code>, com o argumento <em>x</em> sendo o nome do arquivo. Já para mais camadas, usaremos <code>raster::brick()</code> para um arquivos que possua múltiplas camadas ou <code>raster::stack()</code> para várias arquivos em diferentes camadas também no argumento <em>x</em>, sendo necessário listar os arquivos no diretório, geralmente utilizando a função <code>dir()</code> ou <code>list.files()</code>. Entretanto, para especificar uma camada, podemos utiliar o argumento <em>band</em> ou <em>layer</em> e o nome dessa camada.</p>
<p>Primeiramente, vamos criar um diretório como para os dados veroriais.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="visualização-de-dados-geográficos.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory</span></span>
<span id="cb25-2"><a href="visualização-de-dados-geográficos.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Em seguida, vamos fazer o download de dados de elevação, localizados também para o município de Rio Claro. Iremos utilizar os dados do SRTM, para mais informações, acesse esse <a href="https://srtm.csi.cgiar.org/">site</a>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="visualização-de-dados-geográficos.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aumentar o tempo oara download</span></span>
<span id="cb26-2"><a href="visualização-de-dados-geográficos.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb26-3"><a href="visualização-de-dados-geográficos.html#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="visualização-de-dados-geográficos.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb26-5"><a href="visualização-de-dados-geográficos.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://srtm.csi.cgiar.org/wp-content/uploads/files/srtm_5x5/TIFF/srtm_27_17.zip&quot;</span>,</span>
<span id="cb26-6"><a href="visualização-de-dados-geográficos.html#cb26-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.zip&quot;</span>), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb26-7"><a href="visualização-de-dados-geográficos.html#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="visualização-de-dados-geográficos.html#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># unzip</span></span>
<span id="cb26-9"><a href="visualização-de-dados-geográficos.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.zip&quot;</span>),</span>
<span id="cb26-10"><a href="visualização-de-dados-geográficos.html#cb26-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Agora podemos importar essa camada para o R.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="visualização-de-dados-geográficos.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar raster</span></span>
<span id="cb27-2"><a href="visualização-de-dados-geográficos.html#cb27-2" aria-hidden="true" tabindex="-1"></a>ra <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">raster</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.tif&quot;</span>))</span>
<span id="cb27-3"><a href="visualização-de-dados-geográficos.html#cb27-3" aria-hidden="true" tabindex="-1"></a>ra</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 6000, 6000, 3.6e+07  (nrow, ncol, ncell)
## resolution : 0.0008333333, 0.0008333333  (x, y)
## extent     : -50, -45, -25, -20  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/srtm_27_17.tif 
## names      : srtm_27_17 
## values     : -32768, 32767  (min, max)</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="visualização-de-dados-geográficos.html#cb29-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(ra, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb29-2"><a href="visualização-de-dados-geográficos.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019<span class="sc">$</span>geom, <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;red&quot;</span>, .<span class="dv">5</span>), <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Além dos dados de elevação, dados de temperatura e precipitação podem ser obtidos do <a href="https://www.worldclim.org/">WorldClim</a>. Para saber mais sobre esses dados, recomandamos a leitura do artigo Fick &amp; Hijmans (2017).</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="visualização-de-dados-geográficos.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb30-2"><a href="visualização-de-dados-geográficos.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://biogeo.ucdavis.edu/data/worldclim/v2.1/base/wc2.1_10m_bio.zip&quot;</span>,</span>
<span id="cb30-3"><a href="visualização-de-dados-geográficos.html#cb30-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;wc2.0_10m_bio.zip&quot;</span>), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb30-4"><a href="visualização-de-dados-geográficos.html#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="visualização-de-dados-geográficos.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># unzip</span></span>
<span id="cb30-6"><a href="visualização-de-dados-geográficos.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;wc2.0_10m_bio.zip&quot;</span>),</span>
<span id="cb30-7"><a href="visualização-de-dados-geográficos.html#cb30-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Para importar essa série de camadas, primeiramente iremos listar os arquivos e depois importar no formato <code>RasterStack</code>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="visualização-de-dados-geográficos.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># listar arquivos</span></span>
<span id="cb31-2"><a href="visualização-de-dados-geográficos.html#cb31-2" aria-hidden="true" tabindex="-1"></a>fi <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>), <span class="at">pattern =</span> <span class="st">&quot;wc&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="visualização-de-dados-geográficos.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">&quot;.tif&quot;</span>, ., <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-4"><a href="visualização-de-dados-geográficos.html#cb31-4" aria-hidden="true" tabindex="-1"></a>fi</span></code></pre></div>
<pre><code>##  [1] &quot;wc2.1_10m_bio_1.tif&quot;  &quot;wc2.1_10m_bio_10.tif&quot; &quot;wc2.1_10m_bio_11.tif&quot;
##  [4] &quot;wc2.1_10m_bio_12.tif&quot; &quot;wc2.1_10m_bio_13.tif&quot; &quot;wc2.1_10m_bio_14.tif&quot;
##  [7] &quot;wc2.1_10m_bio_15.tif&quot; &quot;wc2.1_10m_bio_16.tif&quot; &quot;wc2.1_10m_bio_17.tif&quot;
## [10] &quot;wc2.1_10m_bio_18.tif&quot; &quot;wc2.1_10m_bio_19.tif&quot; &quot;wc2.1_10m_bio_2.tif&quot; 
## [13] &quot;wc2.1_10m_bio_3.tif&quot;  &quot;wc2.1_10m_bio_4.tif&quot;  &quot;wc2.1_10m_bio_5.tif&quot; 
## [16] &quot;wc2.1_10m_bio_6.tif&quot;  &quot;wc2.1_10m_bio_7.tif&quot;  &quot;wc2.1_10m_bio_8.tif&quot; 
## [19] &quot;wc2.1_10m_bio_9.tif&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="visualização-de-dados-geográficos.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar</span></span>
<span id="cb33-2"><a href="visualização-de-dados-geográficos.html#cb33-2" aria-hidden="true" tabindex="-1"></a>st <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">stack</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, fi))</span>
<span id="cb33-3"><a href="visualização-de-dados-geográficos.html#cb33-3" aria-hidden="true" tabindex="-1"></a>st</span></code></pre></div>
<pre><code>## class      : RasterStack 
## dimensions : 1080, 2160, 2332800, 19  (nrow, ncol, ncell, nlayers)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## names      : wc2.1_10m_bio_1, wc2.1_10m_bio_10, wc2.1_10m_bio_11, wc2.1_10m_bio_12, wc2.1_10m_bio_13, wc2.1_10m_bio_14, wc2.1_10m_bio_15, wc2.1_10m_bio_16, wc2.1_10m_bio_17, wc2.1_10m_bio_18, wc2.1_10m_bio_19, wc2.1_10m_bio_2, wc2.1_10m_bio_3, wc2.1_10m_bio_4, wc2.1_10m_bio_5, ... 
## min values :      -54.724354,       -37.781418,       -66.311249,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,        1.000000,        9.131122,        0.000000,      -29.686001, ... 
## max values :        30.98764,         38.21617,         29.15299,      11191.00000,       2381.00000,        484.00000,        229.00169,       5284.00000,       1507.00000,       5282.00000,       4467.00000,        21.14754,       100.00000,      2363.84595,        48.08275, ...</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="visualização-de-dados-geográficos.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb35-2"><a href="visualização-de-dados-geográficos.html#cb35-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(st[[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]], <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span></code></pre></div>
<p><img src="livro_r_ecologia_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
</div>
<div id="exportar-dados" class="section level3" number="15.6.3">
<h3><span class="header-section-number">15.6.3</span> Exportar dados</h3>
<p>Saber a melhor forma de exportar dados geográficos de objetos recém-criadosdo R é fundamental, principalmente porque essa ação irá depender do tipo de dado (vetor ou raster), classe do objeto (por exemplo, multiponto ou RasterLayer) e tipo e quantidade de informações armazenadas (por exemplo, tamanho do objeto, intervalo de valores)</p>
<div id="dados-vetoriais-1" class="section level4" number="15.6.3.1">
<h4><span class="header-section-number">15.6.3.1</span> Dados vetoriais</h4>
<p>Para dados vetoriais, a principal função utilizada é a <code>sf::st_write()</code>. Essa função permite gravar objetos <strong>sf</strong> em vários formatos de arquivos vetoriais, .shp, .gpkg ou .geojson. O formato que será exportado vai decidido com base no nome do arquivo, assim como a velocidade do processo de gravação.</p>
<p>Os argumentos dessa função será o <em>obj</em> que é o objeto <strong>sf</strong> criado no ambiente R, e o <em>dsn</em> será o data source name, ou seja, o nome que o arquivo tera ao ser exportado do R, de modo que o complemento <strong>.shp</strong>, por exemplo, irá definir que o arquivo terá a extensão ESRI Shapefile.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="visualização-de-dados-geográficos.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor de rio claro no formato esri shapefile</span></span>
<span id="cb36-2"><a href="visualização-de-dados-geográficos.html#cb36-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> rc_2019, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;rio_claro.shp&quot;</span>))</span></code></pre></div>
<p>Ou podemos exportar no formato de GeoPackage. Entretando, aqui é interessante acrescentar um argumento chamado <em>layer</em> para definir o nome das camadas.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="visualização-de-dados-geográficos.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor de rio claro no formato geopackage</span></span>
<span id="cb37-2"><a href="visualização-de-dados-geográficos.html#cb37-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> rc_2019, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;vetores.gpkg&quot;</span>), <span class="at">layer =</span> <span class="st">&quot;rio_claro&quot;</span>)</span></code></pre></div>
<p>Sobre esse formato, há algo muito interessante que podemos fazer: podemos agrescentar outros arquivos vetoriais ao mesmo. Iremos exportar o limite do Brasil no mesmo arquivo.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="visualização-de-dados-geográficos.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor do brasil no formato geopackage</span></span>
<span id="cb38-2"><a href="visualização-de-dados-geográficos.html#cb38-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> br, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;vetores.gpkg&quot;</span>), <span class="at">layer =</span> <span class="st">&quot;brasil&quot;</span>)</span></code></pre></div>
</div>
<div id="dados-raster-1" class="section level4" number="15.6.3.2">
<h4><span class="header-section-number">15.6.3.2</span> Dados raster</h4>
<p>Para exportar dados raster utilizamos a função <code>raster::writeRaster()</code>. Exportar dados raster é um pouco mais complexo que dados vetoriais, além da diferença de poder exportar arquivos em uma camada ou várias, quantidade de informações por pixel, e ainda diferentes formatos de saída. Sem contar que arquivos raster geralmente ocupam bastante espaço em disco. Dessa forma, há parâmetros específicos para certos tipos de dados, que detalharemos a seguir.</p>
<p>O argumento <em>x</em> diz respeito ao objeto raster no ambiente R. O argumento <em>filename</em> é nome do arquivo que será exportado do R, podendo ou não possuir a extensão que se pretende que o arquivo tenha. O argumento <em>format</em> é o formato do arquivo, sendo as principais possibilidades resumidas na Tabela 14.7, e para saber das possibilidade suportadas, use a função <code>raster::writeFormats()</code>. O argumento <em>bylayer</em> diz se de um objeto com múltiplas camadas, cada uma delas será exportada em um arquivo diferente.</p>
<p><strong>Tabela 14.7</strong> - Principais formatos de arquivos raster exportados do R.</p>
<table>
<thead>
<tr class="header">
<th align="center">Tipo de arquivo</th>
<th align="center">Nome longo</th>
<th align="center">Extensão</th>
<th align="center">Suporte a múltiplas camadas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">raster</td>
<td align="center">Formato pacote raster</td>
<td align="center">.grd</td>
<td align="center">Sim</td>
</tr>
<tr class="even">
<td align="center">ascii</td>
<td align="center">ESRI Ascii</td>
<td align="center">.asc</td>
<td align="center">Não</td>
</tr>
<tr class="odd">
<td align="center">SAGA</td>
<td align="center">SAGA GIS</td>
<td align="center">.sdat</td>
<td align="center">Não</td>
</tr>
<tr class="even">
<td align="center">IDRISI</td>
<td align="center">IDRISI</td>
<td align="center">.rst</td>
<td align="center">Não</td>
</tr>
<tr class="odd">
<td align="center">CDF</td>
<td align="center">netCDF (requer ncdf4)</td>
<td align="center">.nc</td>
<td align="center">Sim</td>
</tr>
<tr class="even">
<td align="center">GTiff</td>
<td align="center">GeoTiff (requer rgdal)</td>
<td align="center">.tif</td>
<td align="center">Sim</td>
</tr>
<tr class="odd">
<td align="center">ENVI</td>
<td align="center">ENVI .hdr</td>
<td align="center">.envi</td>
<td align="center">Sim</td>
</tr>
<tr class="even">
<td align="center">EHdr</td>
<td align="center">ESRI .hdr</td>
<td align="center">.bil</td>
<td align="center">Sim</td>
</tr>
<tr class="odd">
<td align="center">HFA</td>
<td align="center">Erdas imagem (.img)</td>
<td align="center">.img</td>
<td align="center">Sim</td>
</tr>
</tbody>
</table>
<p>Dentre os argumentos adicionais, temos ainda o <em>datatype</em>, que faz referência à um dos nove tipos de dados detalhados na Tabela 14.8, sendo que o tipo de dado determina a representação de bits do objeto raster exportado e depende da faixa de valores do objeto raster. Quanto mais valores um tipo de dado puder representar, maior será o arquivo que ficará no disco, dessa forma, é interessante utilizar um tipo de dados que diminua o tamanho do arquivo à ser exportado, dependendo do tipo de dados em cada pixel, como demonstra a Tabela 14.6. Para a função <code>raster::writeRaster()</code>, o default é <em>FLT4S</em>, o que pode ocupar mais espaço em disco do que o necessário, dependendo do tipo de dados do objeto raster no R.</p>
<p><strong>Tabela 14.8</strong> - Tipos de dados suportados pelo pacote raster.</p>
<table>
<thead>
<tr class="header">
<th align="center">Tipo de dado</th>
<th align="center">Valor mínimo</th>
<th align="center">Valor máximo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">LOG1S</td>
<td align="center">FALSE (0)</td>
<td align="center">TRUE (1)</td>
</tr>
<tr class="even">
<td align="center">INT1S</td>
<td align="center">-127</td>
<td align="center">127</td>
</tr>
<tr class="odd">
<td align="center">INT1U</td>
<td align="center">0</td>
<td align="center">255</td>
</tr>
<tr class="even">
<td align="center">INT2S</td>
<td align="center">-32,767</td>
<td align="center">32,767</td>
</tr>
<tr class="odd">
<td align="center">INT2U</td>
<td align="center">0</td>
<td align="center">65,534</td>
</tr>
<tr class="even">
<td align="center">INT4S</td>
<td align="center">-2,147,483,647</td>
<td align="center">2,147,483,647</td>
</tr>
<tr class="odd">
<td align="center">INT4U</td>
<td align="center">0</td>
<td align="center">4,294,967,296</td>
</tr>
<tr class="even">
<td align="center">FLT4S</td>
<td align="center">-3.4e+38</td>
<td align="center">3.4e+38</td>
</tr>
<tr class="odd">
<td align="center">FLT8S</td>
<td align="center">-1.7e+308</td>
<td align="center">1.7e+308</td>
</tr>
</tbody>
</table>
<p>Outros argumentos de suporte são: <em>overwrite</em> para sobreescrever um arquivo que já exista, <em>progress</em> para mostrar uma barra de progresso da exportação como “text” ou “window,” e <em>options</em> que permite opções do GDAL. Para esse último, quando exportar especificamente para o formato <strong>GeoTIFF</strong>, podemos utilizar <code>options = c("COMPRESS=NONE", "TFW=YES")</code> para que haja compressão do arquivo, diminuindo consideravelmente seu tamanho, aliado à um arquivo auxiliar .tfw para ser carregado em softwares específicos de SIG, como ArcGIS.</p>
<p>Para exportar apenas uma camada <code>RasterLayer</code>, podemos utilizar a função <code>raster::writeRaster()</code> em um formato mais simples.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="visualização-de-dados-geográficos.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># diretorio</span></span>
<span id="cb39-2"><a href="visualização-de-dados-geográficos.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>))</span>
<span id="cb39-3"><a href="visualização-de-dados-geográficos.html#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="visualização-de-dados-geográficos.html#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar raster layer</span></span>
<span id="cb39-5"><a href="visualização-de-dados-geográficos.html#cb39-5" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(ra, </span>
<span id="cb39-6"><a href="visualização-de-dados-geográficos.html#cb39-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">filename =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>, <span class="st">&quot;elevation&quot;</span>),</span>
<span id="cb39-7"><a href="visualização-de-dados-geográficos.html#cb39-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">format =</span> <span class="st">&quot;GTiff&quot;</span>,</span>
<span id="cb39-8"><a href="visualização-de-dados-geográficos.html#cb39-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">datatype =</span> <span class="st">&quot;INT2S&quot;</span>,</span>
<span id="cb39-9"><a href="visualização-de-dados-geográficos.html#cb39-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">options =</span> <span class="fu">c</span>(<span class="st">&quot;COMPRESS=NONE&quot;</span>, <span class="st">&quot;TFW=YES&quot;</span>),</span>
<span id="cb39-10"><a href="visualização-de-dados-geográficos.html#cb39-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">progress =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb39-11"><a href="visualização-de-dados-geográficos.html#cb39-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Para mais de uma camada <code>RasterBrick</code> ou <code>RasterStack</code>, podemos utilizar a função <code>raster::writeRaster()</code> com mais argumentos.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="visualização-de-dados-geográficos.html#cb40-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(<span class="at">x =</span> st, </span>
<span id="cb40-2"><a href="visualização-de-dados-geográficos.html#cb40-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">filename =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>, <span class="fu">names</span>(st)),</span>
<span id="cb40-3"><a href="visualização-de-dados-geográficos.html#cb40-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">bylayer =</span> <span class="cn">TRUE</span>, </span>
<span id="cb40-4"><a href="visualização-de-dados-geográficos.html#cb40-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">format =</span> <span class="st">&quot;GTiff&quot;</span>,</span>
<span id="cb40-5"><a href="visualização-de-dados-geográficos.html#cb40-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">datatype =</span> <span class="st">&quot;INT2S&quot;</span>,</span>
<span id="cb40-6"><a href="visualização-de-dados-geográficos.html#cb40-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">options =</span> <span class="fu">c</span>(<span class="st">&quot;COMPRESS=NONE&quot;</span>, <span class="st">&quot;TFW=YES&quot;</span>),</span>
<span id="cb40-7"><a href="visualização-de-dados-geográficos.html#cb40-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">progress =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb40-8"><a href="visualização-de-dados-geográficos.html#cb40-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="descrição-de-objetos-sf-e-raster" class="section level2" number="15.7">
<h2><span class="header-section-number">15.7</span> Descrição de objetos sf e raster</h2>
<p>Muitas vezes iremos precisar verificar as informações dos objetos importados para o R. Apesar de chamar o objeto trazer grande parte das informações que precisamos, existem runções específicas que nos auxiliam nesse processo.</p>
<div id="vetor-2" class="section level3" number="15.7.1">
<h3><span class="header-section-number">15.7.1</span> Vetor</h3>
<p>Podemos acessar as informações geográficas e a tabela de atributos de um objeto importado como vetor simplesmente chamando o nome do objeto no R.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="visualização-de-dados-geográficos.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rio claro</span></span>
<span id="cb41-2"><a href="visualização-de-dados-geográficos.html#cb41-2" aria-hidden="true" tabindex="-1"></a>rc_2019</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 7 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -47.76536 ymin: -22.55203 xmax: -47.46188 ymax: -22.24368
## geographic CRS: SIRGAS 2000
##     code_muni name_muni code_state abbrev_state name_state code_region
## 493   3543907 Rio Claro         35           SP  São Paulo           3
##     name_region                           geom
## 493     Sudeste MULTIPOLYGON (((-47.66303 -...</code></pre>
<p>Mas também podemos acessar informações geográficas com funções específicas, como tipo de geometria, limites geográficos do vetor (extensão), sistema de referência de coordenadas (CRS), e a tabela de atributos.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="visualização-de-dados-geográficos.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tipo de geometria</span></span>
<span id="cb43-2"><a href="visualização-de-dados-geográficos.html#cb43-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_geometry_type</span>(rc_2019)</span></code></pre></div>
<pre><code>## [1] MULTIPOLYGON
## 18 Levels: GEOMETRY POINT LINESTRING POLYGON MULTIPOINT ... TRIANGLE</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="visualização-de-dados-geográficos.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extensao</span></span>
<span id="cb45-2"><a href="visualização-de-dados-geográficos.html#cb45-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_bbox</span>(rc_2019)</span></code></pre></div>
<pre><code>##      xmin      ymin      xmax      ymax 
## -47.76536 -22.55203 -47.46188 -22.24368</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="visualização-de-dados-geográficos.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># crs</span></span>
<span id="cb47-2"><a href="visualização-de-dados-geográficos.html#cb47-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_crs</span>(rc_2019)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: SIRGAS 2000 
##   wkt:
## GEOGCRS[&quot;SIRGAS 2000&quot;,
##     DATUM[&quot;Sistema de Referencia Geocentrico para las AmericaS 2000&quot;,
##         ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;Latin America - Central America and South America - onshore and offshore. Brazil - onshore and offshore.&quot;],
##         BBOX[-59.87,-122.19,32.72,-25.28]],
##     ID[&quot;EPSG&quot;,4674]]</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="visualização-de-dados-geográficos.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># acessar a tabela de atributos</span></span>
<span id="cb49-2"><a href="visualização-de-dados-geográficos.html#cb49-2" aria-hidden="true" tabindex="-1"></a>rc_2019_tab <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>(rc_2019)</span>
<span id="cb49-3"><a href="visualização-de-dados-geográficos.html#cb49-3" aria-hidden="true" tabindex="-1"></a>rc_2019_tab</span></code></pre></div>
<pre><code>##     code_muni name_muni code_state abbrev_state name_state code_region
## 493   3543907 Rio Claro         35           SP  São Paulo           3
##     name_region
## 493     Sudeste</code></pre>
</div>
<div id="raster-2" class="section level3" number="15.7.2">
<h3><span class="header-section-number">15.7.2</span> Raster</h3>
<p>Da mesma forma, podemos acessar as informações dos dados raster chamando o nome do objeto.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="visualização-de-dados-geográficos.html#cb51-1" aria-hidden="true" tabindex="-1"></a>ra</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 6000, 6000, 3.6e+07  (nrow, ncol, ncell)
## resolution : 0.0008333333, 0.0008333333  (x, y)
## extent     : -50, -45, -25, -20  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/srtm_27_17.tif 
## names      : srtm_27_17 
## values     : -32768, 32767  (min, max)</code></pre>
<p>Além disso, podemos selecionar informações desse objeto com funções específicas, tanto para <code>RasterLayer</code> quanto para <code>RasterBrick</code> ou <code>RasterStack</code>, como classe, dimensões (número de linhas, colunas e camadas), número de camadas, número de linhas, número de colunas, número de células, resolução (largura e altura do tamanho do pixel), extensão (limites geográficos), sistema de referência de coordenadas (CRS), nome das camadas e extrair os valores de todos os pixels.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="visualização-de-dados-geográficos.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># classe</span></span>
<span id="cb53-2"><a href="visualização-de-dados-geográficos.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;RasterLayer&quot;
## attr(,&quot;package&quot;)
## [1] &quot;raster&quot;</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="visualização-de-dados-geográficos.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensoes</span></span>
<span id="cb55-2"><a href="visualização-de-dados-geográficos.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000 6000    1</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="visualização-de-dados-geográficos.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de camadas</span></span>
<span id="cb57-2"><a href="visualização-de-dados-geográficos.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nlayers</span>(ra)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="visualização-de-dados-geográficos.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de linhas</span></span>
<span id="cb59-2"><a href="visualização-de-dados-geográficos.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="visualização-de-dados-geográficos.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de colunas</span></span>
<span id="cb61-2"><a href="visualização-de-dados-geográficos.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="visualização-de-dados-geográficos.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de celulas</span></span>
<span id="cb63-2"><a href="visualização-de-dados-geográficos.html#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncell</span>(ra)</span></code></pre></div>
<pre><code>## [1] 3.6e+07</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="visualização-de-dados-geográficos.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># resolucao</span></span>
<span id="cb65-2"><a href="visualização-de-dados-geográficos.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">res</span>(ra)</span></code></pre></div>
<pre><code>## [1] 0.0008333333 0.0008333333</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="visualização-de-dados-geográficos.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extensao</span></span>
<span id="cb67-2"><a href="visualização-de-dados-geográficos.html#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">extent</span>(ra)</span></code></pre></div>
<pre><code>## class      : Extent 
## xmin       : -50 
## xmax       : -45 
## ymin       : -25 
## ymax       : -20</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="visualização-de-dados-geográficos.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao ou crs</span></span>
<span id="cb69-2"><a href="visualização-de-dados-geográficos.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">projection</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="visualização-de-dados-geográficos.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nome</span></span>
<span id="cb71-2"><a href="visualização-de-dados-geográficos.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;srtm_27_17&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="visualização-de-dados-geográficos.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># valores</span></span>
<span id="cb73-2"><a href="visualização-de-dados-geográficos.html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getValues</span>(ra) <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="visualização-de-dados-geográficos.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">values</span>(ra) <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="visualização-de-dados-geográficos.html#cb77-1" aria-hidden="true" tabindex="-1"></a>ra[] <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
</div>
</div>
<div id="reprojeção-de-dados-geográficos" class="section level2" number="15.8">
<h2><span class="header-section-number">15.8</span> Reprojeção de dados geográficos</h2>
<div id="reprojetando-vetores" class="section level3" number="15.8.1">
<h3><span class="header-section-number">15.8.1</span> Reprojetando vetores</h3>
</div>
<div id="reprojetando-raster" class="section level3" number="15.8.2">
<h3><span class="header-section-number">15.8.2</span> Reprojetando raster</h3>
</div>
</div>
<div id="escalas-de-representação-dos-dados" class="section level2" number="15.9">
<h2><span class="header-section-number">15.9</span> Escalas de representação dos dados</h2>
<div id="escala-global" class="section level3" number="15.9.1">
<h3><span class="header-section-number">15.9.1</span> Escala global</h3>
</div>
<div id="escala-regional" class="section level3" number="15.9.2">
<h3><span class="header-section-number">15.9.2</span> Escala regional</h3>
</div>
<div id="escala-local" class="section level3" number="15.9.3">
<h3><span class="header-section-number">15.9.3</span> Escala local</h3>
</div>
</div>
<div id="visualização-de-dados-geográficos---mapas" class="section level2" number="15.10">
<h2><span class="header-section-number">15.10</span> Visualização de dados geográficos - Mapas</h2>
<div id="graphics" class="section level3" number="15.10.1">
<h3><span class="header-section-number">15.10.1</span> graphics</h3>
</div>
<div id="ggplot2" class="section level3" number="15.10.2">
<h3><span class="header-section-number">15.10.2</span> ggplot2</h3>
</div>
<div id="tmap" class="section level3" number="15.10.3">
<h3><span class="header-section-number">15.10.3</span> tmap</h3>
</div>
<div id="leaflet" class="section level3" number="15.10.4">
<h3><span class="header-section-number">15.10.4</span> leaflet</h3>
</div>
<div id="outros-pacotes" class="section level3" number="15.10.5">
<h3><span class="header-section-number">15.10.5</span> Outros pacotes</h3>
</div>
</div>
<div id="principais-operações-com-dados-geográficos" class="section level2" number="15.11">
<h2><span class="header-section-number">15.11</span> Principais operações com dados geográficos</h2>
<div id="operações-com-atributos" class="section level3" number="15.11.1">
<h3><span class="header-section-number">15.11.1</span> Operações com atributos</h3>
<div id="vetor-3" class="section level4" number="15.11.1.1">
<h4><span class="header-section-number">15.11.1.1</span> Vetor</h4>
</div>
<div id="raster-3" class="section level4" number="15.11.1.2">
<h4><span class="header-section-number">15.11.1.2</span> Raster</h4>
</div>
</div>
<div id="operações-espaciais" class="section level3" number="15.11.2">
<h3><span class="header-section-number">15.11.2</span> Operações espaciais</h3>
<div id="vetor-4" class="section level4" number="15.11.2.1">
<h4><span class="header-section-number">15.11.2.1</span> Vetor</h4>
</div>
<div id="raster-4" class="section level4" number="15.11.2.2">
<h4><span class="header-section-number">15.11.2.2</span> Raster</h4>
</div>
</div>
<div id="operações-geométricas" class="section level3" number="15.11.3">
<h3><span class="header-section-number">15.11.3</span> Operações geométricas</h3>
<div id="vetor-5" class="section level4" number="15.11.3.1">
<h4><span class="header-section-number">15.11.3.1</span> Vetor</h4>
</div>
<div id="raster-5" class="section level4" number="15.11.3.2">
<h4><span class="header-section-number">15.11.3.2</span> Raster</h4>
</div>
</div>
</div>
<div id="download-e-extração-de-dados-climáticos-para-pontos" class="section level2" number="15.12">
<h2><span class="header-section-number">15.12</span> Download e extração de dados climáticos para pontos</h2>
<p>Download e extração de dados climáticos de bases online</p>
</div>
<div id="resumir-informações-de-biodiversidade-para-unidades-espaciais" class="section level2" number="15.13">
<h2><span class="header-section-number">15.13</span> Resumir informações de biodiversidade para unidades espaciais</h2>
<p>Para se aprofundar:</p>
<p>Lovelace, Nowosad &amp; Muenchow (2019) Geocomputation with R</p>
<p>Mas et al. (2019) Análise espacial com R</p>
<p>Pebesma &amp; Bivand (2020) Spatial Data Science. Link: <a href="https://keen-swartz-3146c4.netlify.app/" class="uri">https://keen-swartz-3146c4.netlify.app/</a></p>
<p>Brunsdon &amp; Comber (2019) An Introduction to R for Spatial Analysis and Mapping</p>
<p>Wegmann, Leutner &amp; Dech (2016) Remote Sensing and GIS for Ecologists: Using Open Source Software</p>
<p>Wegmann, Schwalb-Willmann &amp; Dech (2020) An Introduction to Spatial Data Analysis Remote Sensing and GIS with Open Source Software.</p>
<p>Moraga, Paula (2019) Geospatial Health Data: Modeling and Visualization with R-INLA and Shiny. Chapman &amp; Hall/CRC Biostatistics Series</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="diversidade-funcional.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/paternogbc/livro_r_ecologia/edit/master/14_visualizacao_dados_geoespaciais.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["livro_r_ecologia.pdf", "livro_r_ecologia.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
