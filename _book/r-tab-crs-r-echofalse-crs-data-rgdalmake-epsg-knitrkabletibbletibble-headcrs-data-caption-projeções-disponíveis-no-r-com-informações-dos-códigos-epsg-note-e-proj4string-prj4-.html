<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 16 {r tab-crs-r, echo=FALSE} # crs_data &lt;- rgdal::make_EPSG() # # knitr::kable(tibble::tibble( # head(crs_data)), # caption = "Projeções disponíveis no R, com informações dos códigos epsg (note) e proj4string (prj4).") # | Introdução ao R com aplicações em biodiversidade e conservação</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 16 {r tab-crs-r, echo=FALSE} # crs_data &lt;- rgdal::make_EPSG() # # knitr::kable(tibble::tibble( # head(crs_data)), # caption = "Projeções disponíveis no R, com informações dos códigos epsg (note) e proj4string (prj4).") # | Introdução ao R com aplicações em biodiversidade e conservação" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 16 {r tab-crs-r, echo=FALSE} # crs_data &lt;- rgdal::make_EPSG() # # knitr::kable(tibble::tibble( # head(crs_data)), # caption = "Projeções disponíveis no R, com informações dos códigos epsg (note) e proj4string (prj4).") # | Introdução ao R com aplicações em biodiversidade e conservação" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  



<meta name="date" content="2021-02-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dados-geograficos.html"/>
<link rel="next" href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução ao R com aplicações em biodiversidade e conservação</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Pré-requisitos</a></li>
<li class="chapter" data-level="2" data-path="pré-requisitos-1.html"><a href="pré-requisitos-1.html"><i class="fa fa-check"></i><b>2</b> Pré-requisitos</a></li>
<li class="chapter" data-level="3" data-path="como-usar-este-livro.html"><a href="como-usar-este-livro.html"><i class="fa fa-check"></i><b>3</b> Como usar este livro</a></li>
<li class="chapter" data-level="4" data-path="perguntas-em-ecologia.html"><a href="perguntas-em-ecologia.html"><i class="fa fa-check"></i><b>4</b> Perguntas em ecologia</a></li>
<li class="chapter" data-level="5" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html"><i class="fa fa-check"></i><b>5</b> Introdução à linguagem R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#r-como-calculadora"><i class="fa fa-check"></i><b>5.1</b> R como calculadora</a></li>
<li class="chapter" data-level="5.2" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#programação-orientada-a-objetos"><i class="fa fa-check"></i><b>5.2</b> Programação orientada a objetos</a></li>
<li class="chapter" data-level="5.3" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#tipos-de-objeto-vetor-fator-matriz-data-frame-lista-funções"><i class="fa fa-check"></i><b>5.3</b> Tipos de objeto (vetor, fator, matriz, data frame, lista, funções)</a></li>
<li class="chapter" data-level="5.4" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#entendendo-o-arquivo-de-ajuda-como-buscar-ajuda"><i class="fa fa-check"></i><b>5.4</b> Entendendo o arquivo de ajuda, como buscar ajuda</a></li>
<li class="chapter" data-level="5.5" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#instalando-e-carregando-pacotes-do-cran-e-do-githubgitlab"><i class="fa fa-check"></i><b>5.5</b> Instalando e carregando pacotes do CRAN e do GitHub/GitLab</a></li>
<li class="chapter" data-level="5.6" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#importação-e-exportação-de-dados-readr-readxl-tibble-tidyr-dplyr-stringr-lubridate-e-purrr"><i class="fa fa-check"></i><b>5.6</b> Importação e exportação de dados (readr, readxl, tibble, tidyr, dplyr, stringr, lubridate e purrr?)</a></li>
<li class="chapter" data-level="5.7" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#principais-erros-de-iniciantes-e-a-melhor-forma-de-pedir-ajuda"><i class="fa fa-check"></i><b>5.7</b> Principais erros de iniciantes e a melhor forma de pedir ajuda</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#procurando-e-entendendo-erros"><i class="fa fa-check"></i><b>5.7.1</b> Procurando e entendendo erros</a></li>
<li class="chapter" data-level="5.7.2" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#tentando-resolver-os-erros"><i class="fa fa-check"></i><b>5.7.2</b> Tentando resolver os erros</a></li>
<li class="chapter" data-level="5.7.3" data-path="introdução-à-linguagem-r.html"><a href="introdução-à-linguagem-r.html#idealmente-como-pedir-ajuda"><i class="fa fa-check"></i><b>5.7.3</b> Idealmente, como pedir ajuda?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gráficos.html"><a href="gráficos.html"><i class="fa fa-check"></i><b>6</b> Gráficos</a></li>
<li class="chapter" data-level="7" data-path="estatística-básica.html"><a href="estatística-básica.html"><i class="fa fa-check"></i><b>7</b> Estatística básica</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estatística-básica.html"><a href="estatística-básica.html#teste-t-de-student-para-duas-amostras-independentes"><i class="fa fa-check"></i><b>7.1</b> Teste T (de Student) para duas amostras independentes</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise"><i class="fa fa-check"></i><b>7.1.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.1.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise"><i class="fa fa-check"></i><b>7.1.2</b> Análise</a></li>
<li class="chapter" data-level="7.1.3" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-1"><i class="fa fa-check"></i><b>7.1.3</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="estatística-básica.html"><a href="estatística-básica.html#teste-t-para-amostras-pareadas"><i class="fa fa-check"></i><b>7.2</b> Teste T para amostras pareadas</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-1"><i class="fa fa-check"></i><b>7.2.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.2.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-2"><i class="fa fa-check"></i><b>7.2.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="estatística-básica.html"><a href="estatística-básica.html#correlação-de-pearson"><i class="fa fa-check"></i><b>7.3</b> Correlação de Pearson</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-2"><i class="fa fa-check"></i><b>7.3.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.3.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-3"><i class="fa fa-check"></i><b>7.3.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="estatística-básica.html"><a href="estatística-básica.html#regressão-simples"><i class="fa fa-check"></i><b>7.4</b> Regressão Simples</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-3"><i class="fa fa-check"></i><b>7.4.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.4.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-4"><i class="fa fa-check"></i><b>7.4.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="estatística-básica.html"><a href="estatística-básica.html#regressão-múltipla"><i class="fa fa-check"></i><b>7.5</b> Regressão Múltipla</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-4"><i class="fa fa-check"></i><b>7.5.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="7.5.2" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-5"><i class="fa fa-check"></i><b>7.5.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="estatística-básica.html"><a href="estatística-básica.html#análises-de-variância-anova"><i class="fa fa-check"></i><b>7.6</b> Análises de Variância (ANOVA)</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="estatística-básica.html"><a href="estatística-básica.html#backgorund-da-análise-5"><i class="fa fa-check"></i><b>7.6.1</b> Backgorund da análise</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-de-um-fator"><i class="fa fa-check"></i><b>7.7</b> ANOVA de um fator</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-6"><i class="fa fa-check"></i><b>7.7.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-de-dois-fatores-ou-anova-fatorial"><i class="fa fa-check"></i><b>7.8</b> ANOVA de dois fatores ou Anova fatorial</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-7"><i class="fa fa-check"></i><b>7.8.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="estatística-básica.html"><a href="estatística-básica.html#anova-em-blocos-aleatorizados"><i class="fa fa-check"></i><b>7.9</b> ANOVA em blocos aleatorizados</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-8"><i class="fa fa-check"></i><b>7.9.1</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-de-covariância-ancova"><i class="fa fa-check"></i><b>7.10</b> Análise de covariância (ANCOVA)</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="estatística-básica.html"><a href="estatística-básica.html#análise-9"><i class="fa fa-check"></i><b>7.10.1</b> Análise</a></li>
<li class="chapter" data-level="7.10.2" data-path="estatística-básica.html"><a href="estatística-básica.html#para-se-aprofundar"><i class="fa fa-check"></i><b>7.10.2</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="análises-univariadas-glm.html"><a href="análises-univariadas-glm.html"><i class="fa fa-check"></i><b>8</b> Análises univariadas - GLM</a></li>
<li class="chapter" data-level="9" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html"><i class="fa fa-check"></i><b>9</b> Introdução à Análises Multidimensionais</a>
<ul>
<li class="chapter" data-level="9.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-6"><i class="fa fa-check"></i><b>9.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1"><i class="fa fa-check"></i><b>9.2</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise"><i class="fa fa-check"></i><b>9.2.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.2.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-10"><i class="fa fa-check"></i><b>9.2.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-2"><i class="fa fa-check"></i><b>9.3</b> Exemplo 2:</a></li>
<li class="chapter" data-level="9.4" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-7"><i class="fa fa-check"></i><b>9.4</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.5" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1-1"><i class="fa fa-check"></i><b>9.5</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise-1"><i class="fa fa-check"></i><b>9.5.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.5.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-11"><i class="fa fa-check"></i><b>9.5.2</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#backgorund-da-análise-8"><i class="fa fa-check"></i><b>9.6</b> Backgorund da análise</a></li>
<li class="chapter" data-level="9.7" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#exemplo-1-2"><i class="fa fa-check"></i><b>9.7</b> Exemplo 1:</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#explicação-da-análise-2"><i class="fa fa-check"></i><b>9.7.1</b> Explicação da análise</a></li>
<li class="chapter" data-level="9.7.2" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#análise-12"><i class="fa fa-check"></i><b>9.7.2</b> Análise</a></li>
<li class="chapter" data-level="9.7.3" data-path="introdução-à-análises-multidimensionais.html"><a href="introdução-à-análises-multidimensionais.html#para-se-aprofundar-1"><i class="fa fa-check"></i><b>9.7.3</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="rarefação.html"><a href="rarefação.html"><i class="fa fa-check"></i><b>10</b> Rarefação</a>
<ul>
<li class="chapter" data-level="10.1" data-path="rarefação.html"><a href="rarefação.html#background-da-análise"><i class="fa fa-check"></i><b>10.1</b> Background da análise</a></li>
<li class="chapter" data-level="10.2" data-path="rarefação.html"><a href="rarefação.html#exemplo-prático-1---morcegos"><i class="fa fa-check"></i><b>10.2</b> Exemplo prático 1 - Morcegos</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="rarefação.html"><a href="rarefação.html#explicação"><i class="fa fa-check"></i><b>10.2.1</b> Explicação</a></li>
<li class="chapter" data-level="10.2.2" data-path="rarefação.html"><a href="rarefação.html#análise-13"><i class="fa fa-check"></i><b>10.2.2</b> Análise</a></li>
<li class="chapter" data-level="10.2.3" data-path="rarefação.html"><a href="rarefação.html#interpretação-dos-resultados-1"><i class="fa fa-check"></i><b>10.2.3</b> Interpretação dos resultados</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="rarefação.html"><a href="rarefação.html#exemplo-prático-2---rarefação"><i class="fa fa-check"></i><b>10.3</b> Exemplo prático 2 - Rarefação</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="rarefação.html"><a href="rarefação.html#explicação-1"><i class="fa fa-check"></i><b>10.3.1</b> Explicação</a></li>
<li class="chapter" data-level="10.3.2" data-path="rarefação.html"><a href="rarefação.html#análise-14"><i class="fa fa-check"></i><b>10.3.2</b> Análise</a></li>
<li class="chapter" data-level="10.3.3" data-path="rarefação.html"><a href="rarefação.html#interpretação-dos-resultados-2"><i class="fa fa-check"></i><b>10.3.3</b> Interpretação dos resultados</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="rarefação.html"><a href="rarefação.html#para-se-aprofundar-2"><i class="fa fa-check"></i><b>10.4</b> Para se aprofundar</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html"><i class="fa fa-check"></i><b>11</b> Estimadores de Riqueza</a>
<ul>
<li class="chapter" data-level="11.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#backgorund-da-análise-9"><i class="fa fa-check"></i><b>11.1</b> Backgorund da análise</a></li>
<li class="chapter" data-level="11.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#estimadores-baseados-na-abundância-das-espécies"><i class="fa fa-check"></i><b>11.2</b> Estimadores baseados na abundância das espécies</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#chao-1---chao-1984-1987"><i class="fa fa-check"></i><b>11.2.1</b> CHAO 1 - (Chao 1984, 1987):</a></li>
<li class="chapter" data-level="11.2.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-15"><i class="fa fa-check"></i><b>11.2.2</b> Análise</a></li>
<li class="chapter" data-level="11.2.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#ace---abundance-based-coverage-estimador-chao-lee-1992-chao-et-al.-2000"><i class="fa fa-check"></i><b>11.2.3</b> ACE - <em>Abundance-based Coverage Estimador</em> (Chao &amp; Lee 1992, Chao et al. 2000):</a></li>
<li class="chapter" data-level="11.2.4" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-16"><i class="fa fa-check"></i><b>11.2.4</b> Análise</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#estimadores-baseados-na-incidência-das-espécies"><i class="fa fa-check"></i><b>11.3</b> Estimadores baseados na incidência das espécies</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#chao-2---chao-1987"><i class="fa fa-check"></i><b>11.3.1</b> CHAO 2 - (Chao 1987):</a></li>
<li class="chapter" data-level="11.3.2" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-17"><i class="fa fa-check"></i><b>11.3.2</b> Análise</a></li>
<li class="chapter" data-level="11.3.3" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#jackknife-1-burnham-overton-1978-1979"><i class="fa fa-check"></i><b>11.3.3</b> JACKKNIFE 1 (Burnham &amp; Overton 1978, 1979):</a></li>
<li class="chapter" data-level="11.3.4" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-18"><i class="fa fa-check"></i><b>11.3.4</b> Análise</a></li>
<li class="chapter" data-level="11.3.5" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#jackknife-2-burnham-overton-1978-1979-palmer-1991"><i class="fa fa-check"></i><b>11.3.5</b> JACKKNIFE 2 (Burnham &amp; Overton 1978, 1979, Palmer 1991):</a></li>
<li class="chapter" data-level="11.3.6" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-19"><i class="fa fa-check"></i><b>11.3.6</b> Análise</a></li>
<li class="chapter" data-level="11.3.7" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#bootstrap-smith-van-belle-1984"><i class="fa fa-check"></i><b>11.3.7</b> BOOTSTRAP (Smith &amp; van Belle 1984):</a></li>
<li class="chapter" data-level="11.3.8" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-20"><i class="fa fa-check"></i><b>11.3.8</b> Análise</a></li>
<li class="chapter" data-level="11.3.9" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#interpolação-e-extrapolação-baseadas-em-rarefação-usando-amostragens-de-incidência-ou-abundância-chao-jost-2012-colwell-et-al.-2012"><i class="fa fa-check"></i><b>11.3.9</b> Interpolação e Extrapolação baseadas em rarefação usando amostragens de incidência ou abundância (Chao &amp; Jost 2012, Colwell et al. 2012):</a></li>
<li class="chapter" data-level="11.3.10" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#análise-21"><i class="fa fa-check"></i><b>11.3.10</b> Análise</a></li>
<li class="chapter" data-level="11.3.11" data-path="estimadores-de-riqueza.html"><a href="estimadores-de-riqueza.html#para-se-aprofundar-3"><i class="fa fa-check"></i><b>11.3.11</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html"><i class="fa fa-check"></i><b>12</b> Diversidade Taxonômica</a>
<ul>
<li class="chapter" data-level="12.1" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-alfa-𝛂"><i class="fa fa-check"></i><b>12.1</b> Diversidade alfa (𝛂)</a></li>
<li class="chapter" data-level="12.2" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#riqueza-de-espécies-ou-número-de-espécies"><i class="fa fa-check"></i><b>12.2</b> Riqueza de espécies ou número de espécies</a></li>
<li class="chapter" data-level="12.3" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-de-espécies"><i class="fa fa-check"></i><b>12.3</b> Diversidade de espécies</a></li>
<li class="chapter" data-level="12.4" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diagramas-de-whittaker-ou-curva-de-dominância"><i class="fa fa-check"></i><b>12.4</b> Diagramas de Whittaker ou Curva de Dominância</a></li>
<li class="chapter" data-level="12.5" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#números-de-hill"><i class="fa fa-check"></i><b>12.5</b> Números de Hill</a></li>
<li class="chapter" data-level="12.6" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#diversidade-beta-𝛃"><i class="fa fa-check"></i><b>12.6</b> Diversidade beta (𝛃)</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="diversidade-taxonômica.html"><a href="diversidade-taxonômica.html#para-se-aprofundar-4"><i class="fa fa-check"></i><b>12.6.1</b> Para se aprofundar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="diversidade-filogenética.html"><a href="diversidade-filogenética.html"><i class="fa fa-check"></i><b>13</b> Diversidade filogenética</a></li>
<li class="chapter" data-level="14" data-path="diversidade-funcional.html"><a href="diversidade-funcional.html"><i class="fa fa-check"></i><b>14</b> Diversidade funcional</a></li>
<li class="chapter" data-level="15" data-path="dados-geograficos.html"><a href="dados-geograficos.html"><i class="fa fa-check"></i><b>15</b> Visualização de dados geográficos</a>
<ul>
<li class="chapter" data-level="15.1" data-path="dados-geograficos.html"><a href="dados-geograficos.html#dados-geográficos-no-r"><i class="fa fa-check"></i><b>15.1</b> Dados geográficos no R</a></li>
<li class="chapter" data-level="15.2" data-path="dados-geograficos.html"><a href="dados-geograficos.html#vetor"><i class="fa fa-check"></i><b>15.2</b> Vetor</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="dados-geograficos.html"><a href="dados-geograficos.html#pontos"><i class="fa fa-check"></i><b>15.2.1</b> Pontos</a></li>
<li class="chapter" data-level="15.2.2" data-path="dados-geograficos.html"><a href="dados-geograficos.html#linhas"><i class="fa fa-check"></i><b>15.2.2</b> Linhas</a></li>
<li class="chapter" data-level="15.2.3" data-path="dados-geograficos.html"><a href="dados-geograficos.html#polígonos"><i class="fa fa-check"></i><b>15.2.3</b> Polígonos</a></li>
<li class="chapter" data-level="15.2.4" data-path="dados-geograficos.html"><a href="dados-geograficos.html#tabela-de-atributos"><i class="fa fa-check"></i><b>15.2.4</b> Tabela de atributos</a></li>
<li class="chapter" data-level="15.2.5" data-path="dados-geograficos.html"><a href="dados-geograficos.html#sf-principal-pacote-no-r-para-dados-vetoriais"><i class="fa fa-check"></i><b>15.2.5</b> <em>sf</em>: principal pacote no R para dados vetoriais</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="dados-geograficos.html"><a href="dados-geograficos.html#raster"><i class="fa fa-check"></i><b>15.3</b> Raster</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="dados-geograficos.html"><a href="dados-geograficos.html#raster-contínuo-e-categórico"><i class="fa fa-check"></i><b>15.3.1</b> Raster contínuo e categórico</a></li>
<li class="chapter" data-level="15.3.2" data-path="dados-geograficos.html"><a href="dados-geograficos.html#raster-principal-pacote-no-r-para-dados-raster"><i class="fa fa-check"></i><b>15.3.2</b> <em>raster</em>: principal pacote no R para dados raster</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="dados-geograficos.html"><a href="dados-geograficos.html#sistema-de-referência-de-coordenadas-e-unidades"><i class="fa fa-check"></i><b>15.4</b> Sistema de Referência de Coordenadas e Unidades</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="dados-geograficos.html"><a href="dados-geograficos.html#sistema-de-referência-de-coordenadas-geográficas"><i class="fa fa-check"></i><b>15.4.1</b> Sistema de Referência de Coordenadas Geográficas</a></li>
<li class="chapter" data-level="15.4.2" data-path="dados-geograficos.html"><a href="dados-geograficos.html#sistema-de-referência-de-coordenadas-projetadas"><i class="fa fa-check"></i><b>15.4.2</b> Sistema de Referência de Coordenadas Projetadas</a></li>
<li class="chapter" data-level="15.4.3" data-path="dados-geograficos.html"><a href="dados-geograficos.html#datum"><i class="fa fa-check"></i><b>15.4.3</b> Datum</a></li>
<li class="chapter" data-level="15.4.4" data-path="dados-geograficos.html"><a href="dados-geograficos.html#sistema-de-referência-de-coordenadas-crs-no-r"><i class="fa fa-check"></i><b>15.4.4</b> Sistema de Referência de Coordenadas (CRS) no R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><i class="fa fa-check"></i><b>16</b> <code>{r tab-crs-r, echo=FALSE} # crs_data &lt;- rgdal::make_EPSG() #  # knitr::kable(tibble::tibble( #   head(crs_data)), #   caption = "Projeções disponíveis no R, com informações dos códigos epsg (note) e proj4string (prj4).") #</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#principais-fontes-de-dados-e-pacotes"><i class="fa fa-check"></i><b>16.1</b> Principais fontes de dados e pacotes</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#vetor-1"><i class="fa fa-check"></i><b>16.1.1</b> Vetor</a></li>
<li class="chapter" data-level="16.1.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#raster-1"><i class="fa fa-check"></i><b>16.1.2</b> Raster</a></li>
<li class="chapter" data-level="16.1.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#pacotes"><i class="fa fa-check"></i><b>16.1.3</b> Pacotes</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#importar-e-exportar-dados-geográficos"><i class="fa fa-check"></i><b>16.2</b> Importar e exportar dados geográficos</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#principais-formatos-de-arquivos-geográficos"><i class="fa fa-check"></i><b>16.2.1</b> Principais formatos de arquivos geográficos</a></li>
<li class="chapter" data-level="16.2.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#importar-dados"><i class="fa fa-check"></i><b>16.2.2</b> Importar dados</a></li>
<li class="chapter" data-level="16.2.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#exportar-dados"><i class="fa fa-check"></i><b>16.2.3</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#descrição-de-objetos-sf-e-raster"><i class="fa fa-check"></i><b>16.3</b> Descrição de objetos sf e raster</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#vetor-2"><i class="fa fa-check"></i><b>16.3.1</b> Vetor</a></li>
<li class="chapter" data-level="16.3.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#raster-2"><i class="fa fa-check"></i><b>16.3.2</b> Raster</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#reprojeção-de-dados-geográficos"><i class="fa fa-check"></i><b>16.4</b> Reprojeção de dados geográficos</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#reprojetando-vetores"><i class="fa fa-check"></i><b>16.4.1</b> Reprojetando vetores</a></li>
<li class="chapter" data-level="16.4.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#reprojetando-raster"><i class="fa fa-check"></i><b>16.4.2</b> Reprojetando raster</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#principais-operações-com-dados-geográficos"><i class="fa fa-check"></i><b>16.5</b> Principais operações com dados geográficos</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#operações-de-atributos"><i class="fa fa-check"></i><b>16.5.1</b> Operações de atributos</a></li>
<li class="chapter" data-level="16.5.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#operações-espaciais"><i class="fa fa-check"></i><b>16.5.2</b> Operações espaciais</a></li>
<li class="chapter" data-level="16.5.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#operações-geométricas"><i class="fa fa-check"></i><b>16.5.3</b> Operações geométricas</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#visualização-de-dados-geográficos---mapas"><i class="fa fa-check"></i><b>16.6</b> Visualização de dados geográficos - Mapas</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#graphics"><i class="fa fa-check"></i><b>16.6.1</b> graphics</a></li>
<li class="chapter" data-level="16.6.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#ggplot2"><i class="fa fa-check"></i><b>16.6.2</b> ggplot2</a></li>
<li class="chapter" data-level="16.6.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tmap"><i class="fa fa-check"></i><b>16.6.3</b> tmap</a></li>
<li class="chapter" data-level="16.6.4" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#leaflet"><i class="fa fa-check"></i><b>16.6.4</b> leaflet</a></li>
<li class="chapter" data-level="16.6.5" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#outros-pacotes"><i class="fa fa-check"></i><b>16.6.5</b> Outros pacotes</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#exemplos-de-aplicações-de-análises-geográficas-para-dados-ecológicos"><i class="fa fa-check"></i><b>16.7</b> Exemplos de aplicações de análises geográficas para dados ecológicos</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#download-e-extração-de-dados-climáticos-para-pontos"><i class="fa fa-check"></i><b>16.7.1</b> Download e extração de dados climáticos para pontos</a></li>
<li class="chapter" data-level="16.7.2" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#resumir-informações-de-biodiversidade-para-unidades-espaciais"><i class="fa fa-check"></i><b>16.7.2</b> Resumir informações de biodiversidade para unidades espaciais</a></li>
<li class="chapter" data-level="16.7.3" data-path="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#predições-espaciais-de-objetos-raster"><i class="fa fa-check"></i><b>16.7.3</b> Predições espaciais de objetos raster</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><i class="fa fa-check"></i><b>17</b> Reprodutibilidade em pesquisa e gerenciamento de dados</a>
<ul>
<li class="chapter" data-level="17.1" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#gestão-de-projetos-acadêmicos-no-rstudio"><i class="fa fa-check"></i><b>17.1</b> Gestão de projetos acadêmicos no RStudio</a></li>
<li class="chapter" data-level="17.2" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#documentos-dinâmicos-r-markdown"><i class="fa fa-check"></i><b>17.2</b> Documentos dinâmicos (R Markdown)</a></li>
<li class="chapter" data-level="17.3" data-path="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html"><a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html#controle-de-versão-git-e-github"><i class="fa fa-check"></i><b>17.3</b> Controle de versão, Git e GitHub</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução ao R com aplicações em biodiversidade e conservação</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-tab-crs-r-echofalse-crs_data---rgdalmake_epsg-knitrkabletibbletibble-headcrs_data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4." class="section level1" number="16">
<h1><span class="header-section-number">Capítulo 16</span> <code>{r tab-crs-r, echo=FALSE} # crs_data &lt;- rgdal::make_EPSG() #  # knitr::kable(tibble::tibble( #   head(crs_data)), #   caption = "Projeções disponíveis no R, com informações dos códigos epsg (note) e proj4string (prj4).") #</code></h1>
<div id="principais-fontes-de-dados-e-pacotes" class="section level2" number="16.1">
<h2><span class="header-section-number">16.1</span> Principais fontes de dados e pacotes</h2>
<p>Há muitas fontes de dados geográficos em diferentes bases de dados. Geralmente as bases de dados são disponibilizados separadamente em apenas dados vetoriais e apenas dados raster. Para dados vetoriais, grande parte dos dados disponibilizados são utilizados em mapas como limites políticos, limites de biomas ou distribuição de espécies para <strong>polígonos</strong>; estradas e rios para <strong>dados lineares</strong>, ou ainda pontos de ocorrência de espécies ou comunidades, ou medidas tomadas em campo sobre condições naturais como clima ou relevo, como <strong>pontos</strong>. Entretanto, é sempre recomendado o uso de <strong>bases oficiais</strong>, principalmente em relação à dados vetoriais de <strong>limites políticos</strong>. Para tanto, é sempre fundamental buscar as <strong>bases oficiais de cada país</strong>, entrentanto, há bases que podem ser utilizadas globalmente, como veremos.</p>
<p>Sobre as bases de dados raster, há uma infinidade de dados para diferentes objetivos, mas grande parte deles são relativos à condições ambientais, representando uma variável de interesse de forma contínua no espaço, como temperatura, precipitação, elevação, etc.</p>
<p>Existe uma compilação de dados geográficos vetoriais e raster compilada por Marcus Vinícius Alves de Carvalho e Angelica Carvalho Di Maio, chamada <a href="http://www.clickgeo.com.br/wp-content/uploads/2018/05/GeoLISTA.pdf">GeoLISTA</a>. Entretanto, como as bases de dados tendem à ser muito dinâmicas, é possível que muitas bases tenham surgido e desaparecido desde a listagem realizada.</p>
<p>Além das bases de dados, há pacotes específicos no R que fazem o download dos dados vetoriais e matriciais, facilitando a aquisição e reprodutibilidade. Para conferir uma listagem completa de pacotes para diversas análises espaciais, veja <a href="https://cran.r-project.org/web/views/Spatial.html">CRAN Task View: Analysis of Spatial Data</a>.</p>
<div id="vetor-1" class="section level3" number="16.1.1">
<h3><span class="header-section-number">16.1.1</span> Vetor</h3>
<p>Dentre as bases vetoriais, destacamos as seguintes na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-vector-bases">16.1</a>:</p>
<table>
<caption><span id="tab:tab-vector-bases">Tabela 16.1: </span>Principais bases de dados vetoriais para o Brasil e o Mundo.</caption>
<colgroup>
<col width="62%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Bases de dados</th>
<th align="left">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://www.ibge.gov.br/geociencias/downloads-geociencias.html">IBGE</a></td>
<td align="left">Limites territoriais e censitários do Brasil</td>
</tr>
<tr class="even">
<td align="left"><a href="http://geo.fbds.org.br/">FBDS</a></td>
<td align="left">Uso da terra, APP e hidrografia - Mata Atlântica e Cerrado</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://geosgb.cprm.gov.br/">GeoBank</a></td>
<td align="left">Dados geológicos do Brasil</td>
</tr>
<tr class="even">
<td align="left"><a href="http://maps.lapig.iesa.ufg.br">Pastagem.org</a></td>
<td align="left">Dados de pastagens e gado para o Brasil</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://www.dsr.inpe.br/laf/canasat/">CanaSat</a></td>
<td align="left">Dados de cana-de-açúcar para o Brasil</td>
</tr>
<tr class="even">
<td align="left"><a href="http://maps.csr.ufmg.br">CSR Maps</a></td>
<td align="left">Diversos dados vetoriais para o Brasil</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://ecoregions2017.appspot.com/">Ecoregions</a></td>
<td align="left">Dados de biorregiões e biomas do mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.unbiodiversitylab.org/">UN Biodiversity Lab</a></td>
<td align="left">Diversas bases de dados para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://zenodo.org/record/3261807#.YA8lpPv0nOY">Biodiversity Hotspots</a></td>
<td align="left">Dados dos limites dos Hotspots de Biodiversidade</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.iucnredlist.org/resources/spatial-data-download">IUCN Red List of Threatened Species</a></td>
<td align="left">Dados dos limites das espécies para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://www.keybiodiversityareas.org/kba-data/request">Key Biodiversity Areas</a></td>
<td align="left">Dados dos limites das Key Biodiversity Areas</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.hydrosheds.org/">HydroSHEDS</a></td>
<td align="left">Informações hidrológicas do mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.globio.info/download-grip-dataset">Global Roads Inventory Project (GRIP)</a></td>
<td align="left">Dados de estradas do mundo todo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://gadm.org/">GADM</a></td>
<td align="left">Limites de áreas administrativas do mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.naturalearthdata.com/">Natural Earth</a></td>
<td align="left">Diversos limites para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.protectedplanet.net">Protected Planet</a></td>
<td align="left">Dados de áreas protegidas para o mundo</td>
</tr>
</tbody>
</table>
</div>
<div id="raster-1" class="section level3" number="16.1.2">
<h3><span class="header-section-number">16.1.2</span> Raster</h3>
<p>Dentre as bases raster, destacamos as seguintes na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-raster-bases">16.2</a>:</p>
<table>
<caption><span id="tab:tab-raster-bases">Tabela 16.2: </span>Principais bases de dados raster para o Brasil e o Mundo.</caption>
<colgroup>
<col width="46%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Bases de dados</th>
<th align="left">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://mapbiomas.org/">MapBiomas</a></td>
<td align="left">Uso e cobertura da terra para o Brasil, Panamazonia Legal e Chaco, de 1985 a 2019</td>
</tr>
<tr class="even">
<td align="left"><a href="ftp://madeira.dea.ufv.br/bdados/bhalu/">Bahlu</a></td>
<td align="left">Distribuições históricas de terras agrícolas e pastagens para todo o Brasil de 1940 a 2012</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.usgs.gov/">USGS</a></td>
<td align="left">Dados de diversos satélites livres para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="http://srtm.csi.cgiar.org/">SRTM</a></td>
<td align="left">Dados de elevação para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://geoservice.dlr.de/web/maps">Geoservice Maps</a></td>
<td align="left">Dados de elevação e florestas para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.globalforestwatch.org/">Global Forest Watch</a></td>
<td align="left">Dados de florestas para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://due.esrin.esa.int/page_globcover.php">GlobCover</a></td>
<td align="left">Dados de uso e cobertura da terra para todo o planeta</td>
</tr>
<tr class="even">
<td align="left"><a href="https://www.earthenv.org/landcover">Landcover</a></td>
<td align="left">Dados de uso e cobertura da terra para todo o planeta</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://wcshumanfootprint.org/">Global Human Footprint</a></td>
<td align="left">Dados de pegada ecológica para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://ghsl.jrc.ec.europa.eu/download.php">GHSL - Global Human Settlement Layer</a></td>
<td align="left">Dados e ferramentas abertos e gratuitos para avaliar a presença humana no planeta</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://luh.umd.edu/">Land-Use Harmonization (LUH2)</a></td>
<td align="left">Dados atuais e previsões de uso da terra</td>
</tr>
<tr class="even">
<td align="left"><a href="https://climate.esa.int/en/odp/#/dashboard">ESA Climate Change Initiative</a></td>
<td align="left">Arquivos globais de observação da Terra nos últimos 30 anos da Agência Espacial Europeia (ESA)</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.worldclim.org/">WorldClim</a></td>
<td align="left">Dados climáticos para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="https://chelsa-climate.org/">CHELSA</a></td>
<td align="left">Dados climáticos para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://www.earthenv.org/">EarthEnv</a></td>
<td align="left">Dados de cobertura da terra, nuvens, relevo e hidrografia</td>
</tr>
<tr class="even">
<td align="left"><a href="https://soilgrids.org/">SoilGrids</a></td>
<td align="left">Dados de solo para o mundo</td>
</tr>
<tr class="odd">
<td align="left"><a href="http://www.marspec.org/">MARSPEC</a></td>
<td align="left">Dados de condições do oceano para o mundo</td>
</tr>
<tr class="even">
<td align="left"><a href="http://www.oracle.ugent.be/">Bio-ORACLE</a></td>
<td align="left">Dados de condições do oceano para o mundo</td>
</tr>
</tbody>
</table>
</div>
<div id="pacotes" class="section level3" number="16.1.3">
<h3><span class="header-section-number">16.1.3</span> Pacotes</h3>
<p>Dentre os pacotes, destacamos os seguintes na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-packages-bases">16.3</a>:</p>
<table>
<caption><span id="tab:tab-packages-bases">Tabela 16.3: </span>Principais pacotes para download de dados vetoriais e raster.</caption>
<colgroup>
<col width="49%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Pacotes</th>
<th align="left">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/geobr/index.html">geobr</a></td>
<td align="left">Carrega Shapefiles de Conjuntos de Dados Espaciais Oficiais do Brasil</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/rnaturalearth/index.html">rnaturalearth</a></td>
<td align="left">Dados do mapa mundial da Natural Earth</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/rworldmap/index.html">rworldmap</a></td>
<td align="left">Mapeando Dados Globais</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/spData/index.html">spData</a></td>
<td align="left">Conjuntos de dados para análise espacial</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/OpenStreetMap/index.html">OpenStreetMap</a></td>
<td align="left">Acesso para abrir imagens raster de mapas de ruas</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/osmdata/index.html">osmdata</a></td>
<td align="left">Baixe e importe dados do OpenStreetMap</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/geonames/index.html">geonames</a></td>
<td align="left">Interface para o serviço da Web de consulta espacial ‘Geonames’</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/rgbif/index.html">rgbif</a></td>
<td align="left">Interface para o Global ‘Biodiversity’ Information Facility API</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/maptools/index.html">maptools</a></td>
<td align="left">Ferramentas para lidar com objetos espaciais</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/marmap/index.html">marmap</a></td>
<td align="left">Importar, traçar e analisar dados batimétricos e topográficos</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/oce/index.html">oce</a></td>
<td align="left">Fonte e processamento de dados oceanográficos</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/envirem/index.html">envirem</a></td>
<td align="left">Geração de Variáveis ENVIREM</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/sdmpredictors/index.html">sdmpredictors</a></td>
<td align="left">Conjuntos de dados preditor de modelagem de distribuição de espécies</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/metScanR/index.html">metScanR</a></td>
<td align="left">Encontre, Mapeie e Colete Dados e Metadados Ambientais</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/ClimDown/index.html">ClimDown</a></td>
<td align="left">Biblioteca de redução de escala do clima para a produção diária do modelo climático</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/rWBclimate/index.html">rWBclimate</a></td>
<td align="left">Acessa dados climáticos do Banco Mundial</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/rnoaa/index.html">rnoaa</a></td>
<td align="left">Dados meteorológicos ‘NOAA’ de R</td>
</tr>
<tr class="even">
<td align="left"><a href="https://cran.r-project.org/web/packages/RNCEP/index.html">RNCEP</a></td>
<td align="left">Obtenha, organize e visualize dados meteorológicos NCEP</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://cran.r-project.org/web/packages/smapr/index.html">smapr</a></td>
<td align="left">Aquisição e processamento de dados ativos-passivos (SMAP) de umidade do solo da NASA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="importar-e-exportar-dados-geográficos" class="section level2" number="16.2">
<h2><span class="header-section-number">16.2</span> Importar e exportar dados geográficos</h2>
<p>Agora que sabemos o que são dados geográficos e em quais bases de dados podemos buscar e baixar esses dados, veremos quais os principais formatos e como importá-los e exportá-los do R.</p>
<div id="principais-formatos-de-arquivos-geográficos" class="section level3" number="16.2.1">
<h3><span class="header-section-number">16.2.1</span> Principais formatos de arquivos geográficos</h3>
<p>Há diversos formatos de arquivos geográficos, alguns específicos para dados vetoriais e raster, e outros no formato de banco de dados geoespaciais, como <a href="https://postgis.net/">PostGIS</a>, que podem armazenar ambos.</p>
<p>Entretanto, todos os formatos para serem importados para o R usaram do <a href="https://gdal.org/">GDAL (<em>Geospatial Data Abstraction Library</em>)</a>, uma interface unificada para leitura e gravação de diversos arquivos geográficos, sendo utilizado também por uma séria de softwares de GIS como QGIS, GRASS GIS e ArcGIS.</p>
<p>Dentre esses formatos, destacamos na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-formatos">16.4</a>:</p>
<table>
<caption><span id="tab:tab-formatos">Tabela 16.4: </span>Principais formatos de arquivos geográficos. Adaptado de: Lovelace, Nowosad &amp; Muenchow (2019).</caption>
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="70%" />
<col width="5%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Nome</th>
<th align="left">Extenção</th>
<th align="left">Descrição</th>
<th align="left">Tipo</th>
<th align="left">Modelo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ESRI Shapefile</td>
<td align="left">.shp (arquivo principal)</td>
<td align="left">Formato popular que consiste em pelo menos quatro arquivos: .shp (feição), .dbf (tabela de atributos), .shx (ligação entre .shp e .dbf) e .prj (projeção)</td>
<td align="left">Vetor</td>
<td align="left">Parcialmente aberto</td>
</tr>
<tr class="even">
<td align="left">GeoJSON</td>
<td align="left">.geojson</td>
<td align="left">Estende o formato de troca JSON incluindo um subconjunto da representação de recurso simples</td>
<td align="left">Vetor</td>
<td align="left">Aberto</td>
</tr>
<tr class="odd">
<td align="left">KML</td>
<td align="left">.kml</td>
<td align="left">Formato baseado em XML para visualização espacial, desenvolvido para uso com o Google Earth. O arquivo KML compactado forma o formato KMZ</td>
<td align="left">Vetor</td>
<td align="left">Aberto</td>
</tr>
<tr class="even">
<td align="left">GPX</td>
<td align="left">.gpx</td>
<td align="left">Esquema XML criado para troca de dados de GPS</td>
<td align="left">Vetor</td>
<td align="left">Aberto</td>
</tr>
<tr class="odd">
<td align="left">GeoTIFF</td>
<td align="left">.tif/.tiff</td>
<td align="left">Formato raster popular. Um arquivo TIFF contendo metadados espaciais adicionais.</td>
<td align="left">Raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="even">
<td align="left">Arc ASCII</td>
<td align="left">.asc</td>
<td align="left">Formato de texto em que as primeiras seis linhas representam o cabeçalho raster, seguido pelos valores das células raster organizadas em linhas e colunas</td>
<td align="left">Raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="odd">
<td align="left">NetCDF</td>
<td align="left">.nc</td>
<td align="left">NetCDF (Network Common Data Form) é um conjunto de bibliotecas de software e formatos de dados independentes para criação</td>
<td align="left">Raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="even">
<td align="left">BIL</td>
<td align="left">.bil/.hdr</td>
<td align="left">BIL (Banda intercalada por linha) são métodos comuns de organização para imagens multibanda, geralmente acompanhados por um arquivo .hdr, descrevendo atributos específicos da imagem</td>
<td align="left">Raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="odd">
<td align="left">R-raster</td>
<td align="left">.gri/ .grd</td>
<td align="left">Formato raster nativo do raster do pacote R</td>
<td align="left">Raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="even">
<td align="left">SQLite/SpatiaLite</td>
<td align="left">.sqlite</td>
<td align="left">Banco de dados relacional autônomo</td>
<td align="left">Vetor e raster</td>
<td align="left">Aberto</td>
</tr>
<tr class="odd">
<td align="left">ESRI FileGDB</td>
<td align="left">.gdb</td>
<td align="left">Objetos espaciais e não espaciais criados pelo ArcGIS. Permite: várias classes de recursos; topologia</td>
<td align="left">Vetor e raster</td>
<td align="left">Proprietário</td>
</tr>
<tr class="even">
<td align="left">GeoPackage</td>
<td align="left">.gpkg</td>
<td align="left">Contêiner de banco de dados leve baseado em SQLite permitindo uma troca fácil e independente de plataforma de geodados</td>
<td align="left">Vetor e raster</td>
<td align="left">Aberto</td>
</tr>
</tbody>
</table>
<p>O formato mais comum para arquivos vetoriais é o <a href="https://doc.arcgis.com/en/arcgis-online/reference/shapefiles.htm"><strong>ESRI Shapefile</strong></a>, e para arquivos raster é o <a href="https://gdal.org/drivers/raster/gtiff.html"><strong>GeoTIFF</strong></a>, e para dados climáticos em múltiplas camadas, geralmente há a disponibilização de dados no formato <a href="https://www.unidata.ucar.edu/software/netcdf/"><strong>NetCDF</strong></a>. Entretanto, recentemente tivemos o surgimento do <a href="https://www.geopackage.org/"><strong>GeoPackage</strong></a>, que possui diversas vantagens em relação aos formatos anteriores, podendo armazanar em apenas um arquivo, dados no formato vetorial, raster e também dados não-espaciais, além de possuir uma grande integração com diversos softwares e bancos de dados.</p>
</div>
<div id="importar-dados" class="section level3" number="16.2.2">
<h3><span class="header-section-number">16.2.2</span> Importar dados</h3>
<p>As principais funções para importar dados no R são: 1) para vetores a função <code>sf::st_read()</code>, e 2) para raster a função <code>raster::raster()</code> e suas variações <code>raster::brick()</code> e <code>raster::stack()</code>. Essas funções atribuem objetos ao seu espaço de trabalho, armazenando-os na memória RAM disponível em seu hardware, sendo essa a maior limitação para trabalhar com dados geográficos no R. Por exemplo, se um arquivo raster possui mais de 8 Gb de tamamho, e seu computador possui extamente 8 Gb de RAM, é muito provável que ele não seja importado ou mesmo criado como um objeto dentro do ambiente R. Existem soluções para esses problemas, mas não as abordaremos nesse capítulo.</p>
<div id="dados-vetoriais" class="section level4" number="16.2.2.1">
<h4><span class="header-section-number">16.2.2.1</span> Dados vetoriais</h4>
<p>Como vimos, os arquivos vetoriais são disponibilizados em diversos formatos. Para sabermos se um determinado formato pode ser importado ou exportado utilizando o pacote <code>sf</code>, podemos utilizar a função <code>sf::st_drivers()</code>. Uma amostra desses formatos é apresentado na Tabela <a href="#tab:tab-vector-formatos"><strong>??</strong></a>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sf<span class="sc">::</span><span class="fu">st_drivers</span>())</span></code></pre></div>
<table>
<caption><span id="tab:tab-vetor-formatos">Tabela 16.5: </span>Alguns formatos vetoriais importados e exportados pelo pacote <code>sf</code>.</caption>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">long_name</th>
<th align="left">write</th>
<th align="left">copy</th>
<th align="left">is_raster</th>
<th align="left">is_vector</th>
<th align="left">vsi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ESRIC</td>
<td align="left">Esri Compact Cache</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">FITS</td>
<td align="left">Flexible Image Transport System</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">PCIDSK</td>
<td align="left">PCIDSK Database File</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">netCDF</td>
<td align="left">Network Common Data Format</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PDS4</td>
<td align="left">NASA Planetary Data System 4</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">VICAR</td>
<td align="left">MIPL VICAR file</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<div id="importar-dados-vetoriais-existentes" class="section level5" number="16.2.2.1.1">
<h5><span class="header-section-number">16.2.2.1.1</span> Importar dados vetoriais existentes</h5>
<p>Para importar vetores no R iremos utilizar a função <code>sf::st_read()</code>. A estrutura é semelhante para todos os formatos descritos na Tabela <a href="#tab:tab-vector-formatos"><strong>??</strong></a>, de modo que sempre preencheremos o argumento <strong>dsn</strong> (<em>data source name</em>) com o nome do arquivo a ser importado. Entretanto, para banco de dados, como <strong>GeoPackage</strong>, pode ser necessário especificar a camada que se tem interesse com um segundo argumento na função <code>sf::st_read()</code>, chamado <strong>layer</strong>, com o nome da camada.</p>
<p>Para todas as operações nesse livro usaremos os dados disponíveis para o município de Rio Claro/SP. Primeiramente, iremos baixar esses dados da <a href="https://www.fbds.org.br/">FBDS (Fundação Brasileira para o Desenvolvimento Sustentável)</a>, através desse <a href="http://geo.fbds.org.br/">repositório de dados</a>. Em 2015, a FBDS deu início ao <strong>Projeto de Mapeamento em Alta Resoluçăo dos Biomas Brasileiros</strong>, mapeando a cobertura da terra, hidrografia (nascentes, rios e lagos) e áreas de preservaçăo permanente (APPs). O mapeamento foi concluído para os municípios dos biomas Mata Atlântica e Cerrado. Para fazer o download dos arquivos de interesse, utilizaremos o R.</p>
<p>Primeiramente, iremos criar um diretório.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criar um diretorio</span></span>
<span id="cb16-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>))</span>
<span id="cb16-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>))</span></code></pre></div>
<p>Em seguida, vamos fazer o download de pontos de nascentes, linhas de hidrografia e polígonos de cobertura da terra para o município de Rio Claro/SP.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aumentar o tempo de download</span></span>
<span id="cb17-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb17-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb17-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">&quot;.dbf&quot;</span>, <span class="st">&quot;.prj&quot;</span>, <span class="st">&quot;.shp&quot;</span>, <span class="st">&quot;.shx&quot;</span>)){</span>
<span id="cb17-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pontos de nascentes</span></span>
<span id="cb17-8"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb17-9"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/HIDROGRAFIA/SP_3543907_NASCENTES&quot;</span>, i),</span>
<span id="cb17-10"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_NASCENTES&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb17-11"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-12"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># linhas de hidrografia</span></span>
<span id="cb17-13"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb17-14"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/HIDROGRAFIA/SP_3543907_RIOS_SIMPLES&quot;</span>, i),</span>
<span id="cb17-15"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_RIOS_SIMPLES&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb17-16"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-17"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># poligonos de cobertura da terra</span></span>
<span id="cb17-18"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(</span>
<span id="cb17-19"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">url =</span> <span class="fu">paste0</span>(<span class="st">&quot;http://geo.fbds.org.br/SP/RIO_CLARO/USO/SP_3543907_USO&quot;</span>, i),</span>
<span id="cb17-20"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;SP_3543907_USO&quot;</span>, i)), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb17-21"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb17-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Agora podemos importar esses dados para o R. Primeiro vamos importar as nascentes (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-nascentes">16.1</a>).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar pontos</span></span>
<span id="cb18-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb18-2" aria-hidden="true" tabindex="-1"></a>rc_nas <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_NASCENTES.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_nas[<span class="dv">1</span>], <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-nascentes"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-nascentes-1.png" alt="Mapa de nascentes de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.1: Mapa de nascentes de Rio Claro/SP.
</p>
</div>
<p>Agora vamos importar a hidrografia (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-hidrografia">16.2</a>).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar hidrografia</span></span>
<span id="cb20-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb20-2" aria-hidden="true" tabindex="-1"></a>rc_hid <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_RIOS_SIMPLES.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_hid[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-hidrografia"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-hidrografia-1.png" alt="Mapa de hidrografia de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.2: Mapa de hidrografia de Rio Claro/SP.
</p>
</div>
<p>E por fim, vamos importar a cobertura da terra (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-cobertura">16.3</a>).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar cobertura</span></span>
<span id="cb22-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb22-2" aria-hidden="true" tabindex="-1"></a>rc_cob <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;SP_3543907_USO.shp&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_cob[<span class="dv">5</span>], <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;gray30&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-cobertura"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-cobertura-1.png" alt="Mapa de cobertura da terra de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.3: Mapa de cobertura da terra de Rio Claro/SP.
</p>
</div>
<p>Além de bases de dados, podemos importar dados de pacotes, como listado anteriormente na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-packages-bases">16.3</a>. Para o Brasil, o pacote mais interessante trata-se do <a href="https://ipeagit.github.io/geobr/"><code>geobr</code></a>, do <a href="https://www.ipea.gov.br/portal/">Instituto de Pesquisa Econômica Aplicada (IPEA)</a>, que possui dados oficiais do <a href="https://www.ibge.gov.br/">Instituto Brasileiro de Geografia e Estatística (IBGE))</a>.</p>
<p>É possível listar todos os dados disponíveis no pacote através da função <code>geobr::list_geobr()</code>. Na Tabale <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-vetor-dados-geobr">16.6</a> é possível ver alguns dados.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># listar todos os dados do geobr</span></span>
<span id="cb24-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb24-2" aria-hidden="true" tabindex="-1"></a>geobr<span class="sc">::</span><span class="fu">list_geobr</span>()</span></code></pre></div>
<table>
<caption><span id="tab:tab-vetor-dados-geobr">Tabela 16.6: </span>Alguns dados disponíveis no pacote <code>geobr</code>.</caption>
<colgroup>
<col width="15%" />
<col width="11%" />
<col width="69%" />
<col width="3%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left">geography</th>
<th align="left">years</th>
<th align="left">source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>read_country</code></td>
<td align="left">Country</td>
<td align="left">1872, 1900, 1911, 1920, 1933, 1940, 1950, 1960, 1970, 1980, 1991, 2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_region</code></td>
<td align="left">Region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="odd">
<td align="left"><code>read_state</code></td>
<td align="left">States</td>
<td align="left">1872, 1900, 1911, 1920, 1933, 1940, 1950, 1960, 1970, 1980, 1991, 2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_meso_region</code></td>
<td align="left">Meso region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="odd">
<td align="left"><code>read_micro_region</code></td>
<td align="left">Micro region</td>
<td align="left">2000, 2001, 2010, 2013, 2014, 2015, 2016, 2017, 2018, 2019</td>
<td align="left">IBGE</td>
</tr>
<tr class="even">
<td align="left"><code>read_intermediate_region</code></td>
<td align="left">Intermediate region</td>
<td align="left">2017, 2019</td>
<td align="left">IBGE</td>
</tr>
</tbody>
</table>
<p>Como exemplo, vamos fazer o download o limite do município de Rio Claro/SP (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-rio-claro">16.4</a>).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rio claro</span></span>
<span id="cb25-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb25-2" aria-hidden="true" tabindex="-1"></a>rc_2019 <span class="ot">&lt;-</span> geobr<span class="sc">::</span><span class="fu">read_municipality</span>(<span class="at">code_muni =</span> <span class="dv">3543907</span>, <span class="at">year =</span> <span class="dv">2019</span>, <span class="at">showProgress =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-rio-claro"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-rio-claro-1.png" alt="Mapa do limite do município de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.4: Mapa do limite do município de Rio Claro/SP.
</p>
</div>
<p>Já para o mundo, o pacote mais interessante trata-se do <a href="https://docs.ropensci.org/rnaturalearth/"><code>rnaturalearth</code></a>, que faz o download de dados do <a href="https://www.naturalearthdata.com/">Natural Earth</a>. Vamos fazer o download do limite do Brasil (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-brasil">16.5</a>).</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># brasil</span></span>
<span id="cb27-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb27-2" aria-hidden="true" tabindex="-1"></a>br <span class="ot">&lt;-</span> rnaturalearth<span class="sc">::</span><span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">&quot;large&quot;</span>, <span class="at">country =</span> <span class="st">&quot;Brazil&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(br[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-brasil"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-brasil-1.png" alt="Mapa do limite do Brasil." width="672" />
<p class="caption">
Figura 16.5: Mapa do limite do Brasil.
</p>
</div>
</div>
<div id="criar-um-objeto-espacial-de-uma-tabela-de-coordenadas" class="section level5" number="16.2.2.1.2">
<h5><span class="header-section-number">16.2.2.1.2</span> Criar um objeto espacial de uma tabela de coordenadas</h5>
<p>É muito comum em coletas de campo ou fontes de dados, disponibilizar <strong>coordendas de locais de estudo</strong> ou de <strong>ocorrências de espécies</strong>. Essas tabelas devem possuir duas colunas, uma para longitude e outra para latitude. Ao importá-las para o R, o formato que assumem pode ser de uma das classes: <code>matrix</code>, <code>dataframe</code> ou <code>tibble</code>, ou seja, ainda não são da classe <code>sf</code>. Nesta seção iremos ver como fazer essa conversão.</p>
<p>Para tanto, vamos usar os dados de comunidades de anfíbios da Mata Atlântica (Atlantic Amphibians, Vancine et al. 2018). Iremos fazer o download diretamente do site da fonte dos dados. Antes vamos criar um diretório.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criar um diretorio</span></span>
<span id="cb29-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;tabelas&quot;</span>))</span></code></pre></div>
<p>Em seguida, vamos fazer o download de um arquivo <code>.zip</code> e fazer o <code>unzip</code> nesse mesmo diretório, utilizando funções nativas do R.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb30-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://esajournals.onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fecy.2392&amp;file=ecy2392-sup-0001-DataS1.zip&quot;</span>,</span>
<span id="cb30-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;tabelas&quot;</span>, <span class="st">&quot;atlantic_amphibians.zip&quot;</span>), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb30-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># unzip</span></span>
<span id="cb30-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;tabelas&quot;</span>, <span class="st">&quot;atlantic_amphibians.zip&quot;</span>),</span>
<span id="cb30-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb30-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;tabelas&quot;</span>))</span></code></pre></div>
<p>Agora iremos importar a tabela de dados para criar o objeto espacial.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar tabela</span></span>
<span id="cb31-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb31-2" aria-hidden="true" tabindex="-1"></a>si <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;tabelas&quot;</span>, <span class="st">&quot;ATLANTIC_AMPHIBIANS_sites.csv&quot;</span>))</span>
<span id="cb31-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb31-3" aria-hidden="true" tabindex="-1"></a>si</span></code></pre></div>
<pre><code>## # A tibble: 1,163 x 25
##    id    reference_number species_number record sampled_habitat active_methods
##    &lt;chr&gt;            &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;         
##  1 amp1…             1001             19 ab     fo,ll           as            
##  2 amp1…             1002             16 co     fo,la,ll        as            
##  3 amp1…             1002             14 co     fo,la,ll        as            
##  4 amp1…             1002             13 co     fo,la,ll        as            
##  5 amp1…             1003             30 co     fo,ll,br        as            
##  6 amp1…             1004             42 co     tp,pp,la,ll,is  &lt;NA&gt;          
##  7 amp1…             1005             23 co     sp              as            
##  8 amp1…             1005             19 co     sp,la,sw        as,sb,tr      
##  9 amp1…             1005             13 ab     fo              &lt;NA&gt;          
## 10 amp1…             1006              1 ab     fo              &lt;NA&gt;          
## # … with 1,153 more rows, and 19 more variables: passive_methods &lt;chr&gt;,
## #   complementary_methods &lt;chr&gt;, period &lt;chr&gt;, month_start &lt;dbl&gt;,
## #   year_start &lt;dbl&gt;, month_finish &lt;dbl&gt;, year_finish &lt;dbl&gt;,
## #   effort_months &lt;dbl&gt;, country &lt;chr&gt;, state &lt;chr&gt;, state_abbreviation &lt;chr&gt;,
## #   municipality &lt;chr&gt;, site &lt;chr&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,
## #   coordinate_precision &lt;chr&gt;, altitude &lt;dbl&gt;, temperature &lt;dbl&gt;,
## #   precipitation &lt;dbl&gt;</code></pre>
<p>Por fim, podemos facilmente criar um objeto espacial do tipo <code>MULTIPOINT</code> utilizando a função <code>sf::st_as_sf()</code>. Podemos ver essas coordenadas plotadas no mapa simples da Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-pontos-atlantic-amphibians">16.6</a>. É necessário antes se ater primeiramente ao argumento <strong>coords</strong> que deve indicar as colunas de longitude e latitude, nessa ordem; e também ao argumento <strong>crs</strong> para indicar o CRS correspondente dessas coordendas, que aqui sabemos que as coordenadas são geográficas e com Datum WGS84. Então podemos facilmente utilizar o código EPSG 4326 para tanto. Entretanto, se as coordenadas estiverem em metros por exemplo, teremos de nos ater à qual CRS as mesmas foram coletadas, ou seja, se são coordenadas de GPS, é preciso saber como o GPS estava configurado (Datum) e à qual zona UTM as coordenadas pertencem para definir o código EPSG correto.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert para sf</span></span>
<span id="cb33-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb33-2" aria-hidden="true" tabindex="-1"></a>si_ve <span class="ot">&lt;-</span> si <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb33-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb33-4" aria-hidden="true" tabindex="-1"></a>si_ve</span></code></pre></div>
<pre><code>## Simple feature collection with 1163 features and 23 fields
## geometry type:  POINT
## dimension:      XY
## bbox:           xmin: -56.74194 ymin: -33.51083 xmax: -34.79667 ymax: -3.51525
## geographic CRS: WGS 84
## # A tibble: 1,163 x 24
##    id    reference_number species_number record sampled_habitat active_methods
##  * &lt;chr&gt;            &lt;dbl&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;           &lt;chr&gt;         
##  1 amp1…             1001             19 ab     fo,ll           as            
##  2 amp1…             1002             16 co     fo,la,ll        as            
##  3 amp1…             1002             14 co     fo,la,ll        as            
##  4 amp1…             1002             13 co     fo,la,ll        as            
##  5 amp1…             1003             30 co     fo,ll,br        as            
##  6 amp1…             1004             42 co     tp,pp,la,ll,is  &lt;NA&gt;          
##  7 amp1…             1005             23 co     sp              as            
##  8 amp1…             1005             19 co     sp,la,sw        as,sb,tr      
##  9 amp1…             1005             13 ab     fo              &lt;NA&gt;          
## 10 amp1…             1006              1 ab     fo              &lt;NA&gt;          
## # … with 1,153 more rows, and 18 more variables: passive_methods &lt;chr&gt;,
## #   complementary_methods &lt;chr&gt;, period &lt;chr&gt;, month_start &lt;dbl&gt;,
## #   year_start &lt;dbl&gt;, month_finish &lt;dbl&gt;, year_finish &lt;dbl&gt;,
## #   effort_months &lt;dbl&gt;, country &lt;chr&gt;, state &lt;chr&gt;, state_abbreviation &lt;chr&gt;,
## #   municipality &lt;chr&gt;, site &lt;chr&gt;, coordinate_precision &lt;chr&gt;, altitude &lt;dbl&gt;,
## #   temperature &lt;dbl&gt;, precipitation &lt;dbl&gt;, geometry &lt;POINT [°]&gt;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(si_ve[<span class="dv">1</span>], <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-pontos-atlantic-amphibians"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-pontos-atlantic-amphibians-1.png" alt="Mapa das coordenadas do Atlantic Amphinians." width="672" />
<p class="caption">
Figura 16.6: Mapa das coordenadas do Atlantic Amphinians.
</p>
</div>
</div>
<div id="converter-dados-espaciais-sp-para-sf" class="section level5" number="16.2.2.1.3">
<h5><span class="header-section-number">16.2.2.1.3</span> Converter dados espaciais <code>sp</code> para <code>sf</code></h5>
<p>O pacote <code>sf</code> é mais recente e mais fácil de manipular objetos vetoriais no R, como vimos. Seu predecessor, o pacote <code>sp</code> possui uma classe própria e homônima. Entretanto, muito pacotes de análises espaciais ainda utilizam essa classe em suas funções, apesar dessa migração ter ocorrido recentemente. Dessa forma, a conversão entre essas classes pode ser necessária em alguns momentos.</p>
<p>Abaixo, veremos como podemos fazer essa conversão facilmente. Primeiramente, vamos importar um dados <code>sp</code>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paises sp</span></span>
<span id="cb36-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb36-2" aria-hidden="true" tabindex="-1"></a>co110_sp <span class="ot">&lt;-</span> rnaturalearth<span class="sc">::</span>countries110</span>
<span id="cb36-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(co110_sp)</span></code></pre></div>
<pre><code>## [1] &quot;SpatialPolygonsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<p>Agora, podemos converter facilmente com a função <code>sf::st_as_sf()</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paises sf</span></span>
<span id="cb38-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb38-2" aria-hidden="true" tabindex="-1"></a>co110_sf <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_as_sf</span>(co110_sp)</span>
<span id="cb38-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(co110_sf)</span></code></pre></div>
<pre><code>## [1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre>
<p>Podemo facilmente converter esse objeto novamente para a classe <code>sp</code> com a função <code>sf::as_Spatial</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># paises sp</span></span>
<span id="cb40-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb40-2" aria-hidden="true" tabindex="-1"></a>co110_sp <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">as_Spatial</span>(co110_sf)</span>
<span id="cb40-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(co110_sp)</span></code></pre></div>
<pre><code>## [1] &quot;SpatialPolygonsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
</div>
</div>
<div id="dados-raster" class="section level4" number="16.2.2.2">
<h4><span class="header-section-number">16.2.2.2</span> Dados raster</h4>
<p>Para importar dados raster no R iremos utilizar a função <code>raster::raster()</code>, <code>raster::brick()</code> ou <code>raster::stack()</code>. Para apenas uma camada raster, usaremos a função <code>raster::raster()</code>, com o argumento <strong>x</strong> sendo o nome do arquivo. Já para mais camadas, usaremos <code>raster::brick()</code> para um arquivo que possua múltiplas camadas, ou ainda a função <code>raster::stack()</code> para várias arquivos em diferentes camadas também no argumento <strong>x</strong>, sendo necessário listar os arquivos no diretório, geralmente utilizando a função <code>dir()</code> ou <code>list.files()</code>. Entretanto, para especificar uma camada, podemos utiliar o argumento <strong>band</strong> ou <strong>layer</strong> e o nome dessa camada.</p>
<p>Primeiramente, vamos criar um diretório como para os dados raster.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory</span></span>
<span id="cb42-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Em seguida, vamos fazer o download de dados de elevação, localizados também para o município de Rio Claro. Iremos utilizar os dados do <a href="https://srtm.csi.cgiar.org/"><em>Shuttle Radar Topography Mission - SRTM</em></a>. Para saber mais sobre esses dados, recomandamos a leitura do artigo Farr et al. (2007).</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aumentar o tempo oara download</span></span>
<span id="cb43-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">timeout =</span> <span class="dv">600</span>)</span>
<span id="cb43-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb43-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://srtm.csi.cgiar.org/wp-content/uploads/files/srtm_5x5/TIFF/srtm_27_17.zip&quot;</span>,</span>
<span id="cb43-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.zip&quot;</span>), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb43-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co"># unzip</span></span>
<span id="cb43-9"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.zip&quot;</span>),</span>
<span id="cb43-10"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb43-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Agora podemos importar essa camada para o R, e visualizá-la em relação ao limite do município de Rio Claro/SP (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-dem">16.7</a>).</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar raster</span></span>
<span id="cb44-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb44-2" aria-hidden="true" tabindex="-1"></a>ra <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">raster</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;srtm_27_17.tif&quot;</span>))</span>
<span id="cb44-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb44-3" aria-hidden="true" tabindex="-1"></a>ra</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 6000, 6000, 3.6e+07  (nrow, ncol, ncell)
## resolution : 0.0008333333, 0.0008333333  (x, y)
## extent     : -50, -45, -25, -20  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/srtm_27_17.tif 
## names      : srtm_27_17 
## values     : -32768, 32767  (min, max)</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ra, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb46-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019[<span class="dv">1</span>], <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;red&quot;</span>, .<span class="dv">5</span>), <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-dem"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-dem-1.png" alt="Mapa do raster DEM em relação ao limite do município de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.7: Mapa do raster DEM em relação ao limite do município de Rio Claro/SP.
</p>
</div>
<p>Além dos dados de elevação, dados de temperatura e precipitação podem ser obtidos do <a href="https://www.worldclim.org/">WorldClim</a>. Para saber mais sobre esses dados, recomandamos a leitura do artigo Fick &amp; Hijmans (2017).</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download</span></span>
<span id="cb47-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://biogeo.ucdavis.edu/data/worldclim/v2.1/base/wc2.1_10m_bio.zip&quot;</span>,</span>
<span id="cb47-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;wc2.0_10m_bio.zip&quot;</span>), <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb47-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># unzip</span></span>
<span id="cb47-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="at">zipfile =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;wc2.0_10m_bio.zip&quot;</span>),</span>
<span id="cb47-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb47-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">exdir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>))</span></code></pre></div>
<p>Para importar essa série de camadas, primeiramente iremos listar os arquivos e depois importar no formato <code>RasterStack</code> ((Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-wc">16.8</a>).</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># listar arquivos</span></span>
<span id="cb48-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb48-2" aria-hidden="true" tabindex="-1"></a>fi <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>), <span class="at">pattern =</span> <span class="st">&quot;wc&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grep</span>(<span class="st">&quot;.tif&quot;</span>, ., <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb48-4" aria-hidden="true" tabindex="-1"></a>fi</span></code></pre></div>
<pre><code>##  [1] &quot;wc2.1_10m_bio_1.tif&quot;  &quot;wc2.1_10m_bio_10.tif&quot; &quot;wc2.1_10m_bio_11.tif&quot;
##  [4] &quot;wc2.1_10m_bio_12.tif&quot; &quot;wc2.1_10m_bio_13.tif&quot; &quot;wc2.1_10m_bio_14.tif&quot;
##  [7] &quot;wc2.1_10m_bio_15.tif&quot; &quot;wc2.1_10m_bio_16.tif&quot; &quot;wc2.1_10m_bio_17.tif&quot;
## [10] &quot;wc2.1_10m_bio_18.tif&quot; &quot;wc2.1_10m_bio_19.tif&quot; &quot;wc2.1_10m_bio_2.tif&quot; 
## [13] &quot;wc2.1_10m_bio_3.tif&quot;  &quot;wc2.1_10m_bio_4.tif&quot;  &quot;wc2.1_10m_bio_5.tif&quot; 
## [16] &quot;wc2.1_10m_bio_6.tif&quot;  &quot;wc2.1_10m_bio_7.tif&quot;  &quot;wc2.1_10m_bio_8.tif&quot; 
## [19] &quot;wc2.1_10m_bio_9.tif&quot;</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># importar</span></span>
<span id="cb50-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb50-2" aria-hidden="true" tabindex="-1"></a>st <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">stack</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, fi))</span>
<span id="cb50-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb50-3" aria-hidden="true" tabindex="-1"></a>st</span></code></pre></div>
<pre><code>## class      : RasterStack 
## dimensions : 1080, 2160, 2332800, 19  (nrow, ncol, ncell, nlayers)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## names      : wc2.1_10m_bio_1, wc2.1_10m_bio_10, wc2.1_10m_bio_11, wc2.1_10m_bio_12, wc2.1_10m_bio_13, wc2.1_10m_bio_14, wc2.1_10m_bio_15, wc2.1_10m_bio_16, wc2.1_10m_bio_17, wc2.1_10m_bio_18, wc2.1_10m_bio_19, wc2.1_10m_bio_2, wc2.1_10m_bio_3, wc2.1_10m_bio_4, wc2.1_10m_bio_5, ... 
## min values :      -54.724354,       -37.781418,       -66.311249,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,         0.000000,        1.000000,        9.131122,        0.000000,      -29.686001, ... 
## max values :        30.98764,         38.21617,         29.15299,      11191.00000,       2381.00000,        484.00000,        229.00169,       5284.00000,       1507.00000,       5282.00000,       4467.00000,        21.14754,       100.00000,      2363.84595,        48.08275, ...</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(st[[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]], <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-wc"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-wc-1.png" alt="Mapas dos rasters WorldClim para o mundo." width="672" />
<p class="caption">
Figura 16.8: Mapas dos rasters WorldClim para o mundo.
</p>
</div>
</div>
</div>
<div id="exportar-dados" class="section level3" number="16.2.3">
<h3><span class="header-section-number">16.2.3</span> Exportar dados</h3>
<p>Saber a melhor forma de exportar dados geográficos de objetos recém-criados do R é fundamental, principalmente porque essa ação irá depender do tipo de dado (vetor ou raster), classe do objeto (por exemplo, multiponto ou RasterLayer) e tipo e quantidade de informações armazenadas (por exemplo, tamanho do objeto, intervalo de valores).</p>
<div id="dados-vetoriais-1" class="section level4" number="16.2.3.1">
<h4><span class="header-section-number">16.2.3.1</span> Dados vetoriais</h4>
<p>Para dados vetoriais, a principal função utilizada é a <code>sf::st_write()</code>. Essa função permite gravar objetos sf em vários formatos de arquivos vetoriais, <code>.shp</code>, <code>.gpkg</code> ou <code>.geojson</code>. O formato a ser exportado vai influenciar na velocidade do processo de gravação.</p>
<p>Os argumentos dessa função será o <strong>obj</strong> que é o objeto sf criado no ambiente R, e o <strong>dsn</strong> será o <em>data source name</em>, ou seja, o nome que o arquivo terá ao ser exportado do R, de modo que o complemento <strong>.shp</strong>, por exemplo, irá definir que o arquivo terá a extensão <code>ESRI Shapefile</code>. Entretanto, esse formato pode ser definido também utilizando o argumento <strong>driver</strong>, com as possibilidades listadas nesse <a href="https://gdal.org/drivers/vector/index.html">site</a>.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor de rio claro no formato esri shapefile</span></span>
<span id="cb53-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb53-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> rc_2019, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;rio_claro.shp&quot;</span>))</span></code></pre></div>
<p>Ou podemos exportar no formato de <code>GeoPackage</code>. Entretando, aqui é interessante acrescentar um argumento chamado <strong>layer</strong> para definir o nome das camadas a serem exportadas no mesmo arquivo <code>GeoPackage</code>.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor de rio claro no formato geopackage</span></span>
<span id="cb54-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb54-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> rc_2019, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;vetores.gpkg&quot;</span>), <span class="at">layer =</span> <span class="st">&quot;rio_claro&quot;</span>)</span></code></pre></div>
<p>Sobre esse formato, há algo muito interessante que podemos fazer: podemos agrescentar outros arquivos vetoriais ao mesmo arquivo já criado. Como exemplo, iremos exportar o limite do Brasil para o mesmo arquivo.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar o vetor do brasil no formato geopackage</span></span>
<span id="cb55-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb55-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(<span class="at">obj =</span> br, <span class="at">dsn =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;vetor&quot;</span>, <span class="st">&quot;vetores.gpkg&quot;</span>), <span class="at">layer =</span> <span class="st">&quot;brasil&quot;</span>)</span></code></pre></div>
</div>
<div id="dados-raster-1" class="section level4" number="16.2.3.2">
<h4><span class="header-section-number">16.2.3.2</span> Dados raster</h4>
<p>Para exportar dados raster utilizamos geralmente a função <code>raster::writeRaster()</code>. Exportar dados raster é um pouco mais complexo que dados vetoriais. Teremos de definir se iremos exportar arquivos em <strong>uma camada ou várias</strong>, <strong>quantidade de informações por pixel</strong>, e ainda <strong>diferentes formatos de saída</strong>. Um ponto fundamental: arquivos raster escritos em discos geralmente ocupam bastante espaço, e dessa forma há parâmetros específicos para certos tipos de dados, que detalharemos a seguir.</p>
<p>Na função <code>raster::writeRaster()</code>, o argumento <strong>x</strong> diz respeito ao objeto raster no ambiente R. O argumento <strong>filename</strong> é nome do arquivo que será exportado do R, podendo ou não possuir a extensão que se pretende que o arquivo tenha. O argumento <strong>format</strong> é o formato do arquivo, sendo as principais possibilidades resumidas na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-raster-formatos">16.7</a>, e para saber das possibilidade suportadas, use a função <code>raster::writeFormats()</code>. O argumento <strong>bylayer</strong> diz se de um objeto com múltiplas camadas, cada uma delas será exportada em um arquivo diferente.</p>
<table>
<caption><span id="tab:tab-raster-formatos">Tabela 16.7: </span>Principais formatos de arquivos raster exportados do R.</caption>
<thead>
<tr class="header">
<th align="left">Tipo de arquivo</th>
<th align="left">Nome longo</th>
<th align="left">Extensão</th>
<th align="left">Suporte a múltiplas camadas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">raster</td>
<td align="left">Formato pacote raster</td>
<td align="left">.grd</td>
<td align="left">Sim</td>
</tr>
<tr class="even">
<td align="left">ascii</td>
<td align="left">ESRI Ascii</td>
<td align="left">.asc</td>
<td align="left">Não</td>
</tr>
<tr class="odd">
<td align="left">SAGA</td>
<td align="left">SAGA GIS</td>
<td align="left">.sdat</td>
<td align="left">Não</td>
</tr>
<tr class="even">
<td align="left">IDRISI</td>
<td align="left">IDRISI</td>
<td align="left">.rst</td>
<td align="left">Não</td>
</tr>
<tr class="odd">
<td align="left">CDF</td>
<td align="left">netCDF (requer ncdf4)</td>
<td align="left">.nc</td>
<td align="left">Sim</td>
</tr>
<tr class="even">
<td align="left">GTiff</td>
<td align="left">GeoTiff (requer rgdal)</td>
<td align="left">.tif</td>
<td align="left">Sim</td>
</tr>
<tr class="odd">
<td align="left">ENVI</td>
<td align="left">ENVI .hdr</td>
<td align="left">.envi</td>
<td align="left">Sim</td>
</tr>
<tr class="even">
<td align="left">EHdr</td>
<td align="left">ESRI .hdr</td>
<td align="left">.bil</td>
<td align="left">Sim</td>
</tr>
<tr class="odd">
<td align="left">HFA</td>
<td align="left">Erdas imagem (.img)</td>
<td align="left">.img</td>
<td align="left">Sim</td>
</tr>
</tbody>
</table>
<p>Dentre os argumentos adicionais, temos ainda o <em>datatype</em>, que faz referência à um dos nove tipos de dados detalhados na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-raster-tipos">16.8</a>, sendo que o tipo de dado determina a representação de bits (quantidade de informação) do objeto raster exportado e depende da faixa de valores do objeto raster em cada pixel. Quanto mais valores um tipo de dado puder representar, maior será o arquivo exportado no disco, dessa forma, é interessante utilizar um tipo de dado que diminua o tamanho do arquivo à ser exportado, dependendo do tipo de dados em cada pixel. Para a função <code>raster::writeRaster()</code>, o default é <em>FLT4S</em>, o que pode ocupar mais espaço em disco do que o necessário, dependendo do tipo de dados do objeto raster no R.</p>
<table>
<caption><span id="tab:tab-raster-tipos">Tabela 16.8: </span>Tipos de dados suportados pelo pacote raster.</caption>
<thead>
<tr class="header">
<th align="left">Tipo de dado</th>
<th align="left">Valor mínimo</th>
<th align="left">Valor máximo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">LOG1S</td>
<td align="left">FALSE (0)</td>
<td align="left">TRUE (1)</td>
</tr>
<tr class="even">
<td align="left">INT1S</td>
<td align="left">-127</td>
<td align="left">127</td>
</tr>
<tr class="odd">
<td align="left">INT1U</td>
<td align="left">0</td>
<td align="left">255</td>
</tr>
<tr class="even">
<td align="left">INT2S</td>
<td align="left">-32.767</td>
<td align="left">32.767</td>
</tr>
<tr class="odd">
<td align="left">INT2U</td>
<td align="left">0</td>
<td align="left">65534</td>
</tr>
<tr class="even">
<td align="left">INT4S</td>
<td align="left">-2.147.483.647</td>
<td align="left">2.147.483.647</td>
</tr>
<tr class="odd">
<td align="left">INT4U</td>
<td align="left">0</td>
<td align="left">42.94.967.296</td>
</tr>
<tr class="even">
<td align="left">FLT4S</td>
<td align="left">-3,4e+38</td>
<td align="left">3,4e+38</td>
</tr>
<tr class="odd">
<td align="left">FLT8S</td>
<td align="left">-1,7e+308</td>
<td align="left">1,7e+308</td>
</tr>
</tbody>
</table>
<p>Outros argumentos de suporte são: <strong>overwrite</strong> para sobreescrever um arquivo que já exista, <em>progress</em> para mostrar uma barra de progresso da exportação como “text” ou “window,” e <strong>options</strong> que permite opções do GDAL. Para esse último, quando exportar especificamente para o formato <code>GeoTIFF</code>, podemos utilizar <code>options = c("COMPRESS=NONE", "TFW=YES")</code> para que haja compressão do arquivo, diminuindo consideravelmente seu tamanho (cerca de um terço), aliado à um arquivo auxiliar <code>.tfw</code> para ser carregado em softwares específicos de SIG, como ArcGIS.</p>
<p>Para exportar apenas uma camada <code>RasterLayer</code>, podemos utilizar a função <code>raster::writeRaster()</code> em um formato mais simples.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># diretorio</span></span>
<span id="cb56-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>))</span>
<span id="cb56-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># exportar raster layer</span></span>
<span id="cb56-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-5" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(ra, </span>
<span id="cb56-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">filename =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>, <span class="st">&quot;elevation&quot;</span>),</span>
<span id="cb56-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">format =</span> <span class="st">&quot;GTiff&quot;</span>,</span>
<span id="cb56-8"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">datatype =</span> <span class="st">&quot;INT2S&quot;</span>,</span>
<span id="cb56-9"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">options =</span> <span class="fu">c</span>(<span class="st">&quot;COMPRESS=NONE&quot;</span>, <span class="st">&quot;TFW=YES&quot;</span>),</span>
<span id="cb56-10"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">progress =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb56-11"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb56-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Para mais de uma camada <code>RasterBrick</code> ou <code>RasterStack</code>, podemos utilizar a função <code>raster::writeRaster()</code> com mais argumentos, como o <code>bylayer = TRUE</code>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">writeRaster</span>(<span class="at">x =</span> st, </span>
<span id="cb57-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">filename =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;dados&quot;</span>, <span class="st">&quot;raster&quot;</span>, <span class="st">&quot;exportados&quot;</span>, <span class="fu">names</span>(st)),</span>
<span id="cb57-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">bylayer =</span> <span class="cn">TRUE</span>, </span>
<span id="cb57-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">format =</span> <span class="st">&quot;GTiff&quot;</span>,</span>
<span id="cb57-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">datatype =</span> <span class="st">&quot;INT2S&quot;</span>,</span>
<span id="cb57-6"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">options =</span> <span class="fu">c</span>(<span class="st">&quot;COMPRESS=NONE&quot;</span>, <span class="st">&quot;TFW=YES&quot;</span>),</span>
<span id="cb57-7"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">progress =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb57-8"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb57-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">overwrite =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="descrição-de-objetos-sf-e-raster" class="section level2" number="16.3">
<h2><span class="header-section-number">16.3</span> Descrição de objetos sf e raster</h2>
<p>Muitas vezes iremos precisar verificar as informações dos objetos geográficos importados para o R. Apesar do comando de chamar o objeto trazer grande parte das informações que precisamos, existem funções específicas que nos auxiliam nesse processo.</p>
<div id="vetor-2" class="section level3" number="16.3.1">
<h3><span class="header-section-number">16.3.1</span> Vetor</h3>
<p>Podemos acessar as <strong>informações geográficas</strong> e a <strong>tabela de atributos</strong> de um objeto importado como vetor simplesmente chamando o <strong>nome do objeto</strong> no R.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rio claro</span></span>
<span id="cb58-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb58-2" aria-hidden="true" tabindex="-1"></a>rc_2019</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 7 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -47.76536 ymin: -22.55203 xmax: -47.46188 ymax: -22.24368
## geographic CRS: SIRGAS 2000
##     code_muni name_muni code_state abbrev_state name_state code_region
## 493   3543907 Rio Claro         35           SP  São Paulo           3
##     name_region                           geom
## 493     Sudeste MULTIPOLYGON (((-47.66303 -...</code></pre>
<p>Mas também podemos acessar <strong>informações geográficas</strong> com funções específicas, como tipo de geometria, limites geográficos do vetor (extensão), sistema de referência de coordenadas (CRS), e a tabela de atributos.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tipo de geometria</span></span>
<span id="cb60-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb60-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_geometry_type</span>(rc_2019)</span></code></pre></div>
<pre><code>## [1] MULTIPOLYGON
## 18 Levels: GEOMETRY POINT LINESTRING POLYGON MULTIPOINT ... TRIANGLE</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extensao</span></span>
<span id="cb62-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb62-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_bbox</span>(rc_2019)</span></code></pre></div>
<pre><code>##      xmin      ymin      xmax      ymax 
## -47.76536 -22.55203 -47.46188 -22.24368</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># crs</span></span>
<span id="cb64-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb64-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_crs</span>(rc_2019)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: SIRGAS 2000 
##   wkt:
## GEOGCRS[&quot;SIRGAS 2000&quot;,
##     DATUM[&quot;Sistema de Referencia Geocentrico para las AmericaS 2000&quot;,
##         ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;Latin America - Central America and South America - onshore and offshore. Brazil - onshore and offshore.&quot;],
##         BBOX[-59.87,-122.19,32.72,-25.28]],
##     ID[&quot;EPSG&quot;,4674]]</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># acessar a tabela de atributos</span></span>
<span id="cb66-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb66-2" aria-hidden="true" tabindex="-1"></a>rc_2019_tab <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>(rc_2019)</span>
<span id="cb66-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb66-3" aria-hidden="true" tabindex="-1"></a>rc_2019_tab</span></code></pre></div>
<pre><code>##     code_muni name_muni code_state abbrev_state name_state code_region
## 493   3543907 Rio Claro         35           SP  São Paulo           3
##     name_region
## 493     Sudeste</code></pre>
</div>
<div id="raster-2" class="section level3" number="16.3.2">
<h3><span class="header-section-number">16.3.2</span> Raster</h3>
<p>Da mesma forma, podemos acessar as <strong>informações dos dados raster</strong> chamando o <strong>nome do objeto</strong>.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb68-1" aria-hidden="true" tabindex="-1"></a>ra</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 6000, 6000, 3.6e+07  (nrow, ncol, ncell)
## resolution : 0.0008333333, 0.0008333333  (x, y)
## extent     : -50, -45, -25, -20  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/srtm_27_17.tif 
## names      : srtm_27_17 
## values     : -32768, 32767  (min, max)</code></pre>
<p>Além disso, podemos selecionar informações desse objeto com funções específicas, tanto para <code>RasterLayer</code> quanto para <code>RasterBrick</code> ou <code>RasterStack</code>, como classe, dimensões (número de linhas, colunas e camadas), número de camadas, número de linhas, número de colunas, número de células, resolução (largura e altura do tamanho do pixel), extensão (limites geográficos), sistema de referência de coordenadas (CRS), nome das camadas e extrair os valores de todos os pixels.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># classe</span></span>
<span id="cb70-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;RasterLayer&quot;
## attr(,&quot;package&quot;)
## [1] &quot;raster&quot;</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensoes</span></span>
<span id="cb72-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000 6000    1</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de camadas</span></span>
<span id="cb74-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nlayers</span>(ra)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de linhas</span></span>
<span id="cb76-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de colunas</span></span>
<span id="cb78-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(ra)</span></code></pre></div>
<pre><code>## [1] 6000</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numero de celulas</span></span>
<span id="cb80-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncell</span>(ra)</span></code></pre></div>
<pre><code>## [1] 3.6e+07</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># resolucao</span></span>
<span id="cb82-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">res</span>(ra)</span></code></pre></div>
<pre><code>## [1] 0.0008333333 0.0008333333</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extensao</span></span>
<span id="cb84-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">extent</span>(ra)</span></code></pre></div>
<pre><code>## class      : Extent 
## xmin       : -50 
## xmax       : -45 
## ymin       : -25 
## ymax       : -20</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao ou crs</span></span>
<span id="cb86-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">projection</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nome</span></span>
<span id="cb88-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;srtm_27_17&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># valores</span></span>
<span id="cb90-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getValues</span>(ra) <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">values</span>(ra) <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb94-1" aria-hidden="true" tabindex="-1"></a>ra[] <span class="sc">%&gt;%</span> head</span></code></pre></div>
<pre><code>## [1] 382 379 379 379 379 383</code></pre>
</div>
</div>
<div id="reprojeção-de-dados-geográficos" class="section level2" number="16.4">
<h2><span class="header-section-number">16.4</span> Reprojeção de dados geográficos</h2>
<p>Em algumas situações é necessário alterar o CRS de um objeto espacial para um novo CRS. A reprojeção é justamente a transformação de coordenadas de um CRS para outro: <strong>geográficos</strong> (‘lon/lat,’ com unidades em graus de longitude e latitude) e <strong>projetados</strong> (normalmente com unidades de metros a partir de um datum).</p>
<p>Geralmente iremos precisar fazer essa operação para transformar camadas para o <strong>mesmo CRS</strong>, de modo que possam ser exibidas conjuntamente, ou ainda que as camadas possuem <strong>CRS projetado</strong> para realizar alguma <strong>operação espacial entre camadas</strong> ou ainda quando precisamos <strong>calcular áreas, formatos ou distâncias</strong>, como métricas de paisagem, por exemplo.</p>
<p>Podemos verificar o CRS de uma camada através da função <code>sf::st_crs()</code> ou <code>raster::projection()</code> e <code>raster::crs()</code>, ou ainda saber se a mesma possui um CRS geográfico ou não, com a função <code>sf::st_is_longlat()</code>. Já para reprojetar um objeto <code>sf</code> usamos a função <code>sf::st_transform()</code> e para um objeto raster usamos a função <code>raster::projectRaster()</code>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao de vetores</span></span>
<span id="cb96-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb96-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_crs</span>(rc_2019)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: SIRGAS 2000 
##   wkt:
## GEOGCRS[&quot;SIRGAS 2000&quot;,
##     DATUM[&quot;Sistema de Referencia Geocentrico para las AmericaS 2000&quot;,
##         ELLIPSOID[&quot;GRS 1980&quot;,6378137,298.257222101,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;Horizontal component of 3D system.&quot;],
##         AREA[&quot;Latin America - Central America and South America - onshore and offshore. Brazil - onshore and offshore.&quot;],
##         BBOX[-59.87,-122.19,32.72,-25.28]],
##     ID[&quot;EPSG&quot;,4674]]</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao de raster</span></span>
<span id="cb98-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb98-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">projection</span>(ra)</span></code></pre></div>
<pre><code>## [1] &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb100-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">crs</span>(ra)</span></code></pre></div>
<pre><code>## CRS arguments: +proj=longlat +datum=WGS84 +no_defs</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># verificar se o crs e geografico</span></span>
<span id="cb102-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb102-2" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_is_longlat</span>(rc_2019)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>As funções <code>sf::st_transform()</code> e <code>raster::projectRaster()</code> possuem dois parâmetros importantes: <strong>x</strong> que é a camada a ser reprojetada e o <strong>crs</strong> que é o CRS alvo. O argumento <strong>crs</strong> pode ser especificado de uma das quatro maneiras: 1) um código EPSG (por exemplo, 4326), 2) um string PROJ4 (por exemplo, “+ proj = longlat + datum = WGS84 + no_defs”), 3) um string WKT, ou 4) um objeto crs de outra camada, conforme retornado por <code>sf::st_crs()</code> ou <code>raster::crs()</code>. Esas informações de EPSG, PROJ4 e WKT pode ser acessadas nas bases: <a href="http://epsg.io/">epsg.io</a> e <a href="https://spatialreference.org/">spatialreference.org</a>.</p>
<p>Dentre os possíveis CRSs a serem utilizados, alguns são mais comuns para CRSs geográficos e projetados. Para <strong>CRSs geográficos</strong>, o mais comum para o mundo é o <strong>World Geodetic System 1984 (WGS84)</strong>, ou seja, geográfico com datum WGS84. Para o Brasil, o CRS adotado é o <a href="http://www.sirgas.org/pt/sirgas-realizations/sirgas2000/"><strong>Sistema de Referencia Geocéntrico para las Américas 2000 (SIRGAS 2000)</strong></a>, ou seja, geográfico com datum SIRGAS2000.</p>
<p>Para <strong>CRSs projetados</strong>, essa escolha vai depender da extenção e localização da área de interesse no globo terrestre. Aqui destacaremos os principais, para três escalas: global, regional e local. Para a <strong>escala global</strong>, geralmente usa-se umas dessas projeções, dependendo do objetivo: 1) Projeção de Mollweide, 2) Projeção de Winkel Tripel, 3) Projeção de Eckert IV, 4) Projeção Azimutal de Lambert. Para a <strong>escala regional</strong>, como um hemisfério, geralmente usa-se a Projeção Cônica de Albers. Por fim, para a <strong>escala local</strong>, usa-se geralmente a Projeção Universal Transverse Mercator (UTM), um conjunto de CRSs que divide a Terra em 60 cunhas longitudinais e 20 segmentos latitudinais, como pode ser visto neste <a href="http://www.dmap.co.uk/utmworld.htm">link</a>.</p>
<p>Os principais CRSs são descritos na Tabela <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#tab:tab-crs">16.9</a>.</p>
<table>
<caption><span id="tab:tab-crs">Tabela 16.9: </span>Principais CRSs utilizados.</caption>
<colgroup>
<col width="23%" />
<col width="3%" />
<col width="41%" />
<col width="11%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">CRS</th>
<th align="left">Tipo de CRS</th>
<th align="left">Descrição</th>
<th align="left">epsg.io</th>
<th align="left">spatialreference.org</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">World Geodetic System 1984 (WGS84)</td>
<td align="left">Geográfico</td>
<td align="left">CRS geográfico mais comum para o mundo</td>
<td align="left"><a href="http://epsg.io/4326">EPSG:4326</a></td>
<td align="left"><a href="https://spatialreference.org/ref/epsg/4326/">EPSG:4326</a></td>
</tr>
<tr class="even">
<td align="left">Sistema de Referencia Geocéntrico para las Américas 2000 (SIRGAS 2000)</td>
<td align="left">Geográfico</td>
<td align="left">CRS geográfico oficial para o Brasil</td>
<td align="left"><a href="http://epsg.io/4674">EPSG:4674</a></td>
<td align="left"><a href="https://spatialreference.org/ref/epsg/4674/">EPSG:4674</a></td>
</tr>
<tr class="odd">
<td align="left">Projeção de Mollweide</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado que preserva as relações de área</td>
<td align="left"><a href="https://epsg.io/54009">ESRI:54009</a></td>
<td align="left"><a href="https://spatialreference.org/ref/sr-org/7099/">SR-ORG:7099</a></td>
</tr>
<tr class="even">
<td align="left">Projeção de Winkel Tripel</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado com mínimo de distorção para área, direção e distância</td>
<td align="left">NA</td>
<td align="left"><a href="https://spatialreference.org/ref/sr-org/7291/">SR-ORG:7291</a></td>
</tr>
<tr class="odd">
<td align="left">Projeção de Eckert IV</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado que presenva a área e com meridianos elípticos</td>
<td align="left"><a href="https://epsg.io/54012">EPSG:54012</a></td>
<td align="left"><a href="https://spatialreference.org/ref/esri/54012/">ESRI:54012</a></td>
</tr>
<tr class="even">
<td align="left">Projeção Azimutal de Lambert</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado que preserva os tamanhos relativos e senso de direção a partir do centro</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Projeção Cônica de Albers</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado para escala regional, mantendo a área constante em toda sua superfície</td>
<td align="left">NA</td>
<td align="left"><a href="https://spatialreference.org/ref/sr-org/7823/">SR-ORG:7823</a></td>
</tr>
<tr class="even">
<td align="left">Projeção Universal Transverse Mercator (UTM)</td>
<td align="left">Projetado</td>
<td align="left">CRS projetado para escala local, distorcendo áreas e distâncias com gravidade crescente com a distância do centro da zona UTM</td>
<td align="left"><a href="https://epsg.io/31983">EPSG:31983</a></td>
<td align="left"><a href="https://spatialreference.org/ref/epsg/31983/">EPSG:31983</a></td>
</tr>
</tbody>
</table>
<div id="reprojetando-vetores" class="section level3" number="16.4.1">
<h3><span class="header-section-number">16.4.1</span> Reprojetando vetores</h3>
<p>Como dissemos anteriormente, para reprojetar um vetor, utilizamos a função <code>sf::st_transform()</code>, observando os argumentos <strong>x</strong> que é a camada a ser reprojetada, e o <strong>crs</strong> que é o CRS alvo.</p>
<p>Vamos reprojetar o limite do município de Rio Claro/SP do <strong>CRS geográfico SIRGAS2000</strong> para o <strong>CRS projetado SIRGAS2000/UTM23S</strong>, com os efeitos da transformação podendo ser notados na Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-crs-trans">16.9</a>.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># converter crs</span></span>
<span id="cb104-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb104-2" aria-hidden="true" tabindex="-1"></a>rc_2019_sirgas2000_utm23s <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="at">x =</span> rc_2019, <span class="at">crs =</span> <span class="dv">31983</span>)</span>
<span id="cb104-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb104-3" aria-hidden="true" tabindex="-1"></a>rc_2019_sirgas2000_utm23s</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 7 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 215151.7 ymin: 7503729 xmax: 246553 ymax: 7537978
## projected CRS:  SIRGAS 2000 / UTM zone 23S
##     code_muni name_muni code_state abbrev_state name_state code_region
## 493   3543907 Rio Claro         35           SP  São Paulo           3
##     name_region                           geom
## 493     Sudeste MULTIPOLYGON (((225813.8 75...</code></pre>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-crs-trans"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-crs-trans-1.png" alt="Mapas dos limites do município de Rio Claro/SP com CRS geográfico SIRGAS2000 e com CRS projetado SIRGAS2000/UTM23S." width="672" />
<p class="caption">
Figura 16.9: Mapas dos limites do município de Rio Claro/SP com CRS geográfico SIRGAS2000 e com CRS projetado SIRGAS2000/UTM23S.
</p>
</div>
<p>Podemos ainda utilizar o formato <code>proj4string</code> no argumento <strong>crs</strong> para fazer a transformação. Vamos primentamente plotar o mundo em WGS84/Geográfico (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-mundo-wgs84">16.10</a>).</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co110_sf[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>,  <span class="at">main =</span> <span class="st">&quot;WGS84/Geográfio&quot;</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-mundo-wgs84"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-mundo-wgs84-1.png" alt="Mapa do mundo com CRS geográfico e datum WGS8." width="672" />
<p class="caption">
Figura 16.10: Mapa do mundo com CRS geográfico e datum WGS8.
</p>
</div>
<p>Agora, iremos reprojetar utilizando a Projeção de Mollweide (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-mundo-moll">16.11</a>).</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao de mollweide </span></span>
<span id="cb107-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb107-2" aria-hidden="true" tabindex="-1"></a>co110_sf_moll <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="at">x =</span> co110_sf, <span class="at">crs =</span> <span class="st">&quot;+proj=moll&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co110_sf_moll[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Projeção de Mollweide&quot;</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-mundo-moll"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-mundo-moll-1.png" alt="Mapa do mundo com CRS Projeção de Mollweide." width="672" />
<p class="caption">
Figura 16.11: Mapa do mundo com CRS Projeção de Mollweide.
</p>
</div>
<p>Ou ainda utilizar a Projeção Azimutal de Lambert com alguns parâmetros ajustados para centrar a projeção no Brasil (<a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-mundo-laea">16.12</a>).</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># projecao de mollweide </span></span>
<span id="cb109-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb109-2" aria-hidden="true" tabindex="-1"></a>co110_sf_laea <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(<span class="at">x =</span> co110_sf, </span>
<span id="cb109-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb109-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">crs =</span> <span class="st">&quot;+proj=laea +x_0=0 +y_0=0 +lon_0=-50 +lat_0=0&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co110_sf_laea[<span class="dv">1</span>], <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Projeção Azimutal de Lambert&quot;</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-mundo-laea"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-mundo-laea-1.png" alt="Mapa do mundo com CRS Projeção Azimutal de Lambert centrado no Brasil." width="672" />
<p class="caption">
Figura 16.12: Mapa do mundo com CRS Projeção Azimutal de Lambert centrado no Brasil.
</p>
</div>
</div>
<div id="reprojetando-raster" class="section level3" number="16.4.2">
<h3><span class="header-section-number">16.4.2</span> Reprojetando raster</h3>
<p>A reprojeção de objetos raster não é uma tarefa tão simples quanto a reprojeao de vetores. Em vetores, a reprojeção altera as coordenadas de cada vértice. Entretanto, como rasters são compostos de células retangulares do mesmo tamanho, a reprojeção do raster envolve a <strong>criação de um novo objeto raster</strong>, envolvendo duas operações espaciais separadas: 1) reprojeção vetorial dos centróides celulares para outro CRS (i.e., muda a <strong>posição</strong> e <strong>tamanho</strong> do pixel) e, 2) cálculo de novos valores de pixel por meio de reamostragem (i.e., muda o <strong>valor</strong> do pixel).</p>
<p>A função <code>raster::projectRaster()</code> possui alguns parâmetros que necessitam de algumas especificações. O argumento <strong>from</strong> que é objeto raster de entrada para que sofra a reprojeção. O argumento <strong>to</strong> é um objeto raster do qual todas as propriedade CRSs, como extenção e resolução serão associadas ao objeto raster indicado em <strong>from</strong>. O argumento <strong>res</strong> permite ajustar a resolução do pixel de saída do objeto raster reprojetado.</p>
<p>O argumento <strong>crs</strong> aceita apenas as definições de <code>proj4string</code> extensas de um CRS em vez de códigos EPSG concisos. Contudo, é possível usar um código <code>EPSG</code> em uma definição de <code>proj4string</code> com <code>+init=epsg:EPSG</code>. Por exemplo, pode-se usar a definição <code>+init=epsg:4326</code> para definir CRS para WGS84 (código EPSG de 4326). A biblioteca <code>PROJ</code> adiciona automaticamente o resto dos parâmetros e os converte em <code>+init=epsg:4326 +proj=longlat +datum=WGS84 + no_defs + ellps=WGS84 + towgs84=0,0,0</code>.</p>
<p>O argumento <strong>method</strong> permite escolher entre os métodos <em>“ngb” (vizinho mais próximo)</em> ou <em>“biliniar” (interpolação bilinear)</em>, sendo o primeiro mais indicado para reprojeção de <strong>rasters categóricos</strong>, pois os valores estimados devem ser iguais aos do raster original. O método <em>“ngb”</em> define cada novo valor de célula para o valor da célula mais próxima (centro) do raster de entrada. Já o método <em>“biliniar”</em> é indicado para <strong>raster contínuos</strong> e calcula o valor da célula de saída com base nas quatro células mais próximas no raster original, sendo a média ponderada da distância dos valores dessas quatro células.</p>
<p>Aqui, vamos reprojetar os dados de elevação para Rio Claro/SP. Para que esse processo seja mais rápido, iremos ajustar a extensão do raster para o limite do município usando a função <code>raster::crop()</code> (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-crop">16.13</a>). Essa função será melhor explicada nos itens a seguir.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ajuste do limite</span></span>
<span id="cb111-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb111-2" aria-hidden="true" tabindex="-1"></a>ra_rc <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">crop</span>(<span class="at">x =</span> ra, <span class="at">y =</span> rc_2019)</span>
<span id="cb111-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb111-3" aria-hidden="true" tabindex="-1"></a>ra_rc</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 370, 364, 134680  (nrow, ncol, ncell)
## resolution : 0.0008333333, 0.0008333333  (x, y)
## extent     : -47.765, -47.46167, -22.55167, -22.24333  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : memory
## names      : srtm_27_17 
## values     : 491, 985  (min, max)</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ra_rc, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb113-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019[<span class="dv">1</span>], <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">0</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-crop"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-crop-1.png" alt="Ajuste da extensão do raster de elevação para o município de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.13: Ajuste da extensão do raster de elevação para o município de Rio Claro/SP.
</p>
</div>
<p>Primeiramente, vamos reprojetar indicando uma projeção e sem especificar o tamanho da célula (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-reproj">16.14</a>). Notem que o tamanho da célula vai se ajustar para valores diferentes, sendo portanto, pixels retangulares.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reprojecao</span></span>
<span id="cb114-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb114-2" aria-hidden="true" tabindex="-1"></a>ra_rc_utm23 <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">projectRaster</span>(<span class="at">from =</span> ra_rc, <span class="at">crs =</span> <span class="st">&quot;+init=epsg:31983&quot;</span>, <span class="at">method =</span> <span class="st">&quot;bilinear&quot;</span>)</span>
<span id="cb114-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb114-3" aria-hidden="true" tabindex="-1"></a>ra_rc_utm23</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 386, 381, 147066  (nrow, ncol, ncell)
## resolution : 85.8, 92.3  (x, y)
## extent     : 214575.4, 247265.2, 7503009, 7538637  (xmin, xmax, ymin, ymax)
## crs        : +proj=utm +zone=23 +south +ellps=GRS80 +units=m +no_defs 
## source     : memory
## names      : srtm_27_17 
## values     : 491.6033, 980.4151  (min, max)</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ra_rc_utm23, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb116-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019_sirgas2000_utm23s[<span class="dv">1</span>], <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">0</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-reproj"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-reproj-1.png" alt="Reprojeção do raster de elevação para SIRGAS2000/UTM23S sem especificar o tamanho da célula." width="672" />
<p class="caption">
Figura 16.14: Reprojeção do raster de elevação para SIRGAS2000/UTM23S sem especificar o tamanho da célula.
</p>
</div>
<p>Agora vamos reprojetar especificando o tamanho da célula (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-reproj-celula">16.15</a>). Dessa forma, todas as células terão o mesmo, i.e., 90 m.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reprojecao</span></span>
<span id="cb117-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb117-2" aria-hidden="true" tabindex="-1"></a>ra_rc_utm23_res200 <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">projectRaster</span>(<span class="at">from =</span> ra_rc, <span class="at">crs =</span> <span class="st">&quot;+init=epsg:31983&quot;</span>, <span class="at">method =</span> <span class="st">&quot;bilinear&quot;</span>, <span class="at">res =</span> <span class="dv">90</span>)</span>
<span id="cb117-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb117-3" aria-hidden="true" tabindex="-1"></a>ra_rc_utm23_res200</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 396, 364, 144144  (nrow, ncol, ncell)
## resolution : 90, 90  (x, y)
## extent     : 214554.4, 247314.4, 7502985, 7538625  (xmin, xmax, ymin, ymax)
## crs        : +proj=utm +zone=23 +south +ellps=GRS80 +units=m +no_defs 
## source     : memory
## names      : srtm_27_17 
## values     : 493.2395, 986.686  (min, max)</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ra_rc_utm23_res200, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb119-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019_sirgas2000_utm23s[<span class="dv">1</span>], <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">0</span>), <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-reproj-celula"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-reproj-celula-1.png" alt="Reprojeção do raster de elevação para SIRGAS2000/UTM23S especificado por um objeto e informando o tamanho da célula." width="672" />
<p class="caption">
Figura 16.15: Reprojeção do raster de elevação para SIRGAS2000/UTM23S especificado por um objeto e informando o tamanho da célula.
</p>
</div>
<p>Vamos também reprojetar uma camada mundial da média de temperatura anual, indicando o tamanho da célula para 25.000 m (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-reproj-celula-mundo">16.16</a>).</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reprojecao</span></span>
<span id="cb120-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb120-2" aria-hidden="true" tabindex="-1"></a>bio01_moll <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">projectRaster</span>(st[[<span class="dv">1</span>]], <span class="at">crs =</span> <span class="st">&quot;+proj=moll&quot;</span>, <span class="at">res =</span> <span class="dv">25000</span>, <span class="at">method =</span> <span class="st">&quot;bilinear&quot;</span>)</span>
<span id="cb120-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb120-3" aria-hidden="true" tabindex="-1"></a>bio01_moll</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 732, 1453, 1063596  (nrow, ncol, ncell)
## resolution : 25000, 25000  (x, y)
## extent     : -18159905, 18165095, -9154952, 9145048  (xmin, xmax, ymin, ymax)
## crs        : +proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs 
## source     : memory
## names      : wc2.1_10m_bio_1 
## values     : -54.66752, 30.71805  (min, max)</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bio01_moll, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span>
<span id="cb122-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(co110_sf_moll[<span class="dv">1</span>], <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="st">&quot;white&quot;</span>, <span class="dv">0</span>), <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-reproj-celula-mundo"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-reproj-celula-mundo-1.png" alt="Reprojeção do raster de média de temperatura anual para Projeção de Mollweide informando o tamanho da célula." width="672" />
<p class="caption">
Figura 16.16: Reprojeção do raster de média de temperatura anual para Projeção de Mollweide informando o tamanho da célula.
</p>
</div>
</div>
</div>
<div id="principais-operações-com-dados-geográficos" class="section level2" number="16.5">
<h2><span class="header-section-number">16.5</span> Principais operações com dados geográficos</h2>
<p>Nesta seção veremos as principais funções para realizar operações com dados geográficos. Essas operações estão separadas conforme Lovelace, Nowosad &amp; Muenchow (2019): <strong>Operações de atributos</strong>, <strong>Operações espaciais</strong>, e <strong>Operações geométricas</strong>.</p>
<div id="operações-de-atributos" class="section level3" number="16.5.1">
<h3><span class="header-section-number">16.5.1</span> Operações de atributos</h3>
<p>São modificação de objetos espaciais baseado em <strong>informações não espaciais</strong> associadas a dados geográficos, como a <strong>tabela de atributos</strong> ou <strong>valores das células e nome</strong> dos rasters.</p>
<div id="vetor-3" class="section level4" number="16.5.1.1">
<h4><span class="header-section-number">16.5.1.1</span> Vetor</h4>
<p>As principais <strong>operações de atributos vetoriais</strong> são com respeito à tabela de atributos, sendo elas: 1) filtro, 2) junção, 3) agregação, e 4) criação e/ou alteração de atributos. A lista de possíveis operações é longa, então apresentaremos algumas operações utilizando as princiais funções e listamos as demais funções e suas operações, que irão depender de objetivos diversos.</p>
<p>Quase todas as operações serão as mesmas realizadas pelo pacote <code>dplyr</code> em uma tabela de dados, sendo algumas operações específicas para <strong>alterar apenas a tabela de atributos</strong> e outras que <strong>refletem operações nas feições</strong>, ou seja, irão alterar através da tabela de atributos as características das feições. Essas funções e suas operações são descritas com detalhes na Tabela (<a href="#tab:tab-vector-opat-todas"><strong>??</strong></a>).</p>
<table>
<caption><span id="tab:tab-vetor-opat-todas">Tabela 16.10: </span>Principais funções para realizar operações de atributos e duas descrições.</caption>
<colgroup>
<col width="11%" />
<col width="8%" />
<col width="79%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Funções</th>
<th align="left">Onde atua</th>
<th align="left">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>filter()</code></td>
<td align="left">Feições</td>
<td align="left">Selecionar feições por valores</td>
</tr>
<tr class="even">
<td align="left"><code>slice()</code></td>
<td align="left">Feições</td>
<td align="left">Selecionar feições pela posição na tabela de atributos</td>
</tr>
<tr class="odd">
<td align="left"><code>n_sample()</code></td>
<td align="left">Feições</td>
<td align="left">Amostrar feições na tabela de atributos</td>
</tr>
<tr class="even">
<td align="left"><code>group_by()</code></td>
<td align="left">Feições</td>
<td align="left">Agrupar feições por valores da tabela de atributos</td>
</tr>
<tr class="odd">
<td align="left"><code>summarise()</code></td>
<td align="left">Feições</td>
<td align="left">Operações com valores das feições na tabela de atributos, que acabam por dissolver as feições</td>
</tr>
<tr class="even">
<td align="left"><code>select()</code></td>
<td align="left">Atributos</td>
<td align="left">Selecionar colunas da tabela de atributos</td>
</tr>
<tr class="odd">
<td align="left"><code>pull()</code></td>
<td align="left">Atributos</td>
<td align="left">Selecionar uma coluna da tabela de atributos como vetor</td>
</tr>
<tr class="even">
<td align="left"><code>rename()</code></td>
<td align="left">Atributos</td>
<td align="left">Renomear uma coluna da tabela de atributos</td>
</tr>
<tr class="odd">
<td align="left"><code>mutate()</code></td>
<td align="left">Atributos</td>
<td align="left">Criar uma coluna ou alterar os valores da tabela de atributos</td>
</tr>
<tr class="even">
<td align="left"><code>*_join()</code></td>
<td align="left">Atributos</td>
<td align="left">Diversas funções para juntar dados de outras tabelas de dados à tabela de atributos</td>
</tr>
</tbody>
</table>
<p>Vamos iniciar fazendo o <strong>filtro de feições pela tabela de atributos</strong>, que permite selecionar feições pelos seus valores atribuídos, utilizando a função <code>dplyr::filter()</code>. Aqui vamos selecionar as feições de floresta do mapa de cobertura da terra para Rio Claro/SP (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-opat-filtro">16.17</a>).</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filtro</span></span>
<span id="cb123-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb123-2" aria-hidden="true" tabindex="-1"></a>rc_cob_floresta <span class="ot">&lt;-</span> rc_cob <span class="sc">%&gt;%</span> </span>
<span id="cb123-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb123-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(CLASSE_USO <span class="sc">==</span> <span class="st">&quot;formação florestal&quot;</span>)</span>
<span id="cb123-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb123-4" aria-hidden="true" tabindex="-1"></a>rc_cob_floresta</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 6 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 215442.4 ymin: 7504235 xmax: 246282.3 ymax: 7537969
## projected CRS:  SIRGAS 2000 / UTM zone 23S
##   GEOCODIGO MUNICIPIO UF CD_UF         CLASSE_USO AREA_HA
## 1   3543907 RIO CLARO SP    35 formação florestal 7017.99
##                         geometry
## 1 MULTIPOLYGON (((232355 7504...</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019_sirgas2000_utm23s<span class="sc">$</span>geom, <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span>
<span id="cb125-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_cob_floresta<span class="sc">$</span>geometry, <span class="at">col =</span> <span class="st">&quot;forestgreen&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-opat-filtro"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-opat-filtro-1.png" alt="Filtro da classe floresta para o mapeamento de cobertura da terra para o município de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.17: Filtro da classe floresta para o mapeamento de cobertura da terra para o município de Rio Claro/SP.
</p>
</div>
<p>Acreditamos que uma das funções mais úteis das operações de atributos seja a <strong>junção</strong>, referida em inglês como <em>join</em>, através das funções <code>dplyr::*_join()</code>. Nela, usamos uma coluna <strong>identificadora</strong> para <strong>atribuir dados de outra tabela de dados</strong>. Como exemplo, vamos criar uma tabela de dados e atribuir esses novos nomes de cobertura da terra à tabela de atributos do objeto vetorial.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dados</span></span>
<span id="cb126-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb126-2" aria-hidden="true" tabindex="-1"></a>da_classes <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(<span class="at">CLASSE_USO =</span> rc_cob<span class="sc">$</span>CLASSE_USO, </span>
<span id="cb126-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb126-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">classe =</span> <span class="fu">c</span>(<span class="st">&quot;agua&quot;</span>, <span class="st">&quot;antropico&quot;</span>, <span class="st">&quot;edificado&quot;</span>, <span class="st">&quot;floresta&quot;</span>, <span class="st">&quot;silvicultura&quot;</span>))</span>
<span id="cb126-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb126-4" aria-hidden="true" tabindex="-1"></a>da_classes</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   CLASSE_USO         classe      
##   &lt;chr&gt;              &lt;chr&gt;       
## 1 água               agua        
## 2 área antropizada   antropico   
## 3 área edificada     edificado   
## 4 formação florestal floresta    
## 5 silvicultura       silvicultura</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># juncao</span></span>
<span id="cb128-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb128-2" aria-hidden="true" tabindex="-1"></a>rc_cob_classes <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(rc_cob, da_classes, <span class="at">by =</span> <span class="st">&quot;CLASSE_USO&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb128-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb128-3" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>()</span>
<span id="cb128-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb128-4" aria-hidden="true" tabindex="-1"></a>rc_cob_classes</span></code></pre></div>
<pre><code>##   GEOCODIGO MUNICIPIO UF CD_UF         CLASSE_USO   AREA_HA       classe
## 1   3543907 RIO CLARO SP    35               água   357.027         agua
## 2   3543907 RIO CLARO SP    35   área antropizada 37297.800    antropico
## 3   3543907 RIO CLARO SP    35     área edificada  5078.330    edificado
## 4   3543907 RIO CLARO SP    35 formação florestal  7017.990     floresta
## 5   3543907 RIO CLARO SP    35       silvicultura   138.173 silvicultura</code></pre>
<p>Outra função bastante útil é a <strong>agregação de atributos</strong>. Apesar de existir uma função que realiza a <strong>união de feições</strong>, a junção das funções <code>dplyr::group_by()</code> e <code>dplyr::summarise()</code> realizam uma tarefa semelhante. Aqui vamos agregar as nascentes para Rio Claro/SP, i.e., juntar cada ponto que estava numa linha da tabela de atributos de modo que todos fiquem numa mesma linha, com o valor da quantidade de nascentes (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-vetor-opat-agregar">16.18</a>).</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># agregar</span></span>
<span id="cb130-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb130-2" aria-hidden="true" tabindex="-1"></a>rc_nas_n <span class="ot">&lt;-</span> rc_nas <span class="sc">%&gt;%</span> </span>
<span id="cb130-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb130-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(MUNICIPIO, HIDRO) <span class="sc">%&gt;%</span> </span>
<span id="cb130-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb130-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb130-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb130-5" aria-hidden="true" tabindex="-1"></a>rc_nas_n</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 3 fields
## geometry type:  MULTIPOINT
## dimension:      XY
## bbox:           xmin: 217622.9 ymin: 7504132 xmax: 246367.4 ymax: 7537855
## projected CRS:  SIRGAS 2000 / UTM zone 23S
## # A tibble: 1 x 4
## # Groups:   MUNICIPIO [1]
##   MUNICIPIO HIDRO       n                                               geometry
##   &lt;chr&gt;     &lt;chr&gt;   &lt;int&gt;                                       &lt;MULTIPOINT [m]&gt;
## 1 RIO CLARO nascen…  1220 ((217622.9 7528315), (217836.5 7528103), (217988.9 75…</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_2019_sirgas2000_utm23s<span class="sc">$</span>geom, <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">main =</span> <span class="cn">NA</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>, <span class="at">graticule =</span> <span class="cn">TRUE</span>)</span>
<span id="cb132-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rc_nas_n<span class="sc">$</span>geometry, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-vetor-opat-agregar"></span>
<img src="livro_r_ecologia_files/figure-html/fig-vetor-opat-agregar-1.png" alt="Agregação das nascentes para o município de Rio Claro/SP." width="672" />
<p class="caption">
Figura 16.18: Agregação das nascentes para o município de Rio Claro/SP.
</p>
</div>
<p>Por fim, é muito comum em análises de softwares SIG a <strong>criação de novas colunas na tabela de atributos</strong>. Aqui, podemos utilizar a função <code>dplyr::mutate()</code> para criar essas novas colunas, assim como atualizar os valores de colunas existentes. Em nosso exemplo, iremos fazer uma composição das colunas <strong>CLASSE_USO</strong> e <strong>AREA_HA</strong> na coluna <strong>classe_area</strong>.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># criar coluna</span></span>
<span id="cb133-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb133-2" aria-hidden="true" tabindex="-1"></a>rc_use_cob_area <span class="ot">&lt;-</span> rc_cob <span class="sc">%&gt;%</span> </span>
<span id="cb133-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb133-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">classe_area =</span> <span class="fu">paste0</span>(CLASSE_USO, <span class="st">&quot; (&quot;</span>, AREA_HA, <span class="st">&quot; ha)&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb133-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb133-4" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>()</span>
<span id="cb133-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb133-5" aria-hidden="true" tabindex="-1"></a>rc_use_cob_area</span></code></pre></div>
<pre><code>##   GEOCODIGO MUNICIPIO UF CD_UF         CLASSE_USO   AREA_HA
## 1   3543907 RIO CLARO SP    35               água   357.027
## 2   3543907 RIO CLARO SP    35   área antropizada 37297.800
## 3   3543907 RIO CLARO SP    35     área edificada  5078.330
## 4   3543907 RIO CLARO SP    35 formação florestal  7017.990
## 5   3543907 RIO CLARO SP    35       silvicultura   138.173
##                       classe_area
## 1               água (357.027 ha)
## 2   área antropizada (37297.8 ha)
## 3     área edificada (5078.33 ha)
## 4 formação florestal (7017.99 ha)
## 5       silvicultura (138.173 ha)</code></pre>
</div>
<div id="raster-3" class="section level4" number="16.5.1.2">
<h4><span class="header-section-number">16.5.1.2</span> Raster</h4>
<p>Devido à <strong>estrutura espacial</strong> do rater ser <strong>formada por uma ou mais superfícies contínuas</strong>, as manipulações como subconjunto e outras operações em objetos raster funcionam de uma maneira diferente do que em objetos vetoriais. Veremos aqui as três principais: 1) subconjunto de células usando o operador <code>[]</code>, já para subconjunto de camadas <code>RasterStack</code> ou <code>RasterBrick</code> podemos utilizar funções ou os operadores <code>[[]]</code> e <code>$</code>, 2) renomear nomes das camdas, e 3) resumir informações de todos os pixels.</p>
<p>Podemos fazer um <strong>subconjunto de células</strong> utilizando dentro dos operadores <code>[]</code> valores para indicar a <strong>posição da linha e coluna de um raster</strong>, ou ainda a <strong>posição de uma célula</strong> utilizando apenas um número. Essas operações resultarão em valores diferentes para <code>RasterLayer</code> e <code>RasterBrick</code> ou <code>RasterStack</code>.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># raster - linha 1 e columna 1</span></span>
<span id="cb135-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb135-2" aria-hidden="true" tabindex="-1"></a>ra[<span class="dv">1</span>, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>##     
## 382</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># celula 1</span></span>
<span id="cb137-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb137-2" aria-hidden="true" tabindex="-1"></a>ra[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##     
## 382</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stack - linha 1 e columna 1</span></span>
<span id="cb139-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb139-2" aria-hidden="true" tabindex="-1"></a>st[<span class="dv">1</span>, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>##      wc2.1_10m_bio_1 wc2.1_10m_bio_10 wc2.1_10m_bio_11 wc2.1_10m_bio_12
## [1,]              NA               NA               NA               NA
##      wc2.1_10m_bio_13 wc2.1_10m_bio_14 wc2.1_10m_bio_15 wc2.1_10m_bio_16
## [1,]               NA               NA               NA               NA
##      wc2.1_10m_bio_17 wc2.1_10m_bio_18 wc2.1_10m_bio_19 wc2.1_10m_bio_2
## [1,]               NA               NA               NA              NA
##      wc2.1_10m_bio_3 wc2.1_10m_bio_4 wc2.1_10m_bio_5 wc2.1_10m_bio_6
## [1,]              NA              NA              NA              NA
##      wc2.1_10m_bio_7 wc2.1_10m_bio_8 wc2.1_10m_bio_9
## [1,]              NA              NA              NA</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># celula 1</span></span>
<span id="cb141-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb141-2" aria-hidden="true" tabindex="-1"></a>st[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##      wc2.1_10m_bio_1 wc2.1_10m_bio_10 wc2.1_10m_bio_11 wc2.1_10m_bio_12
## [1,]              NA               NA               NA               NA
##      wc2.1_10m_bio_13 wc2.1_10m_bio_14 wc2.1_10m_bio_15 wc2.1_10m_bio_16
## [1,]               NA               NA               NA               NA
##      wc2.1_10m_bio_17 wc2.1_10m_bio_18 wc2.1_10m_bio_19 wc2.1_10m_bio_2
## [1,]               NA               NA               NA              NA
##      wc2.1_10m_bio_3 wc2.1_10m_bio_4 wc2.1_10m_bio_5 wc2.1_10m_bio_6
## [1,]              NA              NA              NA              NA
##      wc2.1_10m_bio_7 wc2.1_10m_bio_8 wc2.1_10m_bio_9
## [1,]              NA              NA              NA</code></pre>
<p>Para <strong>selecionar uma camada</strong> de um <code>RasterBrick</code> ou <code>RasterStack</code> podemos utilizar as funções <code>raster::subset()</code> ou <code>raster::raster()</code> com o argumento <strong>layer</strong> indicando a ordem ou o nome da camada, além dos operadores <code>[[]]</code> e <code>$</code> (Figura <a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#fig:fig-raster-stack-subset">16.19</a>).</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecao de camada num objeto stack utilizando a funcao subset</span></span>
<span id="cb143-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb143-2" aria-hidden="true" tabindex="-1"></a>st_bio01 <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">subset</span>(st, <span class="st">&quot;wc2.1_10m_bio_1&quot;</span>)</span>
<span id="cb143-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb143-3" aria-hidden="true" tabindex="-1"></a>st_bio01</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 1080, 2160, 2332800  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/wc2.1_10m_bio_1.tif 
## names      : wc2.1_10m_bio_1 
## values     : -54.72435, 30.98764  (min, max)</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecao de camada num objeto stack utilizando a funcao raster</span></span>
<span id="cb145-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb145-2" aria-hidden="true" tabindex="-1"></a>st_bio01 <span class="ot">&lt;-</span> raster<span class="sc">::</span><span class="fu">raster</span>(st, <span class="at">layer =</span> <span class="dv">1</span>)</span>
<span id="cb145-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb145-3" aria-hidden="true" tabindex="-1"></a>st_bio01</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 1080, 2160, 2332800  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/wc2.1_10m_bio_1.tif 
## names      : wc2.1_10m_bio_1 
## values     : -54.72435, 30.98764  (min, max)</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecao de camada num objeto stack utilizando os operadores [[]] e o nome</span></span>
<span id="cb147-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb147-2" aria-hidden="true" tabindex="-1"></a>st_bio01 <span class="ot">&lt;-</span> st[[<span class="st">&quot;wc2.1_10m_bio_1&quot;</span>]]</span>
<span id="cb147-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb147-3" aria-hidden="true" tabindex="-1"></a>st_bio01</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 1080, 2160, 2332800  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/wc2.1_10m_bio_1.tif 
## names      : wc2.1_10m_bio_1 
## values     : -54.72435, 30.98764  (min, max)</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecao de camada num objeto stack utilizando os operadores [[]] e a posicao</span></span>
<span id="cb149-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb149-2" aria-hidden="true" tabindex="-1"></a>st_bio01 <span class="ot">&lt;-</span> st[[<span class="dv">1</span>]]</span>
<span id="cb149-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb149-3" aria-hidden="true" tabindex="-1"></a>st_bio01</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 1080, 2160, 2332800  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/wc2.1_10m_bio_1.tif 
## names      : wc2.1_10m_bio_1 
## values     : -54.72435, 30.98764  (min, max)</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecao de camada num objeto stack utilizando o operador $</span></span>
<span id="cb151-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb151-2" aria-hidden="true" tabindex="-1"></a>st_bio01 <span class="ot">&lt;-</span> st<span class="sc">$</span>wc2<span class="fl">.1</span>_10m_bio_1</span>
<span id="cb151-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb151-3" aria-hidden="true" tabindex="-1"></a>st_bio01</span></code></pre></div>
<pre><code>## class      : RasterLayer 
## dimensions : 1080, 2160, 2332800  (nrow, ncol, ncell)
## resolution : 0.1666667, 0.1666667  (x, y)
## extent     : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
## crs        : +proj=longlat +datum=WGS84 +no_defs 
## source     : /home/mude/data/github/livro_r_ecologia/dados/raster/wc2.1_10m_bio_1.tif 
## names      : wc2.1_10m_bio_1 
## values     : -54.72435, 30.98764  (min, max)</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb153-1" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">plot</span>(st_bio01, <span class="at">col =</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">10</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-raster-stack-subset"></span>
<img src="livro_r_ecologia_files/figure-html/fig-raster-stack-subset-1.png" alt="Camada BIO01 selecionada pelas operações de subconjunto acima do stack de variáveis bioclimáticas." width="672" />
<p class="caption">
Figura 16.19: Camada BIO01 selecionada pelas operações de subconjunto acima do stack de variáveis bioclimáticas.
</p>
</div>
<p>Podemos ainda <strong>renomear camadas</strong> dos raster <code>StackLayer</code> utilizando a função <code>names()</code>.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes</span></span>
<span id="cb154-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ra_rc)</span></code></pre></div>
<pre><code>## [1] &quot;srtm_27_17&quot;</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># renomear</span></span>
<span id="cb156-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ra_rc) <span class="ot">&lt;-</span> <span class="st">&quot;elevacao&quot;</span></span>
<span id="cb156-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb156-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes</span></span>
<span id="cb156-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ra_rc)</span></code></pre></div>
<pre><code>## [1] &quot;elevacao&quot;</code></pre>
<p>E essa operação também funciona para <code>StackBrick</code> e <code>StackStack</code>.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes</span></span>
<span id="cb158-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(st)</span></code></pre></div>
<pre><code>##  [1] &quot;wc2.1_10m_bio_1&quot;  &quot;wc2.1_10m_bio_10&quot; &quot;wc2.1_10m_bio_11&quot; &quot;wc2.1_10m_bio_12&quot;
##  [5] &quot;wc2.1_10m_bio_13&quot; &quot;wc2.1_10m_bio_14&quot; &quot;wc2.1_10m_bio_15&quot; &quot;wc2.1_10m_bio_16&quot;
##  [9] &quot;wc2.1_10m_bio_17&quot; &quot;wc2.1_10m_bio_18&quot; &quot;wc2.1_10m_bio_19&quot; &quot;wc2.1_10m_bio_2&quot; 
## [13] &quot;wc2.1_10m_bio_3&quot;  &quot;wc2.1_10m_bio_4&quot;  &quot;wc2.1_10m_bio_5&quot;  &quot;wc2.1_10m_bio_6&quot; 
## [17] &quot;wc2.1_10m_bio_7&quot;  &quot;wc2.1_10m_bio_8&quot;  &quot;wc2.1_10m_bio_9&quot;</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># renomear</span></span>
<span id="cb160-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(st) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bio01&quot;</span>, <span class="fu">paste0</span>(<span class="st">&quot;bio&quot;</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">19</span>), <span class="fu">paste0</span>(<span class="st">&quot;bio0&quot;</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>))</span>
<span id="cb160-3"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb160-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-4"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co"># nomes</span></span>
<span id="cb160-5"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb160-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(st)</span></code></pre></div>
<pre><code>##  [1] &quot;bio01&quot; &quot;bio10&quot; &quot;bio11&quot; &quot;bio12&quot; &quot;bio13&quot; &quot;bio14&quot; &quot;bio15&quot; &quot;bio16&quot; &quot;bio17&quot;
## [10] &quot;bio18&quot; &quot;bio19&quot; &quot;bio02&quot; &quot;bio03&quot; &quot;bio04&quot; &quot;bio05&quot; &quot;bio06&quot; &quot;bio07&quot; &quot;bio08&quot;
## [19] &quot;bio09&quot;</code></pre>
<p>Muitas vezes queremos fazer <strong>cálculos</strong> para todos as células de um raster. Podemos <strong>resumir informações de todos os pixels</strong> fazendo cálculos simples com todos os pixels de cada camada com a função <code>raster::cellStats()</code>, sendo x <strong>x</strong> o argumento do objeto raster e <strong>stat</strong> o nome da função resumo, como “mean” ou “sum.”</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># media de todas as celulas de altitude</span></span>
<span id="cb162-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb162-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">cellStats</span>(<span class="at">x =</span> ra_rc, <span class="at">stat =</span> mean)</span></code></pre></div>
<pre><code>## [1] 625.8273</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># media de todas as celulas de cada camada bioclimatica</span></span>
<span id="cb164-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb164-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">cellStats</span>(<span class="at">x =</span> st, <span class="at">stat =</span> mean)</span></code></pre></div>
<pre><code>##       bio01       bio10       bio11       bio12       bio13       bio14 
##  -4.0378283   7.2035545 -13.8963286 550.0569022  93.4633916  15.3689993 
##       bio15       bio16       bio17       bio18       bio19       bio02 
##  74.7084151 241.6525005  55.4149542 156.4237816 108.8950626   9.9432120 
##       bio03       bio04       bio05       bio06       bio07       bio08 
##  34.5221528 880.1215546  13.9386423 -19.7938943  33.7325366  -0.9226276 
##       bio09 
##  -5.3774489</code></pre>
<p>Ou ainda, podemos analisar a <strong>frequência com que cada valor dos pixels</strong>, utilizand a função <code>raster::freq()</code>.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># frequencia das celulas</span></span>
<span id="cb166-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb166-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">freq</span>(<span class="at">x =</span> ra_rc) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##      value count
## [1,]   491     1
## [2,]   492     4
## [3,]   493     9
## [4,]   494    19
## [5,]   495    32
## [6,]   496    44</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># frequencia das celulas</span></span>
<span id="cb168-2"><a href="r-tab-crs-r-echofalse-crs-data-rgdalmake-epsg-knitrkabletibbletibble-headcrs-data-caption-projeções-disponíveis-no-r-com-informações-dos-códigos-epsg-note-e-proj4string-prj4-.html#cb168-2" aria-hidden="true" tabindex="-1"></a>raster<span class="sc">::</span><span class="fu">freq</span>(<span class="at">x =</span> st[[<span class="dv">1</span>]]) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##      value count
## [1,]   -55   319
## [2,]   -54  4529
## [3,]   -53  5778
## [4,]   -52  6128
## [5,]   -51  6090
## [6,]   -50  7892</code></pre>
</div>
</div>
<div id="operações-espaciais" class="section level3" number="16.5.2">
<h3><span class="header-section-number">16.5.2</span> Operações espaciais</h3>
<div id="vetor-4" class="section level4" number="16.5.2.1">
<h4><span class="header-section-number">16.5.2.1</span> Vetor</h4>
</div>
<div id="raster-4" class="section level4" number="16.5.2.2">
<h4><span class="header-section-number">16.5.2.2</span> Raster</h4>
</div>
</div>
<div id="operações-geométricas" class="section level3" number="16.5.3">
<h3><span class="header-section-number">16.5.3</span> Operações geométricas</h3>
<div id="vetor-5" class="section level4" number="16.5.3.1">
<h4><span class="header-section-number">16.5.3.1</span> Vetor</h4>
</div>
<div id="raster-5" class="section level4" number="16.5.3.2">
<h4><span class="header-section-number">16.5.3.2</span> Raster</h4>
</div>
</div>
</div>
<div id="visualização-de-dados-geográficos---mapas" class="section level2" number="16.6">
<h2><span class="header-section-number">16.6</span> Visualização de dados geográficos - Mapas</h2>
<div id="graphics" class="section level3" number="16.6.1">
<h3><span class="header-section-number">16.6.1</span> graphics</h3>
</div>
<div id="ggplot2" class="section level3" number="16.6.2">
<h3><span class="header-section-number">16.6.2</span> ggplot2</h3>
</div>
<div id="tmap" class="section level3" number="16.6.3">
<h3><span class="header-section-number">16.6.3</span> tmap</h3>
</div>
<div id="leaflet" class="section level3" number="16.6.4">
<h3><span class="header-section-number">16.6.4</span> leaflet</h3>
</div>
<div id="outros-pacotes" class="section level3" number="16.6.5">
<h3><span class="header-section-number">16.6.5</span> Outros pacotes</h3>
</div>
</div>
<div id="exemplos-de-aplicações-de-análises-geográficas-para-dados-ecológicos" class="section level2" number="16.7">
<h2><span class="header-section-number">16.7</span> Exemplos de aplicações de análises geográficas para dados ecológicos</h2>
<div id="download-e-extração-de-dados-climáticos-para-pontos" class="section level3" number="16.7.1">
<h3><span class="header-section-number">16.7.1</span> Download e extração de dados climáticos para pontos</h3>
<p>Download e extração de dados climáticos de bases online</p>
</div>
<div id="resumir-informações-de-biodiversidade-para-unidades-espaciais" class="section level3" number="16.7.2">
<h3><span class="header-section-number">16.7.2</span> Resumir informações de biodiversidade para unidades espaciais</h3>
</div>
<div id="predições-espaciais-de-objetos-raster" class="section level3" number="16.7.3">
<h3><span class="header-section-number">16.7.3</span> Predições espaciais de objetos raster</h3>
<p>Para se aprofundar:</p>
<p>Lovelace, Nowosad &amp; Muenchow (2019) Geocomputation with R</p>
<p>Mas et al. (2019) Análise espacial com R</p>
<p>Pebesma &amp; Bivand (2020) Spatial Data Science. Link: <a href="https://keen-swartz-3146c4.netlify.app/" class="uri">https://keen-swartz-3146c4.netlify.app/</a></p>
<p>Brunsdon &amp; Comber (2019) An Introduction to R for Spatial Analysis and Mapping</p>
<p>Wegmann, Leutner &amp; Dech (2016) Remote Sensing and GIS for Ecologists: Using Open Source Software</p>
<p>Wegmann, Schwalb-Willmann &amp; Dech (2020) An Introduction to Spatial Data Analysis Remote Sensing and GIS with Open Source Software.</p>
<p>Moraga, Paula (2019) Geospatial Health Data: Modeling and Visualization with R-INLA and Shiny. Chapman &amp; Hall/CRC Biostatistics Series</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dados-geograficos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reprodutibilidade-em-pesquisa-e-gerenciamento-de-dados.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/paternogbc/livro_r_ecologia/edit/master/14_visualizacao_dados_geoespaciais.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["livro_r_ecologia.pdf", "livro_r_ecologia.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
